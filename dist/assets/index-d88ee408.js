function fT(t,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lx={exports:{}},ad={},Dx={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Symbol.for("react.element"),pT=Symbol.for("react.portal"),gT=Symbol.for("react.fragment"),mT=Symbol.for("react.strict_mode"),vT=Symbol.for("react.profiler"),yT=Symbol.for("react.provider"),wT=Symbol.for("react.context"),xT=Symbol.for("react.forward_ref"),ST=Symbol.for("react.suspense"),bT=Symbol.for("react.memo"),CT=Symbol.for("react.lazy"),l0=Symbol.iterator;function _T(t){return t===null||typeof t!="object"?null:(t=l0&&t[l0]||t["@@iterator"],typeof t=="function"?t:null)}var Mx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jx=Object.assign,$x={};function wa(t,e,r){this.props=t,this.context=e,this.refs=$x,this.updater=r||Mx}wa.prototype.isReactComponent={};wa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fx(){}Fx.prototype=wa.prototype;function ym(t,e,r){this.props=t,this.context=e,this.refs=$x,this.updater=r||Mx}var wm=ym.prototype=new Fx;wm.constructor=ym;jx(wm,wa.prototype);wm.isPureReactComponent=!0;var u0=Array.isArray,Ux=Object.prototype.hasOwnProperty,xm={current:null},Bx={key:!0,ref:!0,__self:!0,__source:!0};function zx(t,e,r){var i,s={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Ux.call(e,i)&&!Bx.hasOwnProperty(i)&&(s[i]=e[i]);var u=arguments.length-2;if(u===1)s.children=r;else if(1<u){for(var h=Array(u),d=0;d<u;d++)h[d]=arguments[d+2];s.children=h}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)s[i]===void 0&&(s[i]=u[i]);return{$$typeof:mu,type:t,key:o,ref:a,props:s,_owner:xm.current}}function ET(t,e){return{$$typeof:mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sm(t){return typeof t=="object"&&t!==null&&t.$$typeof===mu}function kT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var c0=/\/+/g;function Of(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kT(""+t.key):e.toString(36)}function Lc(t,e,r,i,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case mu:case pT:a=!0}}if(a)return a=t,s=s(a),t=i===""?"."+Of(a,0):i,u0(s)?(r="",t!=null&&(r=t.replace(c0,"$&/")+"/"),Lc(s,e,r,"",function(d){return d})):s!=null&&(Sm(s)&&(s=ET(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(c0,"$&/")+"/")+t)),e.push(s)),1;if(a=0,i=i===""?".":i+":",u0(t))for(var u=0;u<t.length;u++){o=t[u];var h=i+Of(o,u);a+=Lc(o,e,r,h,s)}else if(h=_T(t),typeof h=="function")for(t=h.call(t),u=0;!(o=t.next()).done;)o=o.value,h=i+Of(o,u++),a+=Lc(o,e,r,h,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function nc(t,e,r){if(t==null)return t;var i=[],s=0;return Lc(t,i,"","",function(o){return e.call(r,o,s++)}),i}function TT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jn={current:null},Dc={transition:null},IT={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:Dc,ReactCurrentOwner:xm};We.Children={map:nc,forEach:function(t,e,r){nc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return nc(t,function(){e++}),e},toArray:function(t){return nc(t,function(e){return e})||[]},only:function(t){if(!Sm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};We.Component=wa;We.Fragment=gT;We.Profiler=vT;We.PureComponent=ym;We.StrictMode=mT;We.Suspense=ST;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IT;We.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=jx({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=xm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)Ux.call(e,h)&&!Bx.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=r;else if(1<h){u=Array(h);for(var d=0;d<h;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:mu,type:t.type,key:s,ref:o,props:i,_owner:a}};We.createContext=function(t){return t={$$typeof:wT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yT,_context:t},t.Consumer=t};We.createElement=zx;We.createFactory=function(t){var e=zx.bind(null,t);return e.type=t,e};We.createRef=function(){return{current:null}};We.forwardRef=function(t){return{$$typeof:xT,render:t}};We.isValidElement=Sm;We.lazy=function(t){return{$$typeof:CT,_payload:{_status:-1,_result:t},_init:TT}};We.memo=function(t,e){return{$$typeof:bT,type:t,compare:e===void 0?null:e}};We.startTransition=function(t){var e=Dc.transition;Dc.transition={};try{t()}finally{Dc.transition=e}};We.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};We.useCallback=function(t,e){return jn.current.useCallback(t,e)};We.useContext=function(t){return jn.current.useContext(t)};We.useDebugValue=function(){};We.useDeferredValue=function(t){return jn.current.useDeferredValue(t)};We.useEffect=function(t,e){return jn.current.useEffect(t,e)};We.useId=function(){return jn.current.useId()};We.useImperativeHandle=function(t,e,r){return jn.current.useImperativeHandle(t,e,r)};We.useInsertionEffect=function(t,e){return jn.current.useInsertionEffect(t,e)};We.useLayoutEffect=function(t,e){return jn.current.useLayoutEffect(t,e)};We.useMemo=function(t,e){return jn.current.useMemo(t,e)};We.useReducer=function(t,e,r){return jn.current.useReducer(t,e,r)};We.useRef=function(t){return jn.current.useRef(t)};We.useState=function(t){return jn.current.useState(t)};We.useSyncExternalStore=function(t,e,r){return jn.current.useSyncExternalStore(t,e,r)};We.useTransition=function(){return jn.current.useTransition()};We.version="18.2.0";Dx.exports=We;var D=Dx.exports;const Zt=vm(D),jp=fT({__proto__:null,default:Zt},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT=D,RT=Symbol.for("react.element"),AT=Symbol.for("react.fragment"),NT=Object.prototype.hasOwnProperty,OT=PT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LT={key:!0,ref:!0,__self:!0,__source:!0};function Vx(t,e,r){var i,s={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)NT.call(e,i)&&!LT.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:RT,type:t,key:o,ref:a,props:s,_owner:OT.current}}ad.Fragment=AT;ad.jsx=Vx;ad.jsxs=Vx;Lx.exports=ad;var p=Lx.exports,$p={},Gx={exports:{}},sr={},Hx={exports:{}},Wx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,j){var K=P.length;P.push(j);e:for(;0<K;){var Q=K-1>>>1,te=P[Q];if(0<s(te,j))P[Q]=j,P[K]=te,K=Q;else break e}}function r(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var j=P[0],K=P.pop();if(K!==j){P[0]=K;e:for(var Q=0,te=P.length,J=te>>>1;Q<J;){var re=2*(Q+1)-1,le=P[re],de=re+1,xe=P[de];if(0>s(le,K))de<te&&0>s(xe,le)?(P[Q]=xe,P[de]=K,Q=de):(P[Q]=le,P[re]=K,Q=re);else if(de<te&&0>s(xe,K))P[Q]=xe,P[de]=K,Q=de;else break e}}return j}function s(P,j){var K=P.sortIndex-j.sortIndex;return K!==0?K:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],d=[],g=1,v=null,w=3,O=!1,S=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(P){for(var j=r(d);j!==null;){if(j.callback===null)i(d);else if(j.startTime<=P)i(d),j.sortIndex=j.expirationTime,e(h,j);else break;j=r(d)}}function A(P){if(R=!1,k(P),!S)if(r(h)!==null)S=!0,q(_);else{var j=r(d);j!==null&&L(A,j.startTime-P)}}function _(P,j){S=!1,R&&(R=!1,x(V),V=-1),O=!0;var K=w;try{for(k(j),v=r(h);v!==null&&(!(v.expirationTime>j)||P&&!W());){var Q=v.callback;if(typeof Q=="function"){v.callback=null,w=v.priorityLevel;var te=Q(v.expirationTime<=j);j=t.unstable_now(),typeof te=="function"?v.callback=te:v===r(h)&&i(h),k(j)}else i(h);v=r(h)}if(v!==null)var J=!0;else{var re=r(d);re!==null&&L(A,re.startTime-j),J=!1}return J}finally{v=null,w=K,O=!1}}var F=!1,N=null,V=-1,X=5,U=-1;function W(){return!(t.unstable_now()-U<X)}function H(){if(N!==null){var P=t.unstable_now();U=P;var j=!0;try{j=N(!0,P)}finally{j?I():(F=!1,N=null)}}else F=!1}var I;if(typeof C=="function")I=function(){C(H)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=H,I=function(){G.postMessage(null)}}else I=function(){M(H,0)};function q(P){N=P,F||(F=!0,I())}function L(P,j){V=M(function(){P(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){S||O||(S=!0,q(_))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(P){switch(w){case 1:case 2:case 3:var j=3;break;default:j=w}var K=w;w=j;try{return P()}finally{w=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var K=w;w=P;try{return j()}finally{w=K}},t.unstable_scheduleCallback=function(P,j,K){var Q=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Q+K:Q):K=Q,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=K+te,P={id:g++,callback:j,priorityLevel:P,startTime:K,expirationTime:te,sortIndex:-1},K>Q?(P.sortIndex=K,e(d,P),r(h)===null&&P===r(d)&&(R?(x(V),V=-1):R=!0,L(A,K-Q))):(P.sortIndex=te,e(h,P),S||O||(S=!0,q(_))),P},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(P){var j=w;return function(){var K=w;w=j;try{return P.apply(this,arguments)}finally{w=K}}}})(Wx);Hx.exports=Wx;var DT=Hx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=D,rr=DT;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kx=new Set,Nl={};function to(t,e){Zo(t,e),Zo(t+"Capture",e)}function Zo(t,e){for(Nl[t]=e,t=0;t<e.length;t++)Kx.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,MT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h0={},d0={};function jT(t){return Fp.call(d0,t)?!0:Fp.call(h0,t)?!1:MT.test(t)?d0[t]=!0:(h0[t]=!0,!1)}function $T(t,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FT(t,e,r,i){if(e===null||typeof e>"u"||$T(t,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $n(t,e,r,i,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pn[t]=new $n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pn[e]=new $n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pn[t]=new $n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pn[t]=new $n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pn[t]=new $n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pn[t]=new $n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pn[t]=new $n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pn[t]=new $n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pn[t]=new $n(t,5,!1,t.toLowerCase(),null,!1,!1)});var bm=/[\-:]([a-z])/g;function Cm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bm,Cm);pn[e]=new $n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bm,Cm);pn[e]=new $n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bm,Cm);pn[e]=new $n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pn[t]=new $n(t,1,!1,t.toLowerCase(),null,!1,!1)});pn.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pn[t]=new $n(t,1,!1,t.toLowerCase(),null,!0,!0)});function _m(t,e,r,i){var s=pn.hasOwnProperty(e)?pn[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FT(e,r,s,i)&&(r=null),i||s===null?jT(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,i=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?t.setAttributeNS(i,e,r):t.setAttribute(e,r))))}var xi=qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rc=Symbol.for("react.element"),Eo=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),Em=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),Yx=Symbol.for("react.provider"),Xx=Symbol.for("react.context"),km=Symbol.for("react.forward_ref"),Bp=Symbol.for("react.suspense"),zp=Symbol.for("react.suspense_list"),Tm=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),Qx=Symbol.for("react.offscreen"),f0=Symbol.iterator;function Va(t){return t===null||typeof t!="object"?null:(t=f0&&t[f0]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,Lf;function rl(t){if(Lf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Lf=e&&e[1]||""}return`
`+Lf+t}var Df=!1;function Mf(t,e){if(!t||Df)return"";Df=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){i=d}t.call(e.prototype)}else{try{throw Error()}catch(d){i=d}t()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=i.stack.split(`
`),a=s.length-1,u=o.length-1;1<=a&&0<=u&&s[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(s[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||s[a]!==o[u]){var h=`
`+s[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=u);break}}}finally{Df=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?rl(t):""}function UT(t){switch(t.tag){case 5:return rl(t.type);case 16:return rl("Lazy");case 13:return rl("Suspense");case 19:return rl("SuspenseList");case 0:case 2:case 15:return t=Mf(t.type,!1),t;case 11:return t=Mf(t.type.render,!1),t;case 1:return t=Mf(t.type,!0),t;default:return""}}function Vp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ko:return"Fragment";case Eo:return"Portal";case Up:return"Profiler";case Em:return"StrictMode";case Bp:return"Suspense";case zp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xx:return(t.displayName||"Context")+".Consumer";case Yx:return(t._context.displayName||"Context")+".Provider";case km:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tm:return e=t.displayName||null,e!==null?e:Vp(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return Vp(t(e))}catch{}}return null}function BT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vp(e);case 8:return e===Em?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zT(t){var e=Jx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ic(t){t._valueTracker||(t._valueTracker=zT(t))}function Zx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return t&&(i=Jx(t)?t.checked?"true":"false":t.value),t=i,t!==r?(e.setValue(t),!0):!1}function ih(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gp(t,e){var r=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function p0(t,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=Xi(e.value!=null?e.value:r),t._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eS(t,e){e=e.checked,e!=null&&_m(t,"checked",e,!1)}function Hp(t,e){eS(t,e);var r=Xi(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wp(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wp(t,e.type,Xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g0(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wp(t,e,r){(e!=="number"||ih(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var il=Array.isArray;function Bo(t,e,r,i){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&i&&(t[r].defaultSelected=!0)}else{for(r=""+Xi(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function m0(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ae(92));if(il(r)){if(1<r.length)throw Error(ae(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Xi(r)}}function tS(t,e){var r=Xi(e.value),i=Xi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),i!=null&&(t.defaultValue=""+i)}function v0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sc,rS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sc=sc||document.createElement("div"),sc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ol(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VT=["Webkit","ms","Moz","O"];Object.keys(fl).forEach(function(t){VT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fl[e]=fl[t]})});function iS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||fl.hasOwnProperty(t)&&fl[t]?(""+e).trim():e+"px"}function sS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=iS(r,e[r],i);r==="float"&&(r="cssFloat"),i?t.setProperty(r,s):t[r]=s}}var GT=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yp(t,e){if(e){if(GT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Xp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qp=null;function Im(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jp=null,zo=null,Vo=null;function y0(t){if(t=wu(t)){if(typeof Jp!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=dd(e),Jp(t.stateNode,t.type,e))}}function oS(t){zo?Vo?Vo.push(t):Vo=[t]:zo=t}function aS(){if(zo){var t=zo,e=Vo;if(Vo=zo=null,y0(t),e)for(t=0;t<e.length;t++)y0(e[t])}}function lS(t,e){return t(e)}function uS(){}var jf=!1;function cS(t,e,r){if(jf)return t(e,r);jf=!0;try{return lS(t,e,r)}finally{jf=!1,(zo!==null||Vo!==null)&&(uS(),aS())}}function Ll(t,e){var r=t.stateNode;if(r===null)return null;var i=dd(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ae(231,e,typeof r));return r}var Zp=!1;if(di)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Zp=!1}function HT(t,e,r,i,s,o,a,u,h){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(g){this.onError(g)}}var pl=!1,sh=null,oh=!1,eg=null,WT={onError:function(t){pl=!0,sh=t}};function qT(t,e,r,i,s,o,a,u,h){pl=!1,sh=null,HT.apply(WT,arguments)}function KT(t,e,r,i,s,o,a,u,h){if(qT.apply(this,arguments),pl){if(pl){var d=sh;pl=!1,sh=null}else throw Error(ae(198));oh||(oh=!0,eg=d)}}function no(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function hS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w0(t){if(no(t)!==t)throw Error(ae(188))}function YT(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var r=t,i=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return w0(s),t;if(o===i)return w0(s),e;o=o.sibling}throw Error(ae(188))}if(r.return!==i.return)r=s,i=o;else{for(var a=!1,u=s.child;u;){if(u===r){a=!0,r=s,i=o;break}if(u===i){a=!0,i=s,r=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===r){a=!0,r=o,i=s;break}if(u===i){a=!0,i=o,r=s;break}u=u.sibling}if(!a)throw Error(ae(189))}}if(r.alternate!==i)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?t:e}function dS(t){return t=YT(t),t!==null?fS(t):null}function fS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fS(t);if(e!==null)return e;t=t.sibling}return null}var pS=rr.unstable_scheduleCallback,x0=rr.unstable_cancelCallback,XT=rr.unstable_shouldYield,QT=rr.unstable_requestPaint,At=rr.unstable_now,JT=rr.unstable_getCurrentPriorityLevel,Pm=rr.unstable_ImmediatePriority,gS=rr.unstable_UserBlockingPriority,ah=rr.unstable_NormalPriority,ZT=rr.unstable_LowPriority,mS=rr.unstable_IdlePriority,ld=null,Gr=null;function e2(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(ld,t,void 0,(t.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:r2,t2=Math.log,n2=Math.LN2;function r2(t){return t>>>=0,t===0?32:31-(t2(t)/n2|0)|0}var oc=64,ac=4194304;function sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lh(t,e){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var u=a&~s;u!==0?i=sl(u):(o&=a,o!==0&&(i=sl(o)))}else a=r&~s,a!==0?i=sl(a):o!==0&&(i=sl(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)r=31-Ir(e),s=1<<r,i|=t[r],e&=~s;return i}function i2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s2(t,e){for(var r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Ir(o),u=1<<a,h=s[a];h===-1?(!(u&r)||u&i)&&(s[a]=i2(u,e)):h<=e&&(t.expiredLanes|=u),o&=~u}}function tg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vS(){var t=oc;return oc<<=1,!(oc&4194240)&&(oc=64),t}function $f(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function vu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=r}function o2(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ir(r),o=1<<s;e[s]=0,i[s]=-1,t[s]=-1,r&=~o}}function Rm(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var i=31-Ir(r),s=1<<i;s&e|t[i]&e&&(t[i]|=e),r&=~s}}var rt=0;function yS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wS,Am,xS,SS,bS,ng=!1,lc=[],Fi=null,Ui=null,Bi=null,Dl=new Map,Ml=new Map,Pi=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S0(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":Dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(e.pointerId)}}function Ha(t,e,r,i,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=wu(e),e!==null&&Am(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function l2(t,e,r,i,s){switch(e){case"focusin":return Fi=Ha(Fi,t,e,r,i,s),!0;case"dragenter":return Ui=Ha(Ui,t,e,r,i,s),!0;case"mouseover":return Bi=Ha(Bi,t,e,r,i,s),!0;case"pointerover":var o=s.pointerId;return Dl.set(o,Ha(Dl.get(o)||null,t,e,r,i,s)),!0;case"gotpointercapture":return o=s.pointerId,Ml.set(o,Ha(Ml.get(o)||null,t,e,r,i,s)),!0}return!1}function CS(t){var e=Cs(t.target);if(e!==null){var r=no(e);if(r!==null){if(e=r.tag,e===13){if(e=hS(r),e!==null){t.blockedOn=e,bS(t.priority,function(){xS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=rg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);Qp=i,r.target.dispatchEvent(i),Qp=null}else return e=wu(r),e!==null&&Am(e),t.blockedOn=r,!1;e.shift()}return!0}function b0(t,e,r){Mc(t)&&r.delete(e)}function u2(){ng=!1,Fi!==null&&Mc(Fi)&&(Fi=null),Ui!==null&&Mc(Ui)&&(Ui=null),Bi!==null&&Mc(Bi)&&(Bi=null),Dl.forEach(b0),Ml.forEach(b0)}function Wa(t,e){t.blockedOn===e&&(t.blockedOn=null,ng||(ng=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,u2)))}function jl(t){function e(s){return Wa(s,t)}if(0<lc.length){Wa(lc[0],t);for(var r=1;r<lc.length;r++){var i=lc[r];i.blockedOn===t&&(i.blockedOn=null)}}for(Fi!==null&&Wa(Fi,t),Ui!==null&&Wa(Ui,t),Bi!==null&&Wa(Bi,t),Dl.forEach(e),Ml.forEach(e),r=0;r<Pi.length;r++)i=Pi[r],i.blockedOn===t&&(i.blockedOn=null);for(;0<Pi.length&&(r=Pi[0],r.blockedOn===null);)CS(r),r.blockedOn===null&&Pi.shift()}var Go=xi.ReactCurrentBatchConfig,uh=!0;function c2(t,e,r,i){var s=rt,o=Go.transition;Go.transition=null;try{rt=1,Nm(t,e,r,i)}finally{rt=s,Go.transition=o}}function h2(t,e,r,i){var s=rt,o=Go.transition;Go.transition=null;try{rt=4,Nm(t,e,r,i)}finally{rt=s,Go.transition=o}}function Nm(t,e,r,i){if(uh){var s=rg(t,e,r,i);if(s===null)Kf(t,e,i,ch,r),S0(t,i);else if(l2(s,t,e,r,i))i.stopPropagation();else if(S0(t,i),e&4&&-1<a2.indexOf(t)){for(;s!==null;){var o=wu(s);if(o!==null&&wS(o),o=rg(t,e,r,i),o===null&&Kf(t,e,i,ch,r),o===s)break;s=o}s!==null&&i.stopPropagation()}else Kf(t,e,i,null,r)}}var ch=null;function rg(t,e,r,i){if(ch=null,t=Im(i),t=Cs(t),t!==null)if(e=no(t),e===null)t=null;else if(r=e.tag,r===13){if(t=hS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ch=t,null}function _S(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JT()){case Pm:return 1;case gS:return 4;case ah:case ZT:return 16;case mS:return 536870912;default:return 16}default:return 16}}var Mi=null,Om=null,jc=null;function ES(){if(jc)return jc;var t,e=Om,r=e.length,i,s="value"in Mi?Mi.value:Mi.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(i=1;i<=a&&e[r-i]===s[o-i];i++);return jc=s.slice(t,1<i?1-i:void 0)}function $c(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uc(){return!0}function C0(){return!1}function or(t){function e(r,i,s,o,a){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?uc:C0,this.isPropagationStopped=C0,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),e}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lm=or(xa),yu=bt({},xa,{view:0,detail:0}),d2=or(yu),Ff,Uf,qa,ud=bt({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qa&&(qa&&t.type==="mousemove"?(Ff=t.screenX-qa.screenX,Uf=t.screenY-qa.screenY):Uf=Ff=0,qa=t),Ff)},movementY:function(t){return"movementY"in t?t.movementY:Uf}}),_0=or(ud),f2=bt({},ud,{dataTransfer:0}),p2=or(f2),g2=bt({},yu,{relatedTarget:0}),Bf=or(g2),m2=bt({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),v2=or(m2),y2=bt({},xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w2=or(y2),x2=bt({},xa,{data:0}),E0=or(x2),S2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C2[t])?!!e[t]:!1}function Dm(){return _2}var E2=bt({},yu,{key:function(t){if(t.key){var e=S2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$c(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dm,charCode:function(t){return t.type==="keypress"?$c(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$c(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k2=or(E2),T2=bt({},ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k0=or(T2),I2=bt({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dm}),P2=or(I2),R2=bt({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),A2=or(R2),N2=bt({},ud,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O2=or(N2),L2=[9,13,27,32],Mm=di&&"CompositionEvent"in window,gl=null;di&&"documentMode"in document&&(gl=document.documentMode);var D2=di&&"TextEvent"in window&&!gl,kS=di&&(!Mm||gl&&8<gl&&11>=gl),T0=String.fromCharCode(32),I0=!1;function TS(t,e){switch(t){case"keyup":return L2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var To=!1;function M2(t,e){switch(t){case"compositionend":return IS(e);case"keypress":return e.which!==32?null:(I0=!0,T0);case"textInput":return t=e.data,t===T0&&I0?null:t;default:return null}}function j2(t,e){if(To)return t==="compositionend"||!Mm&&TS(t,e)?(t=ES(),jc=Om=Mi=null,To=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kS&&e.locale!=="ko"?null:e.data;default:return null}}var $2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$2[t.type]:e==="textarea"}function PS(t,e,r,i){oS(i),e=hh(e,"onChange"),0<e.length&&(r=new Lm("onChange","change",null,r,i),t.push({event:r,listeners:e}))}var ml=null,$l=null;function F2(t){US(t,0)}function cd(t){var e=Ro(t);if(Zx(e))return t}function U2(t,e){if(t==="change")return e}var RS=!1;if(di){var zf;if(di){var Vf="oninput"in document;if(!Vf){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),Vf=typeof R0.oninput=="function"}zf=Vf}else zf=!1;RS=zf&&(!document.documentMode||9<document.documentMode)}function A0(){ml&&(ml.detachEvent("onpropertychange",AS),$l=ml=null)}function AS(t){if(t.propertyName==="value"&&cd($l)){var e=[];PS(e,$l,t,Im(t)),cS(F2,e)}}function B2(t,e,r){t==="focusin"?(A0(),ml=e,$l=r,ml.attachEvent("onpropertychange",AS)):t==="focusout"&&A0()}function z2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cd($l)}function V2(t,e){if(t==="click")return cd(e)}function G2(t,e){if(t==="input"||t==="change")return cd(e)}function H2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rr=typeof Object.is=="function"?Object.is:H2;function Fl(t,e){if(Rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!Fp.call(e,s)||!Rr(t[s],e[s]))return!1}return!0}function N0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function O0(t,e){var r=N0(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=e&&i>=e)return{node:r,offset:e-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=N0(r)}}function NS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?NS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OS(){for(var t=window,e=ih();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ih(t.document)}return e}function jm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W2(t){var e=OS(),r=t.focusedElem,i=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&NS(r.ownerDocument.documentElement,r)){if(i!==null&&jm(r)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!t.extend&&o>i&&(s=i,i=o,o=s),s=O0(r,o);var a=O0(r,i);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var q2=di&&"documentMode"in document&&11>=document.documentMode,Io=null,ig=null,vl=null,sg=!1;function L0(t,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sg||Io==null||Io!==ih(i)||(i=Io,"selectionStart"in i&&jm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),vl&&Fl(vl,i)||(vl=i,i=hh(ig,"onSelect"),0<i.length&&(e=new Lm("onSelect","select",null,e,r),t.push({event:e,listeners:i}),e.target=Io)))}function cc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Po={animationend:cc("Animation","AnimationEnd"),animationiteration:cc("Animation","AnimationIteration"),animationstart:cc("Animation","AnimationStart"),transitionend:cc("Transition","TransitionEnd")},Gf={},LS={};di&&(LS=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function hd(t){if(Gf[t])return Gf[t];if(!Po[t])return t;var e=Po[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in LS)return Gf[t]=e[r];return t}var DS=hd("animationend"),MS=hd("animationiteration"),jS=hd("animationstart"),$S=hd("transitionend"),FS=new Map,D0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(t,e){FS.set(t,e),to(e,[t])}for(var Hf=0;Hf<D0.length;Hf++){var Wf=D0[Hf],K2=Wf.toLowerCase(),Y2=Wf[0].toUpperCase()+Wf.slice(1);ns(K2,"on"+Y2)}ns(DS,"onAnimationEnd");ns(MS,"onAnimationIteration");ns(jS,"onAnimationStart");ns("dblclick","onDoubleClick");ns("focusin","onFocus");ns("focusout","onBlur");ns($S,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function M0(t,e,r){var i=t.type||"unknown-event";t.currentTarget=r,KT(i,e,void 0,t),t.currentTarget=null}function US(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var u=i[a],h=u.instance,d=u.currentTarget;if(u=u.listener,h!==o&&s.isPropagationStopped())break e;M0(s,u,d),o=h}else for(a=0;a<i.length;a++){if(u=i[a],h=u.instance,d=u.currentTarget,u=u.listener,h!==o&&s.isPropagationStopped())break e;M0(s,u,d),o=h}}}if(oh)throw t=eg,oh=!1,eg=null,t}function ct(t,e){var r=e[cg];r===void 0&&(r=e[cg]=new Set);var i=t+"__bubble";r.has(i)||(BS(e,t,2,!1),r.add(i))}function qf(t,e,r){var i=0;e&&(i|=4),BS(r,t,i,e)}var hc="_reactListening"+Math.random().toString(36).slice(2);function Ul(t){if(!t[hc]){t[hc]=!0,Kx.forEach(function(r){r!=="selectionchange"&&(X2.has(r)||qf(r,!1,t),qf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hc]||(e[hc]=!0,qf("selectionchange",!1,e))}}function BS(t,e,r,i){switch(_S(e)){case 1:var s=c2;break;case 4:s=h2;break;default:s=Nm}r=s.bind(null,e,r,t),s=void 0,!Zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Kf(t,e,r,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;a=a.return}for(;u!==null;){if(a=Cs(u),a===null)return;if(h=a.tag,h===5||h===6){i=o=a;continue e}u=u.parentNode}}i=i.return}cS(function(){var d=o,g=Im(r),v=[];e:{var w=FS.get(t);if(w!==void 0){var O=Lm,S=t;switch(t){case"keypress":if($c(r)===0)break e;case"keydown":case"keyup":O=k2;break;case"focusin":S="focus",O=Bf;break;case"focusout":S="blur",O=Bf;break;case"beforeblur":case"afterblur":O=Bf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=_0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=p2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=P2;break;case DS:case MS:case jS:O=v2;break;case $S:O=A2;break;case"scroll":O=d2;break;case"wheel":O=O2;break;case"copy":case"cut":case"paste":O=w2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=k0}var R=(e&4)!==0,M=!R&&t==="scroll",x=R?w!==null?w+"Capture":null:w;R=[];for(var C=d,k;C!==null;){k=C;var A=k.stateNode;if(k.tag===5&&A!==null&&(k=A,x!==null&&(A=Ll(C,x),A!=null&&R.push(Bl(C,A,k)))),M)break;C=C.return}0<R.length&&(w=new O(w,S,null,r,g),v.push({event:w,listeners:R}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",O=t==="mouseout"||t==="pointerout",w&&r!==Qp&&(S=r.relatedTarget||r.fromElement)&&(Cs(S)||S[fi]))break e;if((O||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,O?(S=r.relatedTarget||r.toElement,O=d,S=S?Cs(S):null,S!==null&&(M=no(S),S!==M||S.tag!==5&&S.tag!==6)&&(S=null)):(O=null,S=d),O!==S)){if(R=_0,A="onMouseLeave",x="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(R=k0,A="onPointerLeave",x="onPointerEnter",C="pointer"),M=O==null?w:Ro(O),k=S==null?w:Ro(S),w=new R(A,C+"leave",O,r,g),w.target=M,w.relatedTarget=k,A=null,Cs(g)===d&&(R=new R(x,C+"enter",S,r,g),R.target=k,R.relatedTarget=M,A=R),M=A,O&&S)t:{for(R=O,x=S,C=0,k=R;k;k=mo(k))C++;for(k=0,A=x;A;A=mo(A))k++;for(;0<C-k;)R=mo(R),C--;for(;0<k-C;)x=mo(x),k--;for(;C--;){if(R===x||x!==null&&R===x.alternate)break t;R=mo(R),x=mo(x)}R=null}else R=null;O!==null&&j0(v,w,O,R,!1),S!==null&&M!==null&&j0(v,M,S,R,!0)}}e:{if(w=d?Ro(d):window,O=w.nodeName&&w.nodeName.toLowerCase(),O==="select"||O==="input"&&w.type==="file")var _=U2;else if(P0(w))if(RS)_=G2;else{_=z2;var F=B2}else(O=w.nodeName)&&O.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(_=V2);if(_&&(_=_(t,d))){PS(v,_,r,g);break e}F&&F(t,w,d),t==="focusout"&&(F=w._wrapperState)&&F.controlled&&w.type==="number"&&Wp(w,"number",w.value)}switch(F=d?Ro(d):window,t){case"focusin":(P0(F)||F.contentEditable==="true")&&(Io=F,ig=d,vl=null);break;case"focusout":vl=ig=Io=null;break;case"mousedown":sg=!0;break;case"contextmenu":case"mouseup":case"dragend":sg=!1,L0(v,r,g);break;case"selectionchange":if(q2)break;case"keydown":case"keyup":L0(v,r,g)}var N;if(Mm)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else To?TS(t,r)&&(V="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(V="onCompositionStart");V&&(kS&&r.locale!=="ko"&&(To||V!=="onCompositionStart"?V==="onCompositionEnd"&&To&&(N=ES()):(Mi=g,Om="value"in Mi?Mi.value:Mi.textContent,To=!0)),F=hh(d,V),0<F.length&&(V=new E0(V,t,null,r,g),v.push({event:V,listeners:F}),N?V.data=N:(N=IS(r),N!==null&&(V.data=N)))),(N=D2?M2(t,r):j2(t,r))&&(d=hh(d,"onBeforeInput"),0<d.length&&(g=new E0("onBeforeInput","beforeinput",null,r,g),v.push({event:g,listeners:d}),g.data=N))}US(v,e)})}function Bl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function hh(t,e){for(var r=e+"Capture",i=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ll(t,r),o!=null&&i.unshift(Bl(t,o,s)),o=Ll(t,e),o!=null&&i.push(Bl(t,o,s))),t=t.return}return i}function mo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function j0(t,e,r,i,s){for(var o=e._reactName,a=[];r!==null&&r!==i;){var u=r,h=u.alternate,d=u.stateNode;if(h!==null&&h===i)break;u.tag===5&&d!==null&&(u=d,s?(h=Ll(r,o),h!=null&&a.unshift(Bl(r,h,u))):s||(h=Ll(r,o),h!=null&&a.push(Bl(r,h,u)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Q2=/\r\n?/g,J2=/\u0000|\uFFFD/g;function $0(t){return(typeof t=="string"?t:""+t).replace(Q2,`
`).replace(J2,"")}function dc(t,e,r){if(e=$0(e),$0(t)!==e&&r)throw Error(ae(425))}function dh(){}var og=null,ag=null;function lg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ug=typeof setTimeout=="function"?setTimeout:void 0,Z2=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,eI=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(t){return F0.resolve(null).then(t).catch(tI)}:ug;function tI(t){setTimeout(function(){throw t})}function Yf(t,e){var r=e,i=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){t.removeChild(s),jl(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);jl(e)}function zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function U0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Sa=Math.random().toString(36).slice(2),zr="__reactFiber$"+Sa,zl="__reactProps$"+Sa,fi="__reactContainer$"+Sa,cg="__reactEvents$"+Sa,nI="__reactListeners$"+Sa,rI="__reactHandles$"+Sa;function Cs(t){var e=t[zr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[fi]||r[zr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=U0(t);t!==null;){if(r=t[zr])return r;t=U0(t)}return e}t=r,r=t.parentNode}return null}function wu(t){return t=t[zr]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function dd(t){return t[zl]||null}var hg=[],Ao=-1;function rs(t){return{current:t}}function ht(t){0>Ao||(t.current=hg[Ao],hg[Ao]=null,Ao--)}function at(t,e){Ao++,hg[Ao]=t.current,t.current=e}var Qi={},kn=rs(Qi),Vn=rs(!1),js=Qi;function ea(t,e){var r=t.type.contextTypes;if(!r)return Qi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gn(t){return t=t.childContextTypes,t!=null}function fh(){ht(Vn),ht(kn)}function B0(t,e,r){if(kn.current!==Qi)throw Error(ae(168));at(kn,e),at(Vn,r)}function zS(t,e,r){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(ae(108,BT(t)||"Unknown",s));return bt({},r,i)}function ph(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qi,js=kn.current,at(kn,t),at(Vn,Vn.current),!0}function z0(t,e,r){var i=t.stateNode;if(!i)throw Error(ae(169));r?(t=zS(t,e,js),i.__reactInternalMemoizedMergedChildContext=t,ht(Vn),ht(kn),at(kn,t)):ht(Vn),at(Vn,r)}var ni=null,fd=!1,Xf=!1;function VS(t){ni===null?ni=[t]:ni.push(t)}function iI(t){fd=!0,VS(t)}function is(){if(!Xf&&ni!==null){Xf=!0;var t=0,e=rt;try{var r=ni;for(rt=1;t<r.length;t++){var i=r[t];do i=i(!0);while(i!==null)}ni=null,fd=!1}catch(s){throw ni!==null&&(ni=ni.slice(t+1)),pS(Pm,is),s}finally{rt=e,Xf=!1}}return null}var No=[],Oo=0,gh=null,mh=0,cr=[],hr=0,$s=null,ri=1,ii="";function vs(t,e){No[Oo++]=mh,No[Oo++]=gh,gh=t,mh=e}function GS(t,e,r){cr[hr++]=ri,cr[hr++]=ii,cr[hr++]=$s,$s=t;var i=ri;t=ii;var s=32-Ir(i)-1;i&=~(1<<s),r+=1;var o=32-Ir(e)+s;if(30<o){var a=s-s%5;o=(i&(1<<a)-1).toString(32),i>>=a,s-=a,ri=1<<32-Ir(e)+s|r<<s|i,ii=o+t}else ri=1<<o|r<<s|i,ii=t}function $m(t){t.return!==null&&(vs(t,1),GS(t,1,0))}function Fm(t){for(;t===gh;)gh=No[--Oo],No[Oo]=null,mh=No[--Oo],No[Oo]=null;for(;t===$s;)$s=cr[--hr],cr[hr]=null,ii=cr[--hr],cr[hr]=null,ri=cr[--hr],cr[hr]=null}var tr=null,Zn=null,mt=!1,Er=null;function HS(t,e){var r=dr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function V0(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Zn=zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=$s!==null?{id:ri,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=dr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,tr=t,Zn=null,!0):!1;default:return!1}}function dg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fg(t){if(mt){var e=Zn;if(e){var r=e;if(!V0(t,e)){if(dg(t))throw Error(ae(418));e=zi(r.nextSibling);var i=tr;e&&V0(t,e)?HS(i,r):(t.flags=t.flags&-4097|2,mt=!1,tr=t)}}else{if(dg(t))throw Error(ae(418));t.flags=t.flags&-4097|2,mt=!1,tr=t}}}function G0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function fc(t){if(t!==tr)return!1;if(!mt)return G0(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lg(t.type,t.memoizedProps)),e&&(e=Zn)){if(dg(t))throw WS(),Error(ae(418));for(;e;)HS(t,e),e=zi(e.nextSibling)}if(G0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Zn=zi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=tr?zi(t.stateNode.nextSibling):null;return!0}function WS(){for(var t=Zn;t;)t=zi(t.nextSibling)}function ta(){Zn=tr=null,mt=!1}function Um(t){Er===null?Er=[t]:Er.push(t)}var sI=xi.ReactCurrentBatchConfig;function Cr(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var vh=rs(null),yh=null,Lo=null,Bm=null;function zm(){Bm=Lo=yh=null}function Vm(t){var e=vh.current;ht(vh),t._currentValue=e}function pg(t,e,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===r)break;t=t.return}}function Ho(t,e){yh=t,Bm=Lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zn=!0),t.firstContext=null)}function gr(t){var e=t._currentValue;if(Bm!==t)if(t={context:t,memoizedValue:e,next:null},Lo===null){if(yh===null)throw Error(ae(308));Lo=t,yh.dependencies={lanes:0,firstContext:t}}else Lo=Lo.next=t;return e}var _s=null;function Gm(t){_s===null?_s=[t]:_s.push(t)}function qS(t,e,r,i){var s=e.interleaved;return s===null?(r.next=r,Gm(e)):(r.next=s.next,s.next=r),e.interleaved=r,pi(t,i)}function pi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ii=!1;function Hm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(t,e,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Xe&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,pi(t,r)}return s=i.interleaved,s===null?(e.next=e,Gm(i)):(e.next=s.next,s.next=e),i.interleaved=e,pi(t,r)}function Fc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,Rm(t,r)}}function H0(t,e){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function wh(t,e,r,i){var s=t.updateQueue;Ii=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var h=u,d=h.next;h.next=null,a===null?o=d:a.next=d,a=h;var g=t.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==a&&(u===null?g.firstBaseUpdate=d:u.next=d,g.lastBaseUpdate=h))}if(o!==null){var v=s.baseState;a=0,g=d=h=null,u=o;do{var w=u.lane,O=u.eventTime;if((i&w)===w){g!==null&&(g=g.next={eventTime:O,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=t,R=u;switch(w=e,O=r,R.tag){case 1:if(S=R.payload,typeof S=="function"){v=S.call(O,v,w);break e}v=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=R.payload,w=typeof S=="function"?S.call(O,v,w):S,w==null)break e;v=bt({},v,w);break e;case 2:Ii=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,w=s.effects,w===null?s.effects=[u]:w.push(u))}else O={eventTime:O,lane:w,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(d=g=O,h=v):g=g.next=O,a|=w;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;w=u,u=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(1);if(g===null&&(h=v),s.baseState=h,s.firstBaseUpdate=d,s.lastBaseUpdate=g,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Us|=a,t.lanes=a,t.memoizedState=v}}function W0(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(ae(191,s));s.call(i)}}}var YS=new qx.Component().refs;function gg(t,e,r,i){e=t.memoizedState,r=r(i,e),r=r==null?e:bt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var pd={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var i=Mn(),s=Hi(t),o=ui(i,s);o.payload=e,r!=null&&(o.callback=r),e=Vi(t,o,s),e!==null&&(Pr(e,t,s,i),Fc(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var i=Mn(),s=Hi(t),o=ui(i,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Vi(t,o,s),e!==null&&(Pr(e,t,s,i),Fc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Mn(),i=Hi(t),s=ui(r,i);s.tag=2,e!=null&&(s.callback=e),e=Vi(t,s,i),e!==null&&(Pr(e,t,i,r),Fc(e,t,i))}};function q0(t,e,r,i,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!Fl(r,i)||!Fl(s,o):!0}function XS(t,e,r){var i=!1,s=Qi,o=e.contextType;return typeof o=="object"&&o!==null?o=gr(o):(s=Gn(e)?js:kn.current,i=e.contextTypes,o=(i=i!=null)?ea(t,s):Qi),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pd,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function K0(t,e,r,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==t&&pd.enqueueReplaceState(e,e.state,null)}function mg(t,e,r,i){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs=YS,Hm(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=gr(o):(o=Gn(e)?js:kn.current,s.context=ea(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gg(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&pd.enqueueReplaceState(s,s.state,null),wh(t,r,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ka(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var i=r.stateNode}if(!i)throw Error(ae(147,t));var s=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=s.refs;u===YS&&(u=s.refs={}),a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,t))}return t}function pc(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y0(t){var e=t._init;return e(t._payload)}function QS(t){function e(x,C){if(t){var k=x.deletions;k===null?(x.deletions=[C],x.flags|=16):k.push(C)}}function r(x,C){if(!t)return null;for(;C!==null;)e(x,C),C=C.sibling;return null}function i(x,C){for(x=new Map;C!==null;)C.key!==null?x.set(C.key,C):x.set(C.index,C),C=C.sibling;return x}function s(x,C){return x=Wi(x,C),x.index=0,x.sibling=null,x}function o(x,C,k){return x.index=k,t?(k=x.alternate,k!==null?(k=k.index,k<C?(x.flags|=2,C):k):(x.flags|=2,C)):(x.flags|=1048576,C)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function u(x,C,k,A){return C===null||C.tag!==6?(C=rp(k,x.mode,A),C.return=x,C):(C=s(C,k),C.return=x,C)}function h(x,C,k,A){var _=k.type;return _===ko?g(x,C,k.props.children,A,k.key):C!==null&&(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ti&&Y0(_)===C.type)?(A=s(C,k.props),A.ref=Ka(x,C,k),A.return=x,A):(A=Hc(k.type,k.key,k.props,null,x.mode,A),A.ref=Ka(x,C,k),A.return=x,A)}function d(x,C,k,A){return C===null||C.tag!==4||C.stateNode.containerInfo!==k.containerInfo||C.stateNode.implementation!==k.implementation?(C=ip(k,x.mode,A),C.return=x,C):(C=s(C,k.children||[]),C.return=x,C)}function g(x,C,k,A,_){return C===null||C.tag!==7?(C=Rs(k,x.mode,A,_),C.return=x,C):(C=s(C,k),C.return=x,C)}function v(x,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return C=rp(""+C,x.mode,k),C.return=x,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case rc:return k=Hc(C.type,C.key,C.props,null,x.mode,k),k.ref=Ka(x,null,C),k.return=x,k;case Eo:return C=ip(C,x.mode,k),C.return=x,C;case Ti:var A=C._init;return v(x,A(C._payload),k)}if(il(C)||Va(C))return C=Rs(C,x.mode,k,null),C.return=x,C;pc(x,C)}return null}function w(x,C,k,A){var _=C!==null?C.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return _!==null?null:u(x,C,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case rc:return k.key===_?h(x,C,k,A):null;case Eo:return k.key===_?d(x,C,k,A):null;case Ti:return _=k._init,w(x,C,_(k._payload),A)}if(il(k)||Va(k))return _!==null?null:g(x,C,k,A,null);pc(x,k)}return null}function O(x,C,k,A,_){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(k)||null,u(C,x,""+A,_);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case rc:return x=x.get(A.key===null?k:A.key)||null,h(C,x,A,_);case Eo:return x=x.get(A.key===null?k:A.key)||null,d(C,x,A,_);case Ti:var F=A._init;return O(x,C,k,F(A._payload),_)}if(il(A)||Va(A))return x=x.get(k)||null,g(C,x,A,_,null);pc(C,A)}return null}function S(x,C,k,A){for(var _=null,F=null,N=C,V=C=0,X=null;N!==null&&V<k.length;V++){N.index>V?(X=N,N=null):X=N.sibling;var U=w(x,N,k[V],A);if(U===null){N===null&&(N=X);break}t&&N&&U.alternate===null&&e(x,N),C=o(U,C,V),F===null?_=U:F.sibling=U,F=U,N=X}if(V===k.length)return r(x,N),mt&&vs(x,V),_;if(N===null){for(;V<k.length;V++)N=v(x,k[V],A),N!==null&&(C=o(N,C,V),F===null?_=N:F.sibling=N,F=N);return mt&&vs(x,V),_}for(N=i(x,N);V<k.length;V++)X=O(N,x,V,k[V],A),X!==null&&(t&&X.alternate!==null&&N.delete(X.key===null?V:X.key),C=o(X,C,V),F===null?_=X:F.sibling=X,F=X);return t&&N.forEach(function(W){return e(x,W)}),mt&&vs(x,V),_}function R(x,C,k,A){var _=Va(k);if(typeof _!="function")throw Error(ae(150));if(k=_.call(k),k==null)throw Error(ae(151));for(var F=_=null,N=C,V=C=0,X=null,U=k.next();N!==null&&!U.done;V++,U=k.next()){N.index>V?(X=N,N=null):X=N.sibling;var W=w(x,N,U.value,A);if(W===null){N===null&&(N=X);break}t&&N&&W.alternate===null&&e(x,N),C=o(W,C,V),F===null?_=W:F.sibling=W,F=W,N=X}if(U.done)return r(x,N),mt&&vs(x,V),_;if(N===null){for(;!U.done;V++,U=k.next())U=v(x,U.value,A),U!==null&&(C=o(U,C,V),F===null?_=U:F.sibling=U,F=U);return mt&&vs(x,V),_}for(N=i(x,N);!U.done;V++,U=k.next())U=O(N,x,V,U.value,A),U!==null&&(t&&U.alternate!==null&&N.delete(U.key===null?V:U.key),C=o(U,C,V),F===null?_=U:F.sibling=U,F=U);return t&&N.forEach(function(H){return e(x,H)}),mt&&vs(x,V),_}function M(x,C,k,A){if(typeof k=="object"&&k!==null&&k.type===ko&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case rc:e:{for(var _=k.key,F=C;F!==null;){if(F.key===_){if(_=k.type,_===ko){if(F.tag===7){r(x,F.sibling),C=s(F,k.props.children),C.return=x,x=C;break e}}else if(F.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ti&&Y0(_)===F.type){r(x,F.sibling),C=s(F,k.props),C.ref=Ka(x,F,k),C.return=x,x=C;break e}r(x,F);break}else e(x,F);F=F.sibling}k.type===ko?(C=Rs(k.props.children,x.mode,A,k.key),C.return=x,x=C):(A=Hc(k.type,k.key,k.props,null,x.mode,A),A.ref=Ka(x,C,k),A.return=x,x=A)}return a(x);case Eo:e:{for(F=k.key;C!==null;){if(C.key===F)if(C.tag===4&&C.stateNode.containerInfo===k.containerInfo&&C.stateNode.implementation===k.implementation){r(x,C.sibling),C=s(C,k.children||[]),C.return=x,x=C;break e}else{r(x,C);break}else e(x,C);C=C.sibling}C=ip(k,x.mode,A),C.return=x,x=C}return a(x);case Ti:return F=k._init,M(x,C,F(k._payload),A)}if(il(k))return S(x,C,k,A);if(Va(k))return R(x,C,k,A);pc(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,C!==null&&C.tag===6?(r(x,C.sibling),C=s(C,k),C.return=x,x=C):(r(x,C),C=rp(k,x.mode,A),C.return=x,x=C),a(x)):r(x,C)}return M}var na=QS(!0),JS=QS(!1),xu={},Hr=rs(xu),Vl=rs(xu),Gl=rs(xu);function Es(t){if(t===xu)throw Error(ae(174));return t}function Wm(t,e){switch(at(Gl,e),at(Vl,t),at(Hr,xu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kp(e,t)}ht(Hr),at(Hr,e)}function ra(){ht(Hr),ht(Vl),ht(Gl)}function ZS(t){Es(Gl.current);var e=Es(Hr.current),r=Kp(e,t.type);e!==r&&(at(Vl,t),at(Hr,r))}function qm(t){Vl.current===t&&(ht(Hr),ht(Vl))}var wt=rs(0);function xh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qf=[];function Km(){for(var t=0;t<Qf.length;t++)Qf[t]._workInProgressVersionPrimary=null;Qf.length=0}var Uc=xi.ReactCurrentDispatcher,Jf=xi.ReactCurrentBatchConfig,Fs=0,St=null,Ht=null,Qt=null,Sh=!1,yl=!1,Hl=0,oI=0;function yn(){throw Error(ae(321))}function Ym(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Rr(t[r],e[r]))return!1;return!0}function Xm(t,e,r,i,s,o){if(Fs=o,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uc.current=t===null||t.memoizedState===null?cI:hI,t=r(i,s),yl){o=0;do{if(yl=!1,Hl=0,25<=o)throw Error(ae(301));o+=1,Qt=Ht=null,e.updateQueue=null,Uc.current=dI,t=r(i,s)}while(yl)}if(Uc.current=bh,e=Ht!==null&&Ht.next!==null,Fs=0,Qt=Ht=St=null,Sh=!1,e)throw Error(ae(300));return t}function Qm(){var t=Hl!==0;return Hl=0,t}function $r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?St.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function mr(){if(Ht===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var e=Qt===null?St.memoizedState:Qt.next;if(e!==null)Qt=e,Ht=t;else{if(t===null)throw Error(ae(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Qt===null?St.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Wl(t,e){return typeof e=="function"?e(t):e}function Zf(t){var e=mr(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var i=Ht,s=i.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}i.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,i=i.baseState;var u=a=null,h=null,d=o;do{var g=d.lane;if((Fs&g)===g)h!==null&&(h=h.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:t(i,d.action);else{var v={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};h===null?(u=h=v,a=i):h=h.next=v,St.lanes|=g,Us|=g}d=d.next}while(d!==null&&d!==o);h===null?a=i:h.next=u,Rr(i,e.memoizedState)||(zn=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=h,r.lastRenderedState=i}if(t=r.interleaved,t!==null){s=t;do o=s.lane,St.lanes|=o,Us|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ep(t){var e=mr(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var i=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);Rr(o,e.memoizedState)||(zn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,i]}function eb(){}function tb(t,e){var r=St,i=mr(),s=e(),o=!Rr(i.memoizedState,s);if(o&&(i.memoizedState=s,zn=!0),i=i.queue,Jm(ib.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||Qt!==null&&Qt.memoizedState.tag&1){if(r.flags|=2048,ql(9,rb.bind(null,r,i,s,e),void 0,null),en===null)throw Error(ae(349));Fs&30||nb(r,e,s)}return s}function nb(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function rb(t,e,r,i){e.value=r,e.getSnapshot=i,sb(e)&&ob(t)}function ib(t,e,r){return r(function(){sb(e)&&ob(t)})}function sb(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Rr(t,r)}catch{return!0}}function ob(t){var e=pi(t,1);e!==null&&Pr(e,t,1,-1)}function X0(t){var e=$r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:t},e.queue=t,t=t.dispatch=uI.bind(null,St,t),[e.memoizedState,t]}function ql(t,e,r,i){return t={tag:t,create:e,destroy:r,deps:i,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,e.lastEffect=t)),t}function ab(){return mr().memoizedState}function Bc(t,e,r,i){var s=$r();St.flags|=t,s.memoizedState=ql(1|e,r,void 0,i===void 0?null:i)}function gd(t,e,r,i){var s=mr();i=i===void 0?null:i;var o=void 0;if(Ht!==null){var a=Ht.memoizedState;if(o=a.destroy,i!==null&&Ym(i,a.deps)){s.memoizedState=ql(e,r,o,i);return}}St.flags|=t,s.memoizedState=ql(1|e,r,o,i)}function Q0(t,e){return Bc(8390656,8,t,e)}function Jm(t,e){return gd(2048,8,t,e)}function lb(t,e){return gd(4,2,t,e)}function ub(t,e){return gd(4,4,t,e)}function cb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hb(t,e,r){return r=r!=null?r.concat([t]):null,gd(4,4,cb.bind(null,e,t),r)}function Zm(){}function db(t,e){var r=mr();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&Ym(e,i[1])?i[0]:(r.memoizedState=[t,e],t)}function fb(t,e){var r=mr();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&Ym(e,i[1])?i[0]:(t=t(),r.memoizedState=[t,e],t)}function pb(t,e,r){return Fs&21?(Rr(r,e)||(r=vS(),St.lanes|=r,Us|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zn=!0),t.memoizedState=r)}function aI(t,e){var r=rt;rt=r!==0&&4>r?r:4,t(!0);var i=Jf.transition;Jf.transition={};try{t(!1),e()}finally{rt=r,Jf.transition=i}}function gb(){return mr().memoizedState}function lI(t,e,r){var i=Hi(t);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},mb(t))vb(e,r);else if(r=qS(t,e,r,i),r!==null){var s=Mn();Pr(r,t,i,s),yb(r,e,i)}}function uI(t,e,r){var i=Hi(t),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(mb(t))vb(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,r);if(s.hasEagerState=!0,s.eagerState=u,Rr(u,a)){var h=e.interleaved;h===null?(s.next=s,Gm(e)):(s.next=h.next,h.next=s),e.interleaved=s;return}}catch{}finally{}r=qS(t,e,s,i),r!==null&&(s=Mn(),Pr(r,t,i,s),yb(r,e,i))}}function mb(t){var e=t.alternate;return t===St||e!==null&&e===St}function vb(t,e){yl=Sh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function yb(t,e,r){if(r&4194240){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,Rm(t,r)}}var bh={readContext:gr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},cI={readContext:gr,useCallback:function(t,e){return $r().memoizedState=[t,e===void 0?null:e],t},useContext:gr,useEffect:Q0,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Bc(4194308,4,cb.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Bc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bc(4,2,t,e)},useMemo:function(t,e){var r=$r();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var i=$r();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=lI.bind(null,St,t),[i.memoizedState,t]},useRef:function(t){var e=$r();return t={current:t},e.memoizedState=t},useState:X0,useDebugValue:Zm,useDeferredValue:function(t){return $r().memoizedState=t},useTransition:function(){var t=X0(!1),e=t[0];return t=aI.bind(null,t[1]),$r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var i=St,s=$r();if(mt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=e(),en===null)throw Error(ae(349));Fs&30||nb(i,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,Q0(ib.bind(null,i,o,t),[t]),i.flags|=2048,ql(9,rb.bind(null,i,o,r,e),void 0,null),r},useId:function(){var t=$r(),e=en.identifierPrefix;if(mt){var r=ii,i=ri;r=(i&~(1<<32-Ir(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=Hl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=oI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hI={readContext:gr,useCallback:db,useContext:gr,useEffect:Jm,useImperativeHandle:hb,useInsertionEffect:lb,useLayoutEffect:ub,useMemo:fb,useReducer:Zf,useRef:ab,useState:function(){return Zf(Wl)},useDebugValue:Zm,useDeferredValue:function(t){var e=mr();return pb(e,Ht.memoizedState,t)},useTransition:function(){var t=Zf(Wl)[0],e=mr().memoizedState;return[t,e]},useMutableSource:eb,useSyncExternalStore:tb,useId:gb,unstable_isNewReconciler:!1},dI={readContext:gr,useCallback:db,useContext:gr,useEffect:Jm,useImperativeHandle:hb,useInsertionEffect:lb,useLayoutEffect:ub,useMemo:fb,useReducer:ep,useRef:ab,useState:function(){return ep(Wl)},useDebugValue:Zm,useDeferredValue:function(t){var e=mr();return Ht===null?e.memoizedState=t:pb(e,Ht.memoizedState,t)},useTransition:function(){var t=ep(Wl)[0],e=mr().memoizedState;return[t,e]},useMutableSource:eb,useSyncExternalStore:tb,useId:gb,unstable_isNewReconciler:!1};function ia(t,e){try{var r="",i=e;do r+=UT(i),i=i.return;while(i);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function tp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function vg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var fI=typeof WeakMap=="function"?WeakMap:Map;function wb(t,e,r){r=ui(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){_h||(_h=!0,Tg=i),vg(t,e)},r}function xb(t,e,r){r=ui(-1,r),r.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;r.payload=function(){return i(s)},r.callback=function(){vg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){vg(t,e),typeof i!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function J0(t,e,r){var i=t.pingCache;if(i===null){i=t.pingCache=new fI;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(r)||(s.add(r),t=TI.bind(null,t,e,r),e.then(t,t))}function Z0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function e1(t,e,r,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ui(-1,1),e.tag=2,Vi(r,e,1))),r.lanes|=1),t)}var pI=xi.ReactCurrentOwner,zn=!1;function An(t,e,r,i){e.child=t===null?JS(e,null,r,i):na(e,t.child,r,i)}function t1(t,e,r,i,s){r=r.render;var o=e.ref;return Ho(e,s),i=Xm(t,e,r,i,o,s),r=Qm(),t!==null&&!zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gi(t,e,s)):(mt&&r&&$m(e),e.flags|=1,An(t,e,i,s),e.child)}function n1(t,e,r,i,s){if(t===null){var o=r.type;return typeof o=="function"&&!av(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Sb(t,e,o,i,s)):(t=Hc(r.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Fl,r(a,i)&&t.ref===e.ref)return gi(t,e,s)}return e.flags|=1,t=Wi(o,i),t.ref=e.ref,t.return=e,e.child=t}function Sb(t,e,r,i,s){if(t!==null){var o=t.memoizedProps;if(Fl(o,i)&&t.ref===e.ref)if(zn=!1,e.pendingProps=i=o,(t.lanes&s)!==0)t.flags&131072&&(zn=!0);else return e.lanes=t.lanes,gi(t,e,s)}return yg(t,e,r,i,s)}function bb(t,e,r){var i=e.pendingProps,s=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Mo,Xn),Xn|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(Mo,Xn),Xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,at(Mo,Xn),Xn|=i}else o!==null?(i=o.baseLanes|r,e.memoizedState=null):i=r,at(Mo,Xn),Xn|=i;return An(t,e,s,r),e.child}function Cb(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function yg(t,e,r,i,s){var o=Gn(r)?js:kn.current;return o=ea(e,o),Ho(e,s),r=Xm(t,e,r,i,o,s),i=Qm(),t!==null&&!zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gi(t,e,s)):(mt&&i&&$m(e),e.flags|=1,An(t,e,r,s),e.child)}function r1(t,e,r,i,s){if(Gn(r)){var o=!0;ph(e)}else o=!1;if(Ho(e,s),e.stateNode===null)zc(t,e),XS(e,r,i),mg(e,r,i,s),i=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var h=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=gr(d):(d=Gn(r)?js:kn.current,d=ea(e,d));var g=r.getDerivedStateFromProps,v=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||h!==d)&&K0(e,a,i,d),Ii=!1;var w=e.memoizedState;a.state=w,wh(e,i,a,s),h=e.memoizedState,u!==i||w!==h||Vn.current||Ii?(typeof g=="function"&&(gg(e,r,g,i),h=e.memoizedState),(u=Ii||q0(e,r,u,i,w,h,d))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),a.props=i,a.state=h,a.context=d,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,KS(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Cr(e.type,u),a.props=d,v=e.pendingProps,w=a.context,h=r.contextType,typeof h=="object"&&h!==null?h=gr(h):(h=Gn(r)?js:kn.current,h=ea(e,h));var O=r.getDerivedStateFromProps;(g=typeof O=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==v||w!==h)&&K0(e,a,i,h),Ii=!1,w=e.memoizedState,a.state=w,wh(e,i,a,s);var S=e.memoizedState;u!==v||w!==S||Vn.current||Ii?(typeof O=="function"&&(gg(e,r,O,i),S=e.memoizedState),(d=Ii||q0(e,r,d,i,w,S,h)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,S,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,S,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=S),a.props=i,a.state=S,a.context=h,i=d):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),i=!1)}return wg(t,e,r,i,o,s)}function wg(t,e,r,i,s,o){Cb(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return s&&z0(e,r,!1),gi(t,e,o);i=e.stateNode,pI.current=e;var u=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=na(e,t.child,null,o),e.child=na(e,null,u,o)):An(t,e,u,o),e.memoizedState=i.state,s&&z0(e,r,!0),e.child}function _b(t){var e=t.stateNode;e.pendingContext?B0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&B0(t,e.context,!1),Wm(t,e.containerInfo)}function i1(t,e,r,i,s){return ta(),Um(s),e.flags|=256,An(t,e,r,i),e.child}var xg={dehydrated:null,treeContext:null,retryLane:0};function Sg(t){return{baseLanes:t,cachePool:null,transitions:null}}function Eb(t,e,r){var i=e.pendingProps,s=wt.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),at(wt,s&1),t===null)return fg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=yd(a,i,0,null),t=Rs(t,i,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Sg(r),e.memoizedState=xg,t):ev(e,a));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return gI(t,e,a,i,u,s,r);if(o){o=i.fallback,a=e.mode,s=t.child,u=s.sibling;var h={mode:"hidden",children:i.children};return!(a&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=Wi(s,h),i.subtreeFlags=s.subtreeFlags&14680064),u!==null?o=Wi(u,o):(o=Rs(o,a,r,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a=a===null?Sg(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=xg,i}return o=t.child,t=o.sibling,i=Wi(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=i,e.memoizedState=null,i}function ev(t,e){return e=yd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gc(t,e,r,i){return i!==null&&Um(i),na(e,t.child,null,r),t=ev(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gI(t,e,r,i,s,o,a){if(r)return e.flags&256?(e.flags&=-257,i=tp(Error(ae(422))),gc(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=yd({mode:"visible",children:i.children},s,0,null),o=Rs(o,s,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&na(e,t.child,null,a),e.child.memoizedState=Sg(a),e.memoizedState=xg,o);if(!(e.mode&1))return gc(t,e,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(ae(419)),i=tp(o,i,void 0),gc(t,e,a,i)}if(u=(a&t.childLanes)!==0,zn||u){if(i=en,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,pi(t,s),Pr(i,t,s,-1))}return ov(),i=tp(Error(ae(421))),gc(t,e,a,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=II.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Zn=zi(s.nextSibling),tr=e,mt=!0,Er=null,t!==null&&(cr[hr++]=ri,cr[hr++]=ii,cr[hr++]=$s,ri=t.id,ii=t.overflow,$s=e),e=ev(e,i.children),e.flags|=4096,e)}function s1(t,e,r){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),pg(t.return,e,r)}function np(t,e,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=s)}function kb(t,e,r){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(An(t,e,i.children,r),i=wt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s1(t,r,e);else if(t.tag===19)s1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(at(wt,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&xh(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),np(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xh(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}np(e,!0,r,null,o);break;case"together":np(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Us|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,r=Wi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Wi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function mI(t,e,r){switch(e.tag){case 3:_b(e),ta();break;case 5:ZS(e);break;case 1:Gn(e.type)&&ph(e);break;case 4:Wm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;at(vh,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(at(wt,wt.current&1),e.flags|=128,null):r&e.child.childLanes?Eb(t,e,r):(at(wt,wt.current&1),t=gi(t,e,r),t!==null?t.sibling:null);at(wt,wt.current&1);break;case 19:if(i=(r&e.childLanes)!==0,t.flags&128){if(i)return kb(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),at(wt,wt.current),i)break;return null;case 22:case 23:return e.lanes=0,bb(t,e,r)}return gi(t,e,r)}var Tb,bg,Ib,Pb;Tb=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bg=function(){};Ib=function(t,e,r,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Es(Hr.current);var o=null;switch(r){case"input":s=Gp(t,s),i=Gp(t,i),o=[];break;case"select":s=bt({},s,{value:void 0}),i=bt({},i,{value:void 0}),o=[];break;case"textarea":s=qp(t,s),i=qp(t,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=dh)}Yp(r,i);var a;r=null;for(d in s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var u=s[d];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Nl.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in i){var h=i[d];if(u=s!=null?s[d]:void 0,i.hasOwnProperty(d)&&h!==u&&(h!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in h)h.hasOwnProperty(a)&&u[a]!==h[a]&&(r||(r={}),r[a]=h[a])}else r||(o||(o=[]),o.push(d,r)),r=h;else d==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(o=o||[]).push(d,h)):d==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(d,""+h):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(d)?(h!=null&&d==="onScroll"&&ct("scroll",t),o||u===h||(o=[])):(o=o||[]).push(d,h))}r&&(o=o||[]).push("style",r);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};Pb=function(t,e,r,i){r!==i&&(e.flags|=4)};function Ya(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=r,e}function vI(t,e,r){var i=e.pendingProps;switch(Fm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(e),null;case 1:return Gn(e.type)&&fh(),wn(e),null;case 3:return i=e.stateNode,ra(),ht(Vn),ht(kn),Km(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(Rg(Er),Er=null))),bg(t,e),wn(e),null;case 5:qm(e);var s=Es(Gl.current);if(r=e.type,t!==null&&e.stateNode!=null)Ib(t,e,r,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(ae(166));return wn(e),null}if(t=Es(Hr.current),fc(e)){i=e.stateNode,r=e.type;var o=e.memoizedProps;switch(i[zr]=e,i[zl]=o,t=(e.mode&1)!==0,r){case"dialog":ct("cancel",i),ct("close",i);break;case"iframe":case"object":case"embed":ct("load",i);break;case"video":case"audio":for(s=0;s<ol.length;s++)ct(ol[s],i);break;case"source":ct("error",i);break;case"img":case"image":case"link":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"input":p0(i,o),ct("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ct("invalid",i);break;case"textarea":m0(i,o),ct("invalid",i)}Yp(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&dc(i.textContent,u,t),s=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&dc(i.textContent,u,t),s=["children",""+u]):Nl.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&ct("scroll",i)}switch(r){case"input":ic(i),g0(i,o,!0);break;case"textarea":ic(i),v0(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=dh)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(r,{is:i.is}):(t=a.createElement(r),r==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,r),t[zr]=e,t[zl]=i,Tb(t,e,!1,!1),e.stateNode=t;e:{switch(a=Xp(r,i),r){case"dialog":ct("cancel",t),ct("close",t),s=i;break;case"iframe":case"object":case"embed":ct("load",t),s=i;break;case"video":case"audio":for(s=0;s<ol.length;s++)ct(ol[s],t);s=i;break;case"source":ct("error",t),s=i;break;case"img":case"image":case"link":ct("error",t),ct("load",t),s=i;break;case"details":ct("toggle",t),s=i;break;case"input":p0(t,i),s=Gp(t,i),ct("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=bt({},i,{value:void 0}),ct("invalid",t);break;case"textarea":m0(t,i),s=qp(t,i),ct("invalid",t);break;default:s=i}Yp(r,s),u=s;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];o==="style"?sS(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&rS(t,h)):o==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&Ol(t,h):typeof h=="number"&&Ol(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nl.hasOwnProperty(o)?h!=null&&o==="onScroll"&&ct("scroll",t):h!=null&&_m(t,o,h,a))}switch(r){case"input":ic(t),g0(t,i,!1);break;case"textarea":ic(t),v0(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Xi(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Bo(t,!!i.multiple,o,!1):i.defaultValue!=null&&Bo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=dh)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wn(e),null;case 6:if(t&&e.stateNode!=null)Pb(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(ae(166));if(r=Es(Gl.current),Es(Hr.current),fc(e)){if(i=e.stateNode,r=e.memoizedProps,i[zr]=e,(o=i.nodeValue!==r)&&(t=tr,t!==null))switch(t.tag){case 3:dc(i.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dc(i.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[zr]=e,e.stateNode=i}return wn(e),null;case 13:if(ht(wt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&Zn!==null&&e.mode&1&&!(e.flags&128))WS(),ta(),e.flags|=98560,o=!1;else if(o=fc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(ae(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[zr]=e}else ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wn(e),o=!1}else Er!==null&&(Rg(Er),Er=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||wt.current&1?Wt===0&&(Wt=3):ov())),e.updateQueue!==null&&(e.flags|=4),wn(e),null);case 4:return ra(),bg(t,e),t===null&&Ul(e.stateNode.containerInfo),wn(e),null;case 10:return Vm(e.type._context),wn(e),null;case 17:return Gn(e.type)&&fh(),wn(e),null;case 19:if(ht(wt),o=e.memoizedState,o===null)return wn(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Ya(o,!1);else{if(Wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xh(t),a!==null){for(e.flags|=128,Ya(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)o=r,t=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return at(wt,wt.current&1|2),e.child}t=t.sibling}o.tail!==null&&At()>sa&&(e.flags|=128,i=!0,Ya(o,!1),e.lanes=4194304)}else{if(!i)if(t=xh(a),t!==null){if(e.flags|=128,i=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ya(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!mt)return wn(e),null}else 2*At()-o.renderingStartTime>sa&&r!==1073741824&&(e.flags|=128,i=!0,Ya(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=At(),e.sibling=null,r=wt.current,at(wt,i?r&1|2:r&1),e):(wn(e),null);case 22:case 23:return sv(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Xn&1073741824&&(wn(e),e.subtreeFlags&6&&(e.flags|=8192)):wn(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function yI(t,e){switch(Fm(e),e.tag){case 1:return Gn(e.type)&&fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ra(),ht(Vn),ht(kn),Km(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qm(e),null;case 13:if(ht(wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(wt),null;case 4:return ra(),null;case 10:return Vm(e.type._context),null;case 22:case 23:return sv(),null;case 24:return null;default:return null}}var mc=!1,Sn=!1,wI=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Do(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Et(t,e,i)}else r.current=null}function Cg(t,e,r){try{r()}catch(i){Et(t,e,i)}}var o1=!1;function xI(t,e){if(og=uh,t=OS(),jm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,u=-1,h=-1,d=0,g=0,v=t,w=null;t:for(;;){for(var O;v!==r||s!==0&&v.nodeType!==3||(u=a+s),v!==o||i!==0&&v.nodeType!==3||(h=a+i),v.nodeType===3&&(a+=v.nodeValue.length),(O=v.firstChild)!==null;)w=v,v=O;for(;;){if(v===t)break t;if(w===r&&++d===s&&(u=a),w===o&&++g===i&&(h=a),(O=v.nextSibling)!==null)break;v=w,w=v.parentNode}v=O}r=u===-1||h===-1?null:{start:u,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(ag={focusedElem:t,selectionRange:r},uh=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var R=S.memoizedProps,M=S.memoizedState,x=e.stateNode,C=x.getSnapshotBeforeUpdate(e.elementType===e.type?R:Cr(e.type,R),M);x.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(A){Et(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return S=o1,o1=!1,S}function wl(t,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Cg(e,r,o)}s=s.next}while(s!==i)}}function md(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function _g(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Rb(t){var e=t.alternate;e!==null&&(t.alternate=null,Rb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[zl],delete e[cg],delete e[nI],delete e[rI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ab(t){return t.tag===5||t.tag===3||t.tag===4}function a1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ab(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eg(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=dh));else if(i!==4&&(t=t.child,t!==null))for(Eg(t,e,r),t=t.sibling;t!==null;)Eg(t,e,r),t=t.sibling}function kg(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(kg(t,e,r),t=t.sibling;t!==null;)kg(t,e,r),t=t.sibling}var on=null,_r=!1;function Ei(t,e,r){for(r=r.child;r!==null;)Nb(t,e,r),r=r.sibling}function Nb(t,e,r){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(ld,r)}catch{}switch(r.tag){case 5:Sn||Do(r,e);case 6:var i=on,s=_r;on=null,Ei(t,e,r),on=i,_r=s,on!==null&&(_r?(t=on,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):on.removeChild(r.stateNode));break;case 18:on!==null&&(_r?(t=on,r=r.stateNode,t.nodeType===8?Yf(t.parentNode,r):t.nodeType===1&&Yf(t,r),jl(t)):Yf(on,r.stateNode));break;case 4:i=on,s=_r,on=r.stateNode.containerInfo,_r=!0,Ei(t,e,r),on=i,_r=s;break;case 0:case 11:case 14:case 15:if(!Sn&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Cg(r,e,a),s=s.next}while(s!==i)}Ei(t,e,r);break;case 1:if(!Sn&&(Do(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(u){Et(r,e,u)}Ei(t,e,r);break;case 21:Ei(t,e,r);break;case 22:r.mode&1?(Sn=(i=Sn)||r.memoizedState!==null,Ei(t,e,r),Sn=i):Ei(t,e,r);break;default:Ei(t,e,r)}}function l1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new wI),e.forEach(function(i){var s=PI.bind(null,t,i);r.has(i)||(r.add(i),i.then(s,s))})}}function br(t,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var o=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:on=u.stateNode,_r=!1;break e;case 3:on=u.stateNode.containerInfo,_r=!0;break e;case 4:on=u.stateNode.containerInfo,_r=!0;break e}u=u.return}if(on===null)throw Error(ae(160));Nb(o,a,s),on=null,_r=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(d){Et(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ob(e,t),e=e.sibling}function Ob(t,e){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),Dr(t),i&4){try{wl(3,t,t.return),md(3,t)}catch(R){Et(t,t.return,R)}try{wl(5,t,t.return)}catch(R){Et(t,t.return,R)}}break;case 1:br(e,t),Dr(t),i&512&&r!==null&&Do(r,r.return);break;case 5:if(br(e,t),Dr(t),i&512&&r!==null&&Do(r,r.return),t.flags&32){var s=t.stateNode;try{Ol(s,"")}catch(R){Et(t,t.return,R)}}if(i&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&eS(s,o),Xp(u,a);var d=Xp(u,o);for(a=0;a<h.length;a+=2){var g=h[a],v=h[a+1];g==="style"?sS(s,v):g==="dangerouslySetInnerHTML"?rS(s,v):g==="children"?Ol(s,v):_m(s,g,v,d)}switch(u){case"input":Hp(s,o);break;case"textarea":tS(s,o);break;case"select":var w=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var O=o.value;O!=null?Bo(s,!!o.multiple,O,!1):w!==!!o.multiple&&(o.defaultValue!=null?Bo(s,!!o.multiple,o.defaultValue,!0):Bo(s,!!o.multiple,o.multiple?[]:"",!1))}s[zl]=o}catch(R){Et(t,t.return,R)}}break;case 6:if(br(e,t),Dr(t),i&4){if(t.stateNode===null)throw Error(ae(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(R){Et(t,t.return,R)}}break;case 3:if(br(e,t),Dr(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{jl(e.containerInfo)}catch(R){Et(t,t.return,R)}break;case 4:br(e,t),Dr(t);break;case 13:br(e,t),Dr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(rv=At())),i&4&&l1(t);break;case 22:if(g=r!==null&&r.memoizedState!==null,t.mode&1?(Sn=(d=Sn)||g,br(e,t),Sn=d):br(e,t),Dr(t),i&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!g&&t.mode&1)for(ge=t,g=t.child;g!==null;){for(v=ge=g;ge!==null;){switch(w=ge,O=w.child,w.tag){case 0:case 11:case 14:case 15:wl(4,w,w.return);break;case 1:Do(w,w.return);var S=w.stateNode;if(typeof S.componentWillUnmount=="function"){i=w,r=w.return;try{e=i,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(R){Et(i,r,R)}}break;case 5:Do(w,w.return);break;case 22:if(w.memoizedState!==null){c1(v);continue}}O!==null?(O.return=w,ge=O):c1(v)}g=g.sibling}e:for(g=null,v=t;;){if(v.tag===5){if(g===null){g=v;try{s=v.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=v.stateNode,h=v.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=iS("display",a))}catch(R){Et(t,t.return,R)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(R){Et(t,t.return,R)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:br(e,t),Dr(t),i&4&&l1(t);break;case 21:break;default:br(e,t),Dr(t)}}function Dr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ab(r)){var i=r;break e}r=r.return}throw Error(ae(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Ol(s,""),i.flags&=-33);var o=a1(t);kg(t,o,s);break;case 3:case 4:var a=i.stateNode.containerInfo,u=a1(t);Eg(t,u,a);break;default:throw Error(ae(161))}}catch(h){Et(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SI(t,e,r){ge=t,Lb(t)}function Lb(t,e,r){for(var i=(t.mode&1)!==0;ge!==null;){var s=ge,o=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||mc;if(!a){var u=s.alternate,h=u!==null&&u.memoizedState!==null||Sn;u=mc;var d=Sn;if(mc=a,(Sn=h)&&!d)for(ge=s;ge!==null;)a=ge,h=a.child,a.tag===22&&a.memoizedState!==null?h1(s):h!==null?(h.return=a,ge=h):h1(s);for(;o!==null;)ge=o,Lb(o),o=o.sibling;ge=s,mc=u,Sn=d}u1(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ge=o):u1(t)}}function u1(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sn||md(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Sn)if(r===null)i.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Cr(e.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&W0(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}W0(e,a,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&jl(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Sn||e.flags&512&&_g(e)}catch(w){Et(e,e.return,w)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function c1(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function h1(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{md(4,e)}catch(h){Et(e,r,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(h){Et(e,s,h)}}var o=e.return;try{_g(e)}catch(h){Et(e,o,h)}break;case 5:var a=e.return;try{_g(e)}catch(h){Et(e,a,h)}}}catch(h){Et(e,e.return,h)}if(e===t){ge=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ge=u;break}ge=e.return}}var bI=Math.ceil,Ch=xi.ReactCurrentDispatcher,tv=xi.ReactCurrentOwner,fr=xi.ReactCurrentBatchConfig,Xe=0,en=null,Ut=null,cn=0,Xn=0,Mo=rs(0),Wt=0,Kl=null,Us=0,vd=0,nv=0,xl=null,Un=null,rv=0,sa=1/0,ti=null,_h=!1,Tg=null,Gi=null,vc=!1,ji=null,Eh=0,Sl=0,Ig=null,Vc=-1,Gc=0;function Mn(){return Xe&6?At():Vc!==-1?Vc:Vc=At()}function Hi(t){return t.mode&1?Xe&2&&cn!==0?cn&-cn:sI.transition!==null?(Gc===0&&(Gc=vS()),Gc):(t=rt,t!==0||(t=window.event,t=t===void 0?16:_S(t.type)),t):1}function Pr(t,e,r,i){if(50<Sl)throw Sl=0,Ig=null,Error(ae(185));vu(t,r,i),(!(Xe&2)||t!==en)&&(t===en&&(!(Xe&2)&&(vd|=r),Wt===4&&Ri(t,cn)),Hn(t,i),r===1&&Xe===0&&!(e.mode&1)&&(sa=At()+500,fd&&is()))}function Hn(t,e){var r=t.callbackNode;s2(t,e);var i=lh(t,t===en?cn:0);if(i===0)r!==null&&x0(r),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(r!=null&&x0(r),e===1)t.tag===0?iI(d1.bind(null,t)):VS(d1.bind(null,t)),eI(function(){!(Xe&6)&&is()}),r=null;else{switch(yS(i)){case 1:r=Pm;break;case 4:r=gS;break;case 16:r=ah;break;case 536870912:r=mS;break;default:r=ah}r=zb(r,Db.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Db(t,e){if(Vc=-1,Gc=0,Xe&6)throw Error(ae(327));var r=t.callbackNode;if(Wo()&&t.callbackNode!==r)return null;var i=lh(t,t===en?cn:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=kh(t,i);else{e=i;var s=Xe;Xe|=2;var o=jb();(en!==t||cn!==e)&&(ti=null,sa=At()+500,Ps(t,e));do try{EI();break}catch(u){Mb(t,u)}while(1);zm(),Ch.current=o,Xe=s,Ut!==null?e=0:(en=null,cn=0,e=Wt)}if(e!==0){if(e===2&&(s=tg(t),s!==0&&(i=s,e=Pg(t,s))),e===1)throw r=Kl,Ps(t,0),Ri(t,i),Hn(t,At()),r;if(e===6)Ri(t,i);else{if(s=t.current.alternate,!(i&30)&&!CI(s)&&(e=kh(t,i),e===2&&(o=tg(t),o!==0&&(i=o,e=Pg(t,o))),e===1))throw r=Kl,Ps(t,0),Ri(t,i),Hn(t,At()),r;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(ae(345));case 2:ys(t,Un,ti);break;case 3:if(Ri(t,i),(i&130023424)===i&&(e=rv+500-At(),10<e)){if(lh(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){Mn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ug(ys.bind(null,t,Un,ti),e);break}ys(t,Un,ti);break;case 4:if(Ri(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var a=31-Ir(i);o=1<<a,a=e[a],a>s&&(s=a),i&=~o}if(i=s,i=At()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*bI(i/1960))-i,10<i){t.timeoutHandle=ug(ys.bind(null,t,Un,ti),i);break}ys(t,Un,ti);break;case 5:ys(t,Un,ti);break;default:throw Error(ae(329))}}}return Hn(t,At()),t.callbackNode===r?Db.bind(null,t):null}function Pg(t,e){var r=xl;return t.current.memoizedState.isDehydrated&&(Ps(t,e).flags|=256),t=kh(t,e),t!==2&&(e=Un,Un=r,e!==null&&Rg(e)),t}function Rg(t){Un===null?Un=t:Un.push.apply(Un,t)}function CI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],o=s.getSnapshot;s=s.value;try{if(!Rr(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e){for(e&=~nv,e&=~vd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ir(e),i=1<<r;t[r]=-1,e&=~i}}function d1(t){if(Xe&6)throw Error(ae(327));Wo();var e=lh(t,0);if(!(e&1))return Hn(t,At()),null;var r=kh(t,e);if(t.tag!==0&&r===2){var i=tg(t);i!==0&&(e=i,r=Pg(t,i))}if(r===1)throw r=Kl,Ps(t,0),Ri(t,e),Hn(t,At()),r;if(r===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ys(t,Un,ti),Hn(t,At()),null}function iv(t,e){var r=Xe;Xe|=1;try{return t(e)}finally{Xe=r,Xe===0&&(sa=At()+500,fd&&is())}}function Bs(t){ji!==null&&ji.tag===0&&!(Xe&6)&&Wo();var e=Xe;Xe|=1;var r=fr.transition,i=rt;try{if(fr.transition=null,rt=1,t)return t()}finally{rt=i,fr.transition=r,Xe=e,!(Xe&6)&&is()}}function sv(){Xn=Mo.current,ht(Mo)}function Ps(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Z2(r)),Ut!==null)for(r=Ut.return;r!==null;){var i=r;switch(Fm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&fh();break;case 3:ra(),ht(Vn),ht(kn),Km();break;case 5:qm(i);break;case 4:ra();break;case 13:ht(wt);break;case 19:ht(wt);break;case 10:Vm(i.type._context);break;case 22:case 23:sv()}r=r.return}if(en=t,Ut=t=Wi(t.current,null),cn=Xn=e,Wt=0,Kl=null,nv=vd=Us=0,Un=xl=null,_s!==null){for(e=0;e<_s.length;e++)if(r=_s[e],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,i.next=a}r.pending=i}_s=null}return t}function Mb(t,e){do{var r=Ut;try{if(zm(),Uc.current=bh,Sh){for(var i=St.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Sh=!1}if(Fs=0,Qt=Ht=St=null,yl=!1,Hl=0,tv.current=null,r===null||r.return===null){Wt=1,Kl=e,Ut=null;break}e:{var o=t,a=r.return,u=r,h=e;if(e=cn,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var d=h,g=u,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var w=g.alternate;w?(g.updateQueue=w.updateQueue,g.memoizedState=w.memoizedState,g.lanes=w.lanes):(g.updateQueue=null,g.memoizedState=null)}var O=Z0(a);if(O!==null){O.flags&=-257,e1(O,a,u,o,e),O.mode&1&&J0(o,d,e),e=O,h=d;var S=e.updateQueue;if(S===null){var R=new Set;R.add(h),e.updateQueue=R}else S.add(h);break e}else{if(!(e&1)){J0(o,d,e),ov();break e}h=Error(ae(426))}}else if(mt&&u.mode&1){var M=Z0(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),e1(M,a,u,o,e),Um(ia(h,u));break e}}o=h=ia(h,u),Wt!==4&&(Wt=2),xl===null?xl=[o]:xl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=wb(o,h,e);H0(o,x);break e;case 1:u=h;var C=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof C.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Gi===null||!Gi.has(k)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=xb(o,u,e);H0(o,A);break e}}o=o.return}while(o!==null)}Fb(r)}catch(_){e=_,Ut===r&&r!==null&&(Ut=r=r.return);continue}break}while(1)}function jb(){var t=Ch.current;return Ch.current=bh,t===null?bh:t}function ov(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),en===null||!(Us&268435455)&&!(vd&268435455)||Ri(en,cn)}function kh(t,e){var r=Xe;Xe|=2;var i=jb();(en!==t||cn!==e)&&(ti=null,Ps(t,e));do try{_I();break}catch(s){Mb(t,s)}while(1);if(zm(),Xe=r,Ch.current=i,Ut!==null)throw Error(ae(261));return en=null,cn=0,Wt}function _I(){for(;Ut!==null;)$b(Ut)}function EI(){for(;Ut!==null&&!XT();)$b(Ut)}function $b(t){var e=Bb(t.alternate,t,Xn);t.memoizedProps=t.pendingProps,e===null?Fb(t):Ut=e,tv.current=null}function Fb(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=yI(r,e),r!==null){r.flags&=32767,Ut=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Wt=6,Ut=null;return}}else if(r=vI(r,e,Xn),r!==null){Ut=r;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);Wt===0&&(Wt=5)}function ys(t,e,r){var i=rt,s=fr.transition;try{fr.transition=null,rt=1,kI(t,e,r,i)}finally{fr.transition=s,rt=i}return null}function kI(t,e,r,i){do Wo();while(ji!==null);if(Xe&6)throw Error(ae(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(o2(t,o),t===en&&(Ut=en=null,cn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vc||(vc=!0,zb(ah,function(){return Wo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=fr.transition,fr.transition=null;var a=rt;rt=1;var u=Xe;Xe|=4,tv.current=null,xI(t,r),Ob(r,t),W2(ag),uh=!!og,ag=og=null,t.current=r,SI(r),QT(),Xe=u,rt=a,fr.transition=o}else t.current=r;if(vc&&(vc=!1,ji=t,Eh=s),o=t.pendingLanes,o===0&&(Gi=null),e2(r.stateNode),Hn(t,At()),e!==null)for(i=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(_h)throw _h=!1,t=Tg,Tg=null,t;return Eh&1&&t.tag!==0&&Wo(),o=t.pendingLanes,o&1?t===Ig?Sl++:(Sl=0,Ig=t):Sl=0,is(),null}function Wo(){if(ji!==null){var t=yS(Eh),e=fr.transition,r=rt;try{if(fr.transition=null,rt=16>t?16:t,ji===null)var i=!1;else{if(t=ji,ji=null,Eh=0,Xe&6)throw Error(ae(331));var s=Xe;for(Xe|=4,ge=t.current;ge!==null;){var o=ge,a=o.child;if(ge.flags&16){var u=o.deletions;if(u!==null){for(var h=0;h<u.length;h++){var d=u[h];for(ge=d;ge!==null;){var g=ge;switch(g.tag){case 0:case 11:case 15:wl(8,g,o)}var v=g.child;if(v!==null)v.return=g,ge=v;else for(;ge!==null;){g=ge;var w=g.sibling,O=g.return;if(Rb(g),g===d){ge=null;break}if(w!==null){w.return=O,ge=w;break}ge=O}}}var S=o.alternate;if(S!==null){var R=S.child;if(R!==null){S.child=null;do{var M=R.sibling;R.sibling=null,R=M}while(R!==null)}}ge=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ge=a;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wl(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ge=x;break e}ge=o.return}}var C=t.current;for(ge=C;ge!==null;){a=ge;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,ge=k;else e:for(a=C;ge!==null;){if(u=ge,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:md(9,u)}}catch(_){Et(u,u.return,_)}if(u===a){ge=null;break e}var A=u.sibling;if(A!==null){A.return=u.return,ge=A;break e}ge=u.return}}if(Xe=s,is(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(ld,t)}catch{}i=!0}return i}finally{rt=r,fr.transition=e}}return!1}function f1(t,e,r){e=ia(r,e),e=wb(t,e,1),t=Vi(t,e,1),e=Mn(),t!==null&&(vu(t,1,e),Hn(t,e))}function Et(t,e,r){if(t.tag===3)f1(t,t,r);else for(;e!==null;){if(e.tag===3){f1(e,t,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gi===null||!Gi.has(i))){t=ia(r,t),t=xb(e,t,1),e=Vi(e,t,1),t=Mn(),e!==null&&(vu(e,1,t),Hn(e,t));break}}e=e.return}}function TI(t,e,r){var i=t.pingCache;i!==null&&i.delete(e),e=Mn(),t.pingedLanes|=t.suspendedLanes&r,en===t&&(cn&r)===r&&(Wt===4||Wt===3&&(cn&130023424)===cn&&500>At()-rv?Ps(t,0):nv|=r),Hn(t,e)}function Ub(t,e){e===0&&(t.mode&1?(e=ac,ac<<=1,!(ac&130023424)&&(ac=4194304)):e=1);var r=Mn();t=pi(t,e),t!==null&&(vu(t,e,r),Hn(t,r))}function II(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Ub(t,r)}function PI(t,e){var r=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(ae(314))}i!==null&&i.delete(e),Ub(t,r)}var Bb;Bb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vn.current)zn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return zn=!1,mI(t,e,r);zn=!!(t.flags&131072)}else zn=!1,mt&&e.flags&1048576&&GS(e,mh,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;zc(t,e),t=e.pendingProps;var s=ea(e,kn.current);Ho(e,r),s=Xm(null,e,i,t,s,r);var o=Qm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gn(i)?(o=!0,ph(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hm(e),s.updater=pd,e.stateNode=s,s._reactInternals=e,mg(e,i,t,r),e=wg(null,e,i,!0,o,r)):(e.tag=0,mt&&o&&$m(e),An(null,e,s,r),e=e.child),e;case 16:i=e.elementType;e:{switch(zc(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=AI(i),t=Cr(i,t),s){case 0:e=yg(null,e,i,t,r);break e;case 1:e=r1(null,e,i,t,r);break e;case 11:e=t1(null,e,i,t,r);break e;case 14:e=n1(null,e,i,Cr(i.type,t),r);break e}throw Error(ae(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Cr(i,s),yg(t,e,i,s,r);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Cr(i,s),r1(t,e,i,s,r);case 3:e:{if(_b(e),t===null)throw Error(ae(387));i=e.pendingProps,o=e.memoizedState,s=o.element,KS(t,e),wh(e,i,null,r);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=ia(Error(ae(423)),e),e=i1(t,e,i,r,s);break e}else if(i!==s){s=ia(Error(ae(424)),e),e=i1(t,e,i,r,s);break e}else for(Zn=zi(e.stateNode.containerInfo.firstChild),tr=e,mt=!0,Er=null,r=JS(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ta(),i===s){e=gi(t,e,r);break e}An(t,e,i,r)}e=e.child}return e;case 5:return ZS(e),t===null&&fg(e),i=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,lg(i,s)?a=null:o!==null&&lg(i,o)&&(e.flags|=32),Cb(t,e),An(t,e,a,r),e.child;case 6:return t===null&&fg(e),null;case 13:return Eb(t,e,r);case 4:return Wm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=na(e,null,i,r):An(t,e,i,r),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Cr(i,s),t1(t,e,i,s,r);case 7:return An(t,e,e.pendingProps,r),e.child;case 8:return An(t,e,e.pendingProps.children,r),e.child;case 12:return An(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,at(vh,i._currentValue),i._currentValue=a,o!==null)if(Rr(o.value,a)){if(o.children===s.children&&!Vn.current){e=gi(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var h=u.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=ui(-1,r&-r),h.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?h.next=h:(h.next=g.next,g.next=h),d.pending=h}}o.lanes|=r,h=o.alternate,h!==null&&(h.lanes|=r),pg(o.return,r,e),u.lanes|=r;break}h=h.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ae(341));a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),pg(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}An(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Ho(e,r),s=gr(s),i=i(s),e.flags|=1,An(t,e,i,r),e.child;case 14:return i=e.type,s=Cr(i,e.pendingProps),s=Cr(i.type,s),n1(t,e,i,s,r);case 15:return Sb(t,e,e.type,e.pendingProps,r);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Cr(i,s),zc(t,e),e.tag=1,Gn(i)?(t=!0,ph(e)):t=!1,Ho(e,r),XS(e,i,s),mg(e,i,s,r),wg(null,e,i,!0,t,r);case 19:return kb(t,e,r);case 22:return bb(t,e,r)}throw Error(ae(156,e.tag))};function zb(t,e){return pS(t,e)}function RI(t,e,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(t,e,r,i){return new RI(t,e,r,i)}function av(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AI(t){if(typeof t=="function")return av(t)?1:0;if(t!=null){if(t=t.$$typeof,t===km)return 11;if(t===Tm)return 14}return 2}function Wi(t,e){var r=t.alternate;return r===null?(r=dr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Hc(t,e,r,i,s,o){var a=2;if(i=t,typeof t=="function")av(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ko:return Rs(r.children,s,o,e);case Em:a=8,s|=8;break;case Up:return t=dr(12,r,e,s|2),t.elementType=Up,t.lanes=o,t;case Bp:return t=dr(13,r,e,s),t.elementType=Bp,t.lanes=o,t;case zp:return t=dr(19,r,e,s),t.elementType=zp,t.lanes=o,t;case Qx:return yd(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yx:a=10;break e;case Xx:a=9;break e;case km:a=11;break e;case Tm:a=14;break e;case Ti:a=16,i=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=dr(a,r,e,s),e.elementType=t,e.type=i,e.lanes=o,e}function Rs(t,e,r,i){return t=dr(7,t,i,e),t.lanes=r,t}function yd(t,e,r,i){return t=dr(22,t,i,e),t.elementType=Qx,t.lanes=r,t.stateNode={isHidden:!1},t}function rp(t,e,r){return t=dr(6,t,null,e),t.lanes=r,t}function ip(t,e,r){return e=dr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NI(t,e,r,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$f(0),this.expirationTimes=$f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lv(t,e,r,i,s,o,a,u,h){return t=new NI(t,e,r,u,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=dr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hm(o),t}function OI(t,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eo,key:i==null?null:""+i,children:t,containerInfo:e,implementation:r}}function Vb(t){if(!t)return Qi;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var r=t.type;if(Gn(r))return zS(t,r,e)}return e}function Gb(t,e,r,i,s,o,a,u,h){return t=lv(r,i,!0,t,s,o,a,u,h),t.context=Vb(null),r=t.current,i=Mn(),s=Hi(r),o=ui(i,s),o.callback=e??null,Vi(r,o,s),t.current.lanes=s,vu(t,s,i),Hn(t,i),t}function wd(t,e,r,i){var s=e.current,o=Mn(),a=Hi(s);return r=Vb(r),e.context===null?e.context=r:e.pendingContext=r,e=ui(o,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Vi(s,e,a),t!==null&&(Pr(t,s,a,o),Fc(t,s,a)),a}function Th(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function p1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function uv(t,e){p1(t,e),(t=t.alternate)&&p1(t,e)}function LI(){return null}var Hb=typeof reportError=="function"?reportError:function(t){console.error(t)};function cv(t){this._internalRoot=t}xd.prototype.render=cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));wd(t,e,null,null)};xd.prototype.unmount=cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bs(function(){wd(null,t,null,null)}),e[fi]=null}};function xd(t){this._internalRoot=t}xd.prototype.unstable_scheduleHydration=function(t){if(t){var e=SS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pi.length&&e!==0&&e<Pi[r].priority;r++);Pi.splice(r,0,t),r===0&&CS(t)}};function hv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g1(){}function DI(t,e,r,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var d=Th(a);o.call(d)}}var a=Gb(e,i,t,0,null,!1,!1,"",g1);return t._reactRootContainer=a,t[fi]=a.current,Ul(t.nodeType===8?t.parentNode:t),Bs(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var u=i;i=function(){var d=Th(h);u.call(d)}}var h=lv(t,0,!1,null,null,!1,!1,"",g1);return t._reactRootContainer=h,t[fi]=h.current,Ul(t.nodeType===8?t.parentNode:t),Bs(function(){wd(e,h,r,i)}),h}function bd(t,e,r,i,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var u=s;s=function(){var h=Th(a);u.call(h)}}wd(e,a,t,s)}else a=DI(r,e,t,s,i);return Th(a)}wS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=sl(e.pendingLanes);r!==0&&(Rm(e,r|1),Hn(e,At()),!(Xe&6)&&(sa=At()+500,is()))}break;case 13:Bs(function(){var i=pi(t,1);if(i!==null){var s=Mn();Pr(i,t,1,s)}}),uv(t,1)}};Am=function(t){if(t.tag===13){var e=pi(t,134217728);if(e!==null){var r=Mn();Pr(e,t,134217728,r)}uv(t,134217728)}};xS=function(t){if(t.tag===13){var e=Hi(t),r=pi(t,e);if(r!==null){var i=Mn();Pr(r,t,e,i)}uv(t,e)}};SS=function(){return rt};bS=function(t,e){var r=rt;try{return rt=t,e()}finally{rt=r}};Jp=function(t,e,r){switch(e){case"input":if(Hp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==t&&i.form===t.form){var s=dd(i);if(!s)throw Error(ae(90));Zx(i),Hp(i,s)}}}break;case"textarea":tS(t,r);break;case"select":e=r.value,e!=null&&Bo(t,!!r.multiple,e,!1)}};lS=iv;uS=Bs;var MI={usingClientEntryPoint:!1,Events:[wu,Ro,dd,oS,aS,iv]},Xa={findFiberByHostInstance:Cs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jI={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dS(t),t===null?null:t.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||LI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{ld=yc.inject(jI),Gr=yc}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MI;sr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hv(e))throw Error(ae(200));return OI(t,e,null,r)};sr.createRoot=function(t,e){if(!hv(t))throw Error(ae(299));var r=!1,i="",s=Hb;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=lv(t,1,!1,null,null,r,!1,i,s),t[fi]=e.current,Ul(t.nodeType===8?t.parentNode:t),new cv(e)};sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=dS(e),t=t===null?null:t.stateNode,t};sr.flushSync=function(t){return Bs(t)};sr.hydrate=function(t,e,r){if(!Sd(e))throw Error(ae(200));return bd(null,t,e,!0,r)};sr.hydrateRoot=function(t,e,r){if(!hv(t))throw Error(ae(405));var i=r!=null&&r.hydratedSources||null,s=!1,o="",a=Hb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Gb(e,null,t,1,r??null,s,!1,o,a),t[fi]=e.current,Ul(t),i)for(t=0;t<i.length;t++)r=i[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new xd(e)};sr.render=function(t,e,r){if(!Sd(e))throw Error(ae(200));return bd(null,t,e,!1,r)};sr.unmountComponentAtNode=function(t){if(!Sd(t))throw Error(ae(40));return t._reactRootContainer?(Bs(function(){bd(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};sr.unstable_batchedUpdates=iv;sr.unstable_renderSubtreeIntoContainer=function(t,e,r,i){if(!Sd(r))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return bd(t,e,r,!1,i)};sr.version="18.2.0-next-9e3b772b8-20220608";function Wb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wb)}catch(t){console.error(t)}}Wb(),Gx.exports=sr;var dv=Gx.exports;const wc=vm(dv);var m1=dv;$p.createRoot=m1.createRoot,$p.hydrateRoot=m1.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Yl.apply(this,arguments)}var $i;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($i||($i={}));const v1="popstate";function $I(t){t===void 0&&(t={});function e(i,s){let{pathname:o,search:a,hash:u}=i.location;return Ag("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){return typeof s=="string"?s:qb(s)}return UI(e,r,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FI(){return Math.random().toString(36).substr(2,8)}function y1(t,e){return{usr:t.state,key:t.key,idx:e}}function Ag(t,e,r,i){return r===void 0&&(r=null),Yl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ba(e):e,{state:r,key:e&&e.key||i||FI()})}function qb(t){let{pathname:e="/",search:r="",hash:i=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ba(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function UI(t,e,r,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,u=$i.Pop,h=null,d=g();d==null&&(d=0,a.replaceState(Yl({},a.state,{idx:d}),""));function g(){return(a.state||{idx:null}).idx}function v(){u=$i.Pop;let M=g(),x=M==null?null:M-d;d=M,h&&h({action:u,location:R.location,delta:x})}function w(M,x){u=$i.Push;let C=Ag(R.location,M,x);r&&r(C,M),d=g()+1;let k=y1(C,d),A=R.createHref(C);try{a.pushState(k,"",A)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(A)}o&&h&&h({action:u,location:R.location,delta:1})}function O(M,x){u=$i.Replace;let C=Ag(R.location,M,x);r&&r(C,M),d=g();let k=y1(C,d),A=R.createHref(C);a.replaceState(k,"",A),o&&h&&h({action:u,location:R.location,delta:0})}function S(M){let x=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof M=="string"?M:qb(M);return qt(x,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,x)}let R={get action(){return u},get location(){return t(s,a)},listen(M){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(v1,v),h=M,()=>{s.removeEventListener(v1,v),h=null}},createHref(M){return e(s,M)},createURL:S,encodeLocation(M){let x=S(M);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:w,replace:O,go(M){return a.go(M)}};return R}var w1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(w1||(w1={}));function BI(t,e,r){r===void 0&&(r="/");let i=typeof e=="string"?ba(e):e,s=Xb(i.pathname||"/",r);if(s==null)return null;let o=Kb(t);zI(o);let a=null;for(let u=0;a==null&&u<o.length;++u)a=QI(o[u],eP(s));return a}function Kb(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r=[]),i===void 0&&(i="");let s=(o,a,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};h.relativePath.startsWith("/")&&(qt(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let d=As([i,h.relativePath]),g=r.concat(h);o.children&&o.children.length>0&&(qt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Kb(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:YI(d,o.index),routesMeta:g})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,a);else for(let h of Yb(o.path))s(o,a,h)}),e}function Yb(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let a=Yb(i.join("/")),u=[];return u.push(...a.map(h=>h===""?o:[o,h].join("/"))),s&&u.push(...a),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function zI(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:XI(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const VI=/^:\w+$/,GI=3,HI=2,WI=1,qI=10,KI=-2,x1=t=>t==="*";function YI(t,e){let r=t.split("/"),i=r.length;return r.some(x1)&&(i+=KI),e&&(i+=HI),r.filter(s=>!x1(s)).reduce((s,o)=>s+(VI.test(o)?GI:o===""?WI:qI),i)}function XI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function QI(t,e){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],h=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",g=JI({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d);if(!g)return null;Object.assign(i,g.params);let v=u.route;o.push({params:i,pathname:As([s,g.pathname]),pathnameBase:oP(As([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=As([s,g.pathnameBase]))}return o}function JI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=ZI(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((d,g,v)=>{if(g==="*"){let w=u[v]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}return d[g]=tP(u[v]||"",g),d},{}),pathname:o,pathnameBase:a,pattern:t}}function ZI(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),fv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,u)=>(i.push(u),"/([^\\/]+)"));return t.endsWith("*")?(i.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function eP(t){try{return decodeURI(t)}catch(e){return fv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tP(t,e){try{return decodeURIComponent(t)}catch(r){return fv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function Xb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function nP(t,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:s=""}=typeof t=="string"?ba(t):t;return{pathname:r?r.startsWith("/")?r:rP(r,e):e,search:aP(i),hash:lP(s)}}function rP(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function sp(t,e,r,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iP(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function sP(t,e,r,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=ba(t):(s=Yl({},t),qt(!s.pathname||!s.pathname.includes("?"),sp("?","pathname","search",s)),qt(!s.pathname||!s.pathname.includes("#"),sp("#","pathname","hash",s)),qt(!s.search||!s.search.includes("#"),sp("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,u;if(i||a==null)u=r;else{let v=e.length-1;if(a.startsWith("..")){let w=a.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}u=v>=0?e[v]:"/"}let h=nP(s,u),d=a&&a!=="/"&&a.endsWith("/"),g=(o||a===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}const As=t=>t.join("/").replace(/\/\/+/g,"/"),oP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Qb=["post","put","patch","delete"];new Set(Qb);const cP=["get",...Qb];new Set(cP);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ih(){return Ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ih.apply(this,arguments)}const pv=D.createContext(null),hP=D.createContext(null),Cd=D.createContext(null),_d=D.createContext(null),ro=D.createContext({outlet:null,matches:[],isDataRoute:!1}),Jb=D.createContext(null);function Ed(){return D.useContext(_d)!=null}function Zb(){return Ed()||qt(!1),D.useContext(_d).location}function eC(t){D.useContext(Cd).static||D.useLayoutEffect(t)}function vr(){let{isDataRoute:t}=D.useContext(ro);return t?EP():dP()}function dP(){Ed()||qt(!1);let t=D.useContext(pv),{basename:e,navigator:r}=D.useContext(Cd),{matches:i}=D.useContext(ro),{pathname:s}=Zb(),o=JSON.stringify(iP(i).map(h=>h.pathnameBase)),a=D.useRef(!1);return eC(()=>{a.current=!0}),D.useCallback(function(h,d){if(d===void 0&&(d={}),!a.current)return;if(typeof h=="number"){r.go(h);return}let g=sP(h,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:As([e,g.pathname])),(d.replace?r.replace:r.push)(g,d.state,d)},[e,r,o,s,t])}function fP(){let{matches:t}=D.useContext(ro),e=t[t.length-1];return e?e.params:{}}function pP(t,e){return gP(t,e)}function gP(t,e,r){Ed()||qt(!1);let{navigator:i}=D.useContext(Cd),{matches:s}=D.useContext(ro),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=Zb(),d;if(e){var g;let R=typeof e=="string"?ba(e):e;u==="/"||(g=R.pathname)!=null&&g.startsWith(u)||qt(!1),d=R}else d=h;let v=d.pathname||"/",w=u==="/"?v:v.slice(u.length)||"/",O=BI(t,{pathname:w}),S=xP(O&&O.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:As([u,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?u:As([u,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,r);return e&&S?D.createElement(_d.Provider,{value:{location:Ih({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$i.Pop}},S):S}function mP(){let t=_P(),e=uP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:s},r):null,o)}const vP=D.createElement(mP,null);class yP extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?D.createElement(ro.Provider,{value:this.props.routeContext},D.createElement(Jb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wP(t){let{routeContext:e,match:r,children:i}=t,s=D.useContext(pv);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(ro.Provider,{value:e},i)}function xP(t,e,r){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));u>=0||qt(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((u,h,d)=>{let g=h.route.id?a==null?void 0:a[h.route.id]:null,v=null;r&&(v=h.route.errorElement||vP);let w=e.concat(o.slice(0,d+1)),O=()=>{let S;return g?S=v:h.route.Component?S=D.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=u,D.createElement(wP,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:S})};return r&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?D.createElement(yP,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:O(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):O()},null)}var Ng;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Ng||(Ng={}));var Xl;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Xl||(Xl={}));function SP(t){let e=D.useContext(pv);return e||qt(!1),e}function bP(t){let e=D.useContext(hP);return e||qt(!1),e}function CP(t){let e=D.useContext(ro);return e||qt(!1),e}function tC(t){let e=CP(),r=e.matches[e.matches.length-1];return r.route.id||qt(!1),r.route.id}function _P(){var t;let e=D.useContext(Jb),r=bP(Xl.UseRouteError),i=tC(Xl.UseRouteError);return e||((t=r.errors)==null?void 0:t[i])}function EP(){let{router:t}=SP(Ng.UseNavigateStable),e=tC(Xl.UseNavigateStable),r=D.useRef(!1);return eC(()=>{r.current=!0}),D.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ih({fromRouteId:e},o)))},[t,e])}function jr(t){qt(!1)}function kP(t){let{basename:e="/",children:r=null,location:i,navigationType:s=$i.Pop,navigator:o,static:a=!1}=t;Ed()&&qt(!1);let u=e.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:u,navigator:o,static:a}),[u,o,a]);typeof i=="string"&&(i=ba(i));let{pathname:d="/",search:g="",hash:v="",state:w=null,key:O="default"}=i,S=D.useMemo(()=>{let R=Xb(d,u);return R==null?null:{location:{pathname:R,search:g,hash:v,state:w,key:O},navigationType:s}},[u,d,g,v,w,O,s]);return S==null?null:D.createElement(Cd.Provider,{value:h},D.createElement(_d.Provider,{children:r,value:S}))}function TP(t){let{children:e,location:r}=t;return pP(Og(e),r)}var S1;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(S1||(S1={}));new Promise(()=>{});function Og(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(i,s)=>{if(!D.isValidElement(i))return;let o=[...e,s];if(i.type===D.Fragment){r.push.apply(r,Og(i.props.children,o));return}i.type!==jr&&qt(!1),!i.props.index||!i.props.children||qt(!1);let a={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Og(i.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const IP="startTransition",b1=jp[IP];function PP(t){let{basename:e,children:r,future:i,window:s}=t,o=D.useRef();o.current==null&&(o.current=$I({window:s,v5Compat:!0}));let a=o.current,[u,h]=D.useState({action:a.action,location:a.location}),{v7_startTransition:d}=i||{},g=D.useCallback(v=>{d&&b1?b1(()=>h(v)):h(v)},[h,d]);return D.useLayoutEffect(()=>a.listen(g),[a,g]),D.createElement(kP,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:a})}var C1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(C1||(C1={}));var _1;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_1||(_1={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=function(t){const e=[];let r=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},RP=function(t){const e=[];let r=0,i=0;for(;r<t.length;){const s=t[r++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[r++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[r++],a=t[r++],u=t[r++],h=((s&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[r++],a=t[r++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},rC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,u=a?t[s+1]:0,h=s+2<t.length,d=h?t[s+2]:0,g=o>>2,v=(o&3)<<4|u>>4;let w=(u&15)<<2|d>>6,O=d&63;h||(O=64,a||(w=64)),i.push(r[g],r[v],r[w],r[O])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=r[t.charAt(s++)],u=s<t.length?r[t.charAt(s)]:0;++s;const d=s<t.length?r[t.charAt(s)]:64;++s;const v=s<t.length?r[t.charAt(s)]:64;if(++s,o==null||u==null||d==null||v==null)throw Error();const w=o<<2|u>>4;if(i.push(w),d!==64){const O=u<<4&240|d>>2;if(i.push(O),v!==64){const S=d<<6&192|v;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},AP=function(t){const e=nC(t);return rC.encodeByteArray(e,!0)},iC=function(t){return AP(t).replace(/\./g,"")},NP=function(t){try{return rC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function oC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LP(){return tn().indexOf("Electron/")>=0}function lC(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DP(){return tn().indexOf("MSAppHost/")>=0}function MP(){return typeof indexedDB=="object"}function jP(){return new Promise((t,e)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="FirebaseError";class ss extends Error{constructor(e,r,i){super(r),this.code=e,this.customData=i,this.name=$P,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,r,i){this.service=e,this.serviceName=r,this.errors=i}create(e,...r){const i=r[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?FP(o,i):"Error",u=`${this.serviceName}: ${a} (${s}).`;return new ss(s,u,i)}}function FP(t,e){return t.replace(UP,(r,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const UP=/\{\$([^}]+)}/g;function BP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ph(t,e){if(t===e)return!0;const r=Object.keys(t),i=Object.keys(e);for(const s of r){if(!i.includes(s))return!1;const o=t[s],a=e[s];if(E1(o)&&E1(a)){if(!Ph(o,a))return!1}else if(o!==a)return!1}for(const s of i)if(!r.includes(s))return!1;return!0}function E1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){const e=[];for(const[r,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function al(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function ll(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function zP(t,e){const r=new VP(t,e);return r.subscribe.bind(r)}class VP{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,i){let s;if(e===void 0&&r===void 0&&i===void 0)throw new Error("Missing Observer.");GP(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:i},s.next===void 0&&(s.next=op),s.error===void 0&&(s.error=op),s.complete===void 0&&(s.complete=op);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GP(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t,e){return new Promise((r,i)=>{t.onsuccess=s=>{r(s.target.result)},t.onerror=s=>{var o;i(`${e}: ${(o=s.target.error)===null||o===void 0?void 0:o.message}`)}})}class k1{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,r="readonly"){return new uC(this._db.transaction.call(this._db,e,r))}createObjectStore(e,r){return new cC(this._db.createObjectStore(e,r))}close(){this._db.close()}}class uC{constructor(e){this._transaction=e,this.complete=new Promise((r,i)=>{this._transaction.oncomplete=function(){r()},this._transaction.onerror=()=>{i(this._transaction.error)},this._transaction.onabort=()=>{i(this._transaction.error)}})}objectStore(e){return new cC(this._transaction.objectStore(e))}}class cC{constructor(e){this._store=e}index(e){return new T1(this._store.index(e))}createIndex(e,r,i){return new T1(this._store.createIndex(e,r,i))}get(e){const r=this._store.get(e);return ul(r,"Error reading from IndexedDB")}put(e,r){const i=this._store.put(e,r);return ul(i,"Error writing to IndexedDB")}delete(e){const r=this._store.delete(e);return ul(r,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return ul(e,"Error clearing IndexedDB object store")}}class T1{constructor(e){this._index=e}get(e){const r=this._index.get(e);return ul(r,"Error reading from IndexedDB")}}function HP(t,e,r){return new Promise((i,s)=>{try{const o=indexedDB.open(t,e);o.onsuccess=a=>{i(new k1(a.target.result))},o.onerror=a=>{var u;s(`Error opening indexedDB: ${(u=a.target.error)===null||u===void 0?void 0:u.message}`)},o.onupgradeneeded=a=>{r(new k1(o.result),a.oldVersion,a.newVersion,new uC(o.transaction))}}catch(o){s(`Error opening indexedDB: ${o.message}`)}})}class Ji{constructor(e,r,i){this.name=e,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const i=new OP;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KP(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&a.resolve(s)}return s}onInit(e,r){var i;const s=this.normalizeInstanceIdentifier(r),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&e(a,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const i=this.onInitCallbacks.get(r);if(i)for(const s of i)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qP(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qP(t){return t===ws?void 0:t}function KP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new WP(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const XP={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},QP=Ze.INFO,JP={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},ZP=(t,e,...r)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=JP[e];if(s)console[s](`[${i}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gv{constructor(e){this.name=e,this._logLevel=QP,this._logHandler=ZP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(tR(r)){const i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}}function tR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lg="@firebase/app",I1="0.7.21";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new gv("@firebase/app"),nR="@firebase/app-compat",rR="@firebase/analytics-compat",iR="@firebase/analytics",sR="@firebase/app-check-compat",oR="@firebase/app-check",aR="@firebase/auth",lR="@firebase/auth-compat",uR="@firebase/database",cR="@firebase/database-compat",hR="@firebase/functions",dR="@firebase/functions-compat",fR="@firebase/installations",pR="@firebase/installations-compat",gR="@firebase/messaging",mR="@firebase/messaging-compat",vR="@firebase/performance",yR="@firebase/performance-compat",wR="@firebase/remote-config",xR="@firebase/remote-config-compat",SR="@firebase/storage",bR="@firebase/storage-compat",CR="@firebase/firestore",_R="@firebase/firestore-compat",ER="firebase",kR="9.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="[DEFAULT]",TR={[Lg]:"fire-core",[nR]:"fire-core-compat",[iR]:"fire-analytics",[rR]:"fire-analytics-compat",[oR]:"fire-app-check",[sR]:"fire-app-check-compat",[aR]:"fire-auth",[lR]:"fire-auth-compat",[uR]:"fire-rtdb",[cR]:"fire-rtdb-compat",[hR]:"fire-fn",[dR]:"fire-fn-compat",[fR]:"fire-iid",[pR]:"fire-iid-compat",[gR]:"fire-fcm",[mR]:"fire-fcm-compat",[vR]:"fire-perf",[yR]:"fire-perf-compat",[wR]:"fire-rc",[xR]:"fire-rc-compat",[SR]:"fire-gcs",[bR]:"fire-gcs-compat",[CR]:"fire-fst",[_R]:"fire-fst-compat","fire-js":"fire-js",[ER]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,Dg=new Map;function IR(t,e){try{t.container.addComponent(e)}catch(r){mv.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function zs(t){const e=t.name;if(Dg.has(e))return mv.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,t);for(const r of Rh.values())IR(r,t);return!0}function kd(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},Vs=new Su("app","Firebase",PR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,r,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=kR;function AR(t,e={}){typeof e!="object"&&(e={name:e});const r=Object.assign({name:hC,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vs.create("bad-app-name",{appName:String(i)});const s=Rh.get(i);if(s){if(Ph(t,s.options)&&Ph(r,s.config))return s;throw Vs.create("duplicate-app",{appName:i})}const o=new YP(i);for(const u of Dg.values())o.addComponent(u);const a=new RR(t,r,o);return Rh.set(i,a),a}function vv(t=hC){const e=Rh.get(t);if(!e)throw Vs.create("no-app",{appName:t});return e}function Wr(t,e,r){var i;let s=(i=TR[t])!==null&&i!==void 0?i:t;r&&(s+=`-${r}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mv.warn(u.join(" "));return}zs(new Ji(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firebase-heartbeat-database",OR=1,Ql="firebase-heartbeat-store";let ap=null;function dC(){return ap||(ap=HP(NR,OR,(t,e)=>{switch(e){case 0:t.createObjectStore(Ql)}}).catch(t=>{throw Vs.create("storage-open",{originalErrorMessage:t.message})})),ap}async function LR(t){try{return(await dC()).transaction(Ql).objectStore(Ql).get(fC(t))}catch(e){throw Vs.create("storage-get",{originalErrorMessage:e.message})}}async function P1(t,e){try{const i=(await dC()).transaction(Ql,"readwrite");return await i.objectStore(Ql).put(e,fC(t)),i.complete}catch(r){throw Vs.create("storage-set",{originalErrorMessage:r.message})}}function fC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=1024,MR=30*24*60*60*1e3;class jR{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new FR(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=R1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=MR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R1(),{heartbeatsToSend:r,unsentEntries:i}=$R(this._heartbeatsCache.heartbeats),s=iC(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function R1(){return new Date().toISOString().substring(0,10)}function $R(t,e=DR){const r=[];let i=t.slice();for(const s of t){const o=r.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),A1(r)>e){o.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),A1(r)>e){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class FR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MP()?jP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await LR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return P1(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return P1(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function A1(t){return iC(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t){zs(new Ji("platform-logger",e=>new eR(e),"PRIVATE")),zs(new Ji("heartbeat",e=>new jR(e),"PRIVATE")),Wr(Lg,I1,t),Wr(Lg,I1,"esm2017"),Wr("fire-js","")}UR("");var BR="firebase",zR="9.6.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(BR,zR,"app");function yv(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(r[i[s]]=t[i[s]]);return r}function pC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VR=pC,gC=new Su("auth","Firebase",pC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new gv("@firebase/auth");function Wc(t,...e){N1.logLevel<=Ze.ERROR&&N1.error(`Auth (${Ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw wv(t,...e)}function qr(t,...e){return wv(t,...e)}function GR(t,e,r){const i=Object.assign(Object.assign({},VR()),{[e]:r});return new Su("auth","Firebase",i).create(e,{appName:t.name})}function wv(t,...e){if(typeof t!="string"){const r=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(r,...i)}return gC.create(t,...e)}function Ne(t,e,...r){if(!t)throw wv(e,...r)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wc(e),new Error(e)}function mi(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Map;function oi(t){mi(t instanceof Function,"Expected a class definition");let e=O1.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,O1.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e){const r=kd(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),o=r.getOptions();if(Ph(o,e??{}))return s;Ar(s,"already-initialized")}return r.initialize({options:e})}function WR(t,e){const r=(e==null?void 0:e.persistence)||[],i=(Array.isArray(r)?r:[r]).map(oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qR(){return L1()==="http:"||L1()==="https:"}function L1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qR()||oC()||"connection"in navigator)?navigator.onLine:!0}function YR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,r){this.shortDelay=e,this.longDelay=r,mi(r>e,"Short delay should be less than long delay!"),this.isMobile=sC()||aC()}get(){return KR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e){mi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{static initialize(e,r,i){this.fetchImpl=e,r&&(this.headersImpl=r),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new Cu(3e4,6e4);function _u(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _a(t,e,r,i,s={}){return vC(t,s,async()=>{let o={},a={};i&&(e==="GET"?a=i:o={body:JSON.stringify(i)});const u=bu(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),mC.fetch()(yC(t,t.config.apiHost,r,u),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function vC(t,e,r){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},XR),e);try{const s=new JR(t),o=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw lp(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[h,d]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw lp(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw lp(t,"email-already-in-use",a);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw GR(t,g,d);Ar(t,g)}}catch(s){if(s instanceof ss)throw s;Ar(t,"network-request-failed")}}async function Eu(t,e,r,i,s={}){const o=await _a(t,e,r,i,s);return"mfaPendingCredential"in o&&Ar(t,"multi-factor-auth-required",{_serverResponse:o}),o}function yC(t,e,r,i){const s=`${e}${r}?${i}`;return t.config.emulator?xv(t.config,s):`${t.config.apiScheme}://${s}`}class JR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,i)=>{this.timer=setTimeout(()=>i(qr(this.auth,"network-request-failed")),QR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lp(t,e,r){const i={appName:t.name};r.email&&(i.email=r.email),r.phoneNumber&&(i.phoneNumber=r.phoneNumber);const s=qr(t,e,i);return s.customData._tokenResponse=r,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(t,e){return _a(t,"POST","/v1/accounts:delete",e)}async function eA(t,e){return _a(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tA(t,e=!1){const r=yt(t),i=await r.getIdToken(e),s=Sv(i);Ne(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:bl(up(s.auth_time)),issuedAtTime:bl(up(s.iat)),expirationTime:bl(up(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function up(t){return Number(t)*1e3}function Sv(t){const[e,r,i]=t.split(".");if(e===void 0||r===void 0||i===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const s=NP(r);return s?JSON.parse(s):(Wc("Failed to decode base64 JWT payload"),null)}catch(s){return Wc("Caught error parsing JWT payload as JSON",s),null}}function nA(t){const e=Sv(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(t,e,r=!1){if(r)return e;try{return await e}catch(i){throw i instanceof ss&&rA(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function rA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t){var e;const r=t.auth,i=await t.getIdToken(),s=await Gs(t,eA(r,{idToken:i}));Ne(s==null?void 0:s.users.length,r,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?aA(o.providerUserInfo):[],u=oA(t.providerData,a),h=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),g=h?d:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wC(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function sA(t){const e=yt(t);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oA(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function aA(t){return t.map(e=>{var{providerId:r}=e,i=yv(e,["providerId"]);return{providerId:r,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(t,e){const r=await vC(t,{},async()=>{const i=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,a=yC(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",mC.fetch()(a,{method:"POST",headers:u,body:i})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}async getToken(e,r=!1){return Ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:i,refreshToken:s,expiresIn:o}=await lA(e,r);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,r,i){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,r){const{refreshToken:i,accessToken:s,expirationTime:o}=r,a=new Jl;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(Ne(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(Ne(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jl,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor(e){var{uid:r,auth:i,stsTokenManager:s}=e,o=yv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wC(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await Gs(this,this.stsTokenManager.getToken(this.auth,e));return Ne(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return tA(this,e)}reload(){return sA(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),r&&await Ah(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Gs(this,ZR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var i,s,o,a,u,h,d,g;const v=(i=r.displayName)!==null&&i!==void 0?i:void 0,w=(s=r.email)!==null&&s!==void 0?s:void 0,O=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,S=(a=r.photoURL)!==null&&a!==void 0?a:void 0,R=(u=r.tenantId)!==null&&u!==void 0?u:void 0,M=(h=r._redirectEventId)!==null&&h!==void 0?h:void 0,x=(d=r.createdAt)!==null&&d!==void 0?d:void 0,C=(g=r.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:k,emailVerified:A,isAnonymous:_,providerData:F,stsTokenManager:N}=r;Ne(k&&N,e,"internal-error");const V=Jl.fromJSON(this.name,N);Ne(typeof k=="string",e,"internal-error"),ki(v,e.name),ki(w,e.name),Ne(typeof A=="boolean",e,"internal-error"),Ne(typeof _=="boolean",e,"internal-error"),ki(O,e.name),ki(S,e.name),ki(R,e.name),ki(M,e.name),ki(x,e.name),ki(C,e.name);const X=new Ns({uid:k,auth:e,email:w,emailVerified:A,displayName:v,isAnonymous:_,photoURL:S,phoneNumber:O,tenantId:R,stsTokenManager:V,createdAt:x,lastLoginAt:C});return F&&Array.isArray(F)&&(X.providerData=F.map(U=>Object.assign({},U))),M&&(X._redirectEventId=M),X}static async _fromIdTokenResponse(e,r,i=!1){const s=new Jl;s.updateFromServerResponse(r);const o=new Ns({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Ah(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}xC.type="NONE";const D1=xC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t,e,r){return`firebase:${t}:${e}:${r}`}class qo{constructor(e,r,i){this.persistence=e,this.auth=r,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=qc(this.userKey,s.apiKey,o),this.fullPersistenceKey=qc("persistence",s.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,i="authUser"){if(!r.length)return new qo(oi(D1),e,i);const s=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||oi(D1);const a=qc(i,e.config.apiKey,e.name);let u=null;for(const d of r)try{const g=await d._get(a);if(g){const v=Ns._fromJSON(e,g);d!==o&&(u=v),o=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new qo(o,e,i):(o=h[0],u&&await o._set(a,u.toJSON()),await Promise.all(r.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new qo(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EC(e))return"Blackberry";if(kC(e))return"Webos";if(bv(e))return"Safari";if((e.includes("chrome/")||bC(e))&&!e.includes("edge/"))return"Chrome";if(_C(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(r);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function SC(t=tn()){return/firefox\//i.test(t)}function bv(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bC(t=tn()){return/crios\//i.test(t)}function CC(t=tn()){return/iemobile/i.test(t)}function _C(t=tn()){return/android/i.test(t)}function EC(t=tn()){return/blackberry/i.test(t)}function kC(t=tn()){return/webos/i.test(t)}function Td(t=tn()){return/iphone|ipad|ipod/i.test(t)}function uA(t=tn()){var e;return Td(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cA(){return lC()&&document.documentMode===10}function TC(t=tn()){return Td(t)||_C(t)||kC(t)||EC(t)||/windows phone/i.test(t)||CC(t)}function hA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t,e=[]){let r;switch(t){case"Browser":r=M1(tn());break;case"Worker":r=`${M1(tn())}-${t}`;break;default:r=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ca}/${i}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,r,i){this.app=e,this.heartbeatServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gC,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=oi(r)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e)}}async initializeCurrentUser(e){var r;let i=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&(a!=null&&a.user)&&(i=a.user)}return i?i._redirectEventId?(Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)):this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(r){if(r.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const r=e?yt(e):null;return r&&Ne(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,r,i){return this.registerStateListener(this.authStateSubscription,e,r,i)}onIdTokenChanged(e,r,i){return this.registerStateListener(this.idTokenSubscription,e,r,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const i=await this.getOrInitRedirectPersistenceManager(r);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&oi(e)||this._popupRedirectResolver;Ne(r,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[oi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,i;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,i,s){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(a,this,"internal-error"),a.then(()=>o(this.currentUser)),typeof r=="function"?e.addObserver(r,i,s):e.addObserver(r)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return i&&(r["X-Firebase-Client"]=i),r}}function Id(t){return yt(t)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=zP(r=>this.observer=r)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,r){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function PC(t,e){return _a(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(t,e){return Eu(t,"POST","/v1/accounts:signInWithPassword",_u(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",_u(t,e))}async function gA(t,e){return Eu(t,"POST","/v1/accounts:signInWithEmailLink",_u(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Cv{constructor(e,r,i,s=null){super("password",i),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Zl(e,r,"password")}static _fromEmailAndCode(e,r,i=null){return new Zl(e,r,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return fA(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return pA(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":return PC(e,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return gA(e,{idToken:r,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t,e){return Eu(t,"POST","/v1/accounts:signInWithIdp",_u(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="http://localhost";class Hs extends Cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Ar("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=r,o=yv(r,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Hs(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Ko(e,r)}_linkToIdToken(e,r){const i=this.buildRequest();return i.idToken=r,Ko(e,i)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ko(e,r)}buildRequest(){const e={requestUri:mA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=bu(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yA(t){const e=al(ll(t)).link,r=e?al(ll(e)).deep_link_id:null,i=al(ll(t)).deep_link_id;return(i?al(ll(i)).link:null)||i||r||e||t}class _v{constructor(e){var r,i,s,o,a,u;const h=al(ll(e)),d=(r=h.apiKey)!==null&&r!==void 0?r:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,v=vA((s=h.mode)!==null&&s!==void 0?s:null);Ne(d&&g&&v,"argument-error"),this.apiKey=d,this.operation=v,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=h.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=yA(e);try{return new _v(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,r){return Zl._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const i=_v.parseLink(r);return Ne(i,"argument-error"),Zl._fromEmailAndCode(e,i.code,i.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends RC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends ku{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Hs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:i}=e;if(!r&&!i)return null;try{return Ni.credential(r,i)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends ku{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends ku{constructor(){super("twitter.com")}static credential(e,r){return Hs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=e;if(!r||!i)return null;try{return Li.credential(r,i)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(t,e){return Eu(t,"POST","/v1/accounts:signUp",_u(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,i,s=!1){const o=await Ns._fromIdTokenResponse(e,i,s),a=$1(i);return new Ws({user:o,providerId:a,_tokenResponse:i,operationType:r})}static async _forOperation(e,r,i){await e._updateTokensIfNecessary(i,!0);const s=$1(i);return new Ws({user:e,providerId:s,_tokenResponse:i,operationType:r})}}function $1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends ss{constructor(e,r,i,s){var o;super(r.code,r.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,r,i,s){return new Nh(e,r,i,s)}}function AC(t,e,r,i){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(t,o,e,i):o})}async function xA(t,e,r=!1){const i=await Gs(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ws._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(t,e,r=!1){const{auth:i}=t,s="reauthenticate";try{const o=await Gs(t,AC(i,s,e,t),r);Ne(o.idToken,i,"internal-error");const a=Sv(o.idToken);Ne(a,i,"internal-error");const{sub:u}=a;return Ne(t.uid===u,i,"user-mismatch"),Ws._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ar(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(t,e,r=!1){const i="signIn",s=await AC(t,i,e),o=await Ws._fromIdTokenResponse(t,i,s);return r||await t._updateCurrentUser(o.user),o}async function SA(t,e){return OC(Id(t),e)}async function bA(t,e){return NC(yt(t),e)}async function CA(t,e,r){const i=Id(t),s=await wA(i,{returnSecureToken:!0,email:e,password:r}),o=await Ws._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(o.user),o}function _A(t,e,r){return SA(yt(t),io.credential(e,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(t,e){return _a(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const i=yt(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},a=await Gs(i,EA(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const u=i.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function kA(t,e){return TA(yt(t),e,null)}async function TA(t,e,r){const{auth:i}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),r&&(o.password=r);const a=await Gs(t,PC(i,o));await t._updateTokensIfNecessary(a,!0)}function IA(t,e,r,i){return yt(t).onAuthStateChanged(e,r,i)}function PA(t){return yt(t).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){const t=tn();return bv(t)||Td(t)}const AA=1e3,NA=10;class DC extends LC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=RA()&&hA(),this.fallbackToPolling=TC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&e(r,s,i)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,u,h)=>{this.notifyListeners(a,h)});return}const i=e.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);cA()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,NA):s()}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},AA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}DC.type="LOCAL";const OA=DC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends LC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}MC.type="SESSION";const jC=MC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const i=new Pd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(a).map(async d=>d(r.origin,o)),h=await LA(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t="",e=10){let r="";for(let i=0;i<e;i++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,h)=>{const d=Ev("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(v){const w=v;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function MA(t){Kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function jA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $A(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FA(){return $C()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="firebaseLocalStorageDb",UA=1,Lh="firebaseLocalStorage",UC="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Rd(t,e){return t.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function BA(){const t=indexedDB.deleteDatabase(FC);return new Tu(t).toPromise()}function jg(){const t=indexedDB.open(FC,UA);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Lh,{keyPath:UC})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Lh)?e(i):(i.close(),await BA(),e(await jg()))})})}async function F1(t,e,r){const i=Rd(t,!0).put({[UC]:e,value:r});return new Tu(i).toPromise()}async function zA(t,e){const r=Rd(t,!1).get(e),i=await new Tu(r).toPromise();return i===void 0?null:i.value}function U1(t,e){const r=Rd(t,!0).delete(e);return new Tu(r).toPromise()}const VA=800,GA=3;class BC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let r=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(r++>GA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $C()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(FA()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await jA(),!this.activeServiceWorker)return;this.sender=new DA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$A()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await F1(e,Oh,"1"),await U1(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>F1(i,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(i=>zA(i,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>U1(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Rd(s,!1).getAll();return new Tu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],i=new Set;for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BC.type="LOCAL";const HA=BC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function qA(t){return new Promise((e,r)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=qr("internal-error");o.customData=s,r(o)},i.type="text/javascript",i.charset="UTF-8",WA().appendChild(i)})}function KA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t,e){return e?oi(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends Cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ko(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function XA(t){return OC(t.auth,new kv(t),t.bypassAuthState)}function QA(t){const{auth:e,user:r}=t;return Ne(r,e,"internal-error"),NC(r,new kv(t),t.bypassAuthState)}async function JA(t){const{auth:e,user:r}=t;return Ne(r,e,"internal-error"),xA(r,new kv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,r,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XA;case"linkViaPopup":case"linkViaRedirect":return JA;case"reauthViaPopup":case"reauthViaRedirect":return QA;default:Ar(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Cu(2e3,1e4);class jo extends zC{constructor(e,r,i,s,o){super(e,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=Ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,ZA.get())};e()}}jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="pendingRedirect",hp=new Map;class tN extends zC{constructor(e,r,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i),this.eventId=null}async execute(){let e=hp.get(this.auth._key());if(!e){try{const i=await nN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(r){e=()=>Promise.reject(r)}hp.set(this.auth._key(),e)}return this.bypassAuthState||hp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nN(t,e){const r=iN(e),i=rN(t);if(!await i._isAvailable())return!1;const s=await i._get(r)==="true";return await i._remove(r),s}function rN(t){return oi(t._redirectPersistence)}function iN(t){return qc(eN,t.config.apiKey,t.name)}async function sN(t,e,r=!1){const i=Id(t),s=YA(i,e),a=await new tN(i,s,r).execute();return a&&!r&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=10*60*1e3;class aN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(r=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lN(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var i;if(e.error&&!VC(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";r.onError(qr(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const i=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oN&&this.cachedEventUids.clear(),this.cachedEventUids.has(B1(e))}saveEventToCache(e){this.cachedEventUids.add(B1(e)),this.lastProcessedEventTime=Date.now()}}function B1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(t,e={}){return _a(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hN=/^https?/;async function dN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uN(t);for(const r of e)try{if(fN(r))return}catch{}Ar(t,"unauthorized-domain")}function fN(t){const e=Mg(),{protocol:r,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===i}if(!hN.test(r))return!1;if(cN.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Cu(3e4,6e4);function z1(){const t=Kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function gN(t){return new Promise((e,r)=>{var i,s,o;function a(){z1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z1(),r(qr(t,"network-request-failed"))},timeout:pN.get()})}if(!((s=(i=Kr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Kr().gapi)===null||o===void 0)&&o.load)a();else{const u=KA("iframefcb");return Kr()[u]=()=>{gapi.load?a():r(qr(t,"network-request-failed"))},qA(`https://apis.google.com/js/api.js?onload=${u}`).catch(h=>r(h))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function mN(t){return Kc=Kc||gN(t),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new Cu(5e3,15e3),yN="__/auth/iframe",wN="emulator/auth/iframe",xN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bN(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?xv(e,wN):`https://${t.config.authDomain}/${yN}`,i={apiKey:e.apiKey,appName:t.name,v:Ca},s=SN.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${r}?${bu(i).slice(1)}`}async function CN(t){const e=await mN(t),r=Kr().gapi;return Ne(r,t,"internal-error"),e.open({where:document.body,url:bN(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xN,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const a=qr(t,"network-request-failed"),u=Kr().setTimeout(()=>{o(a)},vN.get());function h(){Kr().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EN=500,kN=600,TN="_blank",IN="http://localhost";class V1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PN(t,e,r,i=EN,s=kN){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},_N),{width:i.toString(),height:s.toString(),top:o,left:a}),d=tn().toLowerCase();r&&(u=bC(d)?TN:r),SC(d)&&(e=e||IN,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[O,S])=>`${w}${O}=${S},`,"");if(uA(d)&&u!=="_self")return RN(e||"",u),new V1(null);const v=window.open(e||"",u,g);Ne(v,t,"popup-blocked");try{v.focus()}catch{}return new V1(v)}function RN(t,e){const r=document.createElement("a");r.href=t,r.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="__/auth/handler",NN="emulator/auth/handler";function G1(t,e,r,i,s,o){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Ca,eventId:s};if(e instanceof RC){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",BP(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries(o||{}))a[h]=d}if(e instanceof ku){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];return`${ON(t)}?${bu(u).slice(1)}`}function ON({config:t}){return t.emulator?xv(t,NN):`https://${t.authDomain}/${AN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="webStorageSupport";class LN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jC,this._completeRedirectFn=sN}async _openPopup(e,r,i,s){var o;mi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=G1(e,r,i,Mg(),s);return PN(e,a,Ev())}async _openRedirect(e,r,i,s){return await this._originValidation(e),MA(G1(e,r,i,Mg(),s)),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:o}=this.eventManagers[r];return s?Promise.resolve(s):(mi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[r]={promise:i},i.catch(()=>{delete this.eventManagers[r]}),i}async initAndGetManager(e){const r=await CN(e),i=new aN(e);return r.register("authEvent",s=>(Ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=r,i}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(dp,{type:dp},s=>{var o;const a=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[dp];a!==void 0&&r(!!a),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=dN(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return TC()||bv()||Td()}}const DN=LN;var H1="@firebase/auth",W1="0.19.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(i=>{var s;e(((s=i)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $N(t){zs(new Ji("auth",(e,{options:r})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:o,authDomain:a}=i.options;return((u,h)=>{Ne(o&&!o.includes(":"),"invalid-api-key",{appName:u.name}),Ne(!(a!=null&&a.includes(":")),"argument-error",{appName:u.name});const d={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IC(t)},g=new dA(u,h,d);return WR(g,r),g})(i,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,i)=>{e.getProvider("auth-internal").initialize()})),zs(new Ji("auth-internal",e=>{const r=Id(e.getProvider("auth").getImmediate());return(i=>new MN(i))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(H1,W1,jN(t)),Wr(H1,W1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t=vv()){const e=kd(t,"auth");return e.isInitialized()?e.getImmediate():HR(t,{popupRedirectResolver:DN,persistence:[HA,OA,jC]})}$N("Browser");var UN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},me,Tv=Tv||{},Oe=UN||self;function Dh(){}function $g(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Iu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function BN(t){return Object.prototype.hasOwnProperty.call(t,fp)&&t[fp]||(t[fp]=++zN)}var fp="closure_uid_"+(1e9*Math.random()>>>0),zN=0;function VN(t,e,r){return t.call.apply(t.bind,arguments)}function GN(t,e,r){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function hn(t,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?hn=VN:hn=GN,hn.apply(null,arguments)}function xc(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var i=r.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function mn(t,e){function r(){}r.prototype=e.prototype,t.Z=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.Vb=function(i,s,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[s].apply(i,a)}}function os(){this.s=this.s,this.o=this.o}var HN=0;os.prototype.s=!1;os.prototype.na=function(){!this.s&&(this.s=!0,this.M(),HN!=0)&&BN(this)};os.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1},HC=Array.prototype.forEach?function(t,e,r){Array.prototype.forEach.call(t,e,r)}:function(t,e,r){const i=t.length,s=typeof t=="string"?t.split(""):t;for(let o=0;o<i;o++)o in s&&e.call(r,s[o],o,t)};function WN(t){e:{var e=jO;const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)if(s in i&&e.call(void 0,i[s],s,t)){e=s;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function q1(t){return Array.prototype.concat.apply([],arguments)}function Iv(t){const e=t.length;if(0<e){const r=Array(e);for(let i=0;i<e;i++)r[i]=t[i];return r}return[]}function Mh(t){return/^[\s\xa0]*$/.test(t)}var K1=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Nn(t,e){return t.indexOf(e)!=-1}function pp(t,e){return t<e?-1:t>e?1:0}var On;e:{var Y1=Oe.navigator;if(Y1){var X1=Y1.userAgent;if(X1){On=X1;break e}}On=""}function Pv(t,e,r){for(const i in t)e.call(r,t[i],i,t)}function WC(t){const e={};for(const r in t)e[r]=t[r];return e}var Q1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qC(t,e){let r,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(r in i)t[r]=i[r];for(let o=0;o<Q1.length;o++)r=Q1[o],Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}}function Rv(t){return Rv[" "](t),t}Rv[" "]=Dh;function qN(t){var e=XN;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var KN=Nn(On,"Opera"),oa=Nn(On,"Trident")||Nn(On,"MSIE"),KC=Nn(On,"Edge"),Fg=KC||oa,YC=Nn(On,"Gecko")&&!(Nn(On.toLowerCase(),"webkit")&&!Nn(On,"Edge"))&&!(Nn(On,"Trident")||Nn(On,"MSIE"))&&!Nn(On,"Edge"),YN=Nn(On.toLowerCase(),"webkit")&&!Nn(On,"Edge");function XC(){var t=Oe.document;return t?t.documentMode:void 0}var jh;e:{var gp="",mp=function(){var t=On;if(YC)return/rv:([^\);]+)(\)|;)/.exec(t);if(KC)return/Edge\/([\d\.]+)/.exec(t);if(oa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(YN)return/WebKit\/(\S+)/.exec(t);if(KN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(mp&&(gp=mp?mp[1]:""),oa){var vp=XC();if(vp!=null&&vp>parseFloat(gp)){jh=String(vp);break e}}jh=gp}var XN={};function QN(){return qN(function(){let t=0;const e=K1(String(jh)).split("."),r=K1("9").split("."),i=Math.max(e.length,r.length);for(let a=0;t==0&&a<i;a++){var s=e[a]||"",o=r[a]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s[0].length==0&&o[0].length==0)break;t=pp(s[1].length==0?0:parseInt(s[1],10),o[1].length==0?0:parseInt(o[1],10))||pp(s[2].length==0,o[2].length==0)||pp(s[2],o[2]),s=s[3],o=o[3]}while(t==0)}return 0<=t})}var Ug;if(Oe.document&&oa){var J1=XC();Ug=J1||parseInt(jh,10)||void 0}else Ug=void 0;var JN=Ug,ZN=function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Oe.addEventListener("test",Dh,e),Oe.removeEventListener("test",Dh,e)}catch{}return t}();function _n(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_n.prototype.h=function(){this.defaultPrevented=!0};function eu(t,e){if(_n.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(YC){e:{try{Rv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else r=="mouseover"?e=t.fromElement:r=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:eO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&eu.Z.h.call(this)}}mn(eu,_n);var eO={2:"touch",3:"pen",4:"mouse"};eu.prototype.h=function(){eu.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pu="closure_listenable_"+(1e6*Math.random()|0),tO=0;function nO(t,e,r,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!i,this.ia=s,this.key=++tO,this.ca=this.fa=!1}function Ad(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Nd(t){this.src=t,this.g={},this.h=0}Nd.prototype.add=function(t,e,r,i,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=zg(t,e,i,s);return-1<a?(e=t[a],r||(e.fa=!1)):(e=new nO(e,this.src,o,!!i,s),e.fa=r,t.push(e)),e};function Bg(t,e){var r=e.type;if(r in t.g){var i=t.g[r],s=GC(i,e),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(Ad(e),t.g[r].length==0&&(delete t.g[r],t.h--))}}function zg(t,e,r,i){for(var s=0;s<t.length;++s){var o=t[s];if(!o.ca&&o.listener==e&&o.capture==!!r&&o.ia==i)return s}return-1}var Av="closure_lm_"+(1e6*Math.random()|0),yp={};function QC(t,e,r,i,s){if(i&&i.once)return ZC(t,e,r,i,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)QC(t,e[o],r,i,s);return null}return r=Lv(r),t&&t[Pu]?t.N(e,r,Iu(i)?!!i.capture:!!i,s):JC(t,e,r,!1,i,s)}function JC(t,e,r,i,s,o){if(!e)throw Error("Invalid event type");var a=Iu(s)?!!s.capture:!!s,u=Ov(t);if(u||(t[Av]=u=new Nd(t)),r=u.add(e,r,i,a,o),r.proxy)return r;if(i=rO(),r.proxy=i,i.src=t,i.listener=r,t.addEventListener)ZN||(s=a),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(t_(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return r}function rO(){function t(r){return e.call(t.src,t.listener,r)}var e=iO;return t}function ZC(t,e,r,i,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ZC(t,e[o],r,i,s);return null}return r=Lv(r),t&&t[Pu]?t.O(e,r,Iu(i)?!!i.capture:!!i,s):JC(t,e,r,!0,i,s)}function e_(t,e,r,i,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)e_(t,e[o],r,i,s);else i=Iu(i)?!!i.capture:!!i,r=Lv(r),t&&t[Pu]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],r=zg(o,r,i,s),-1<r&&(Ad(o[r]),Array.prototype.splice.call(o,r,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ov(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zg(e,r,i,s)),(r=-1<t?e[t]:null)&&Nv(r))}function Nv(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Pu])Bg(e.i,t);else{var r=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(r,i,t.capture):e.detachEvent?e.detachEvent(t_(r),i):e.addListener&&e.removeListener&&e.removeListener(i),(r=Ov(e))?(Bg(r,t),r.h==0&&(r.src=null,e[Av]=null)):Ad(t)}}}function t_(t){return t in yp?yp[t]:yp[t]="on"+t}function iO(t,e){if(t.ca)t=!0;else{e=new eu(e,this);var r=t.listener,i=t.ia||t.src;t.fa&&Nv(t),t=r.call(i,e)}return t}function Ov(t){return t=t[Av],t instanceof Nd?t:null}var wp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lv(t){return typeof t=="function"?t:(t[wp]||(t[wp]=function(e){return t.handleEvent(e)}),t[wp])}function nn(){os.call(this),this.i=new Nd(this),this.P=this,this.I=null}mn(nn,os);nn.prototype[Pu]=!0;nn.prototype.removeEventListener=function(t,e,r,i){e_(this,t,e,r,i)};function dn(t,e){var r,i=t.I;if(i)for(r=[];i;i=i.I)r.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new _n(e,t);else if(e instanceof _n)e.target=e.target||t;else{var s=e;e=new _n(i,t),qC(e,s)}if(s=!0,r)for(var o=r.length-1;0<=o;o--){var a=e.g=r[o];s=Sc(a,i,!0,e)&&s}if(a=e.g=t,s=Sc(a,i,!0,e)&&s,s=Sc(a,i,!1,e)&&s,r)for(o=0;o<r.length;o++)a=e.g=r[o],s=Sc(a,i,!1,e)&&s}nn.prototype.M=function(){if(nn.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var r=t.g[e],i=0;i<r.length;i++)Ad(r[i]);delete t.g[e],t.h--}}this.I=null};nn.prototype.N=function(t,e,r,i){return this.i.add(String(t),e,!1,r,i)};nn.prototype.O=function(t,e,r,i){return this.i.add(String(t),e,!0,r,i)};function Sc(t,e,r,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==r){var u=a.listener,h=a.ia||a.src;a.fa&&Bg(t.i,a),s=u.call(h,i)!==!1&&s}}return s&&!i.defaultPrevented}var Dv=Oe.JSON.stringify;function sO(){var t=r_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class oO{constructor(){this.h=this.g=null}add(e,r){const i=n_.get();i.set(e,r),this.h?this.h.next=i:this.g=i,this.h=i}}var n_=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new aO,t=>t.reset());class aO{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function lO(t){Oe.setTimeout(()=>{throw t},0)}function Mv(t,e){Vg||uO(),Gg||(Vg(),Gg=!0),r_.add(t,e)}var Vg;function uO(){var t=Oe.Promise.resolve(void 0);Vg=function(){t.then(cO)}}var Gg=!1,r_=new oO;function cO(){for(var t;t=sO();){try{t.h.call(t.g)}catch(r){lO(r)}var e=n_;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Gg=!1}function Od(t,e){nn.call(this),this.h=t||1,this.g=e||Oe,this.j=hn(this.kb,this),this.l=Date.now()}mn(Od,nn);me=Od.prototype;me.da=!1;me.S=null;me.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),dn(this,"tick"),this.da&&(jv(this),this.start()))}};me.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jv(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}me.M=function(){Od.Z.M.call(this),jv(this),delete this.g};function $v(t,e,r){if(typeof t=="function")r&&(t=hn(t,r));else if(t&&typeof t.handleEvent=="function")t=hn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Oe.setTimeout(t,e||0)}function i_(t){t.g=$v(()=>{t.g=null,t.i&&(t.i=!1,i_(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class hO extends os{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:i_(this)}M(){super.M(),this.g&&(Oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tu(t){os.call(this),this.h=t,this.g={}}mn(tu,os);var Z1=[];function s_(t,e,r,i){Array.isArray(r)||(r&&(Z1[0]=r.toString()),r=Z1);for(var s=0;s<r.length;s++){var o=QC(e,r[s],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function o_(t){Pv(t.g,function(e,r){this.g.hasOwnProperty(r)&&Nv(e)},t),t.g={}}tu.prototype.M=function(){tu.Z.M.call(this),o_(this)};tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ld(){this.g=!0}Ld.prototype.Aa=function(){this.g=!1};function dO(t,e,r,i,s,o){t.info(function(){if(t.g)if(o)for(var a="",u=o.split("&"),h=0;h<u.length;h++){var d=u[h].split("=");if(1<d.length){var g=d[0];d=d[1];var v=g.split("_");a=2<=v.length&&v[1]=="type"?a+(g+"="+d+"&"):a+(g+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+r+`
`+a})}function fO(t,e,r,i,s,o,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+r+`
`+o+" "+a})}function $o(t,e,r,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+gO(t,r)+(i?" "+i:"")})}function pO(t,e){t.info(function(){return"TIMEOUT: "+e})}Ld.prototype.info=function(){};function gO(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r){for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var i=r[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return Dv(r)}catch{return e}}var so={},ew=null;function Dd(){return ew=ew||new nn}so.Ma="serverreachability";function a_(t){_n.call(this,so.Ma,t)}mn(a_,_n);function nu(t){const e=Dd();dn(e,new a_(e))}so.STAT_EVENT="statevent";function l_(t,e){_n.call(this,so.STAT_EVENT,t),this.stat=e}mn(l_,_n);function Ln(t){const e=Dd();dn(e,new l_(e,t))}so.Na="timingevent";function u_(t,e){_n.call(this,so.Na,t),this.size=e}mn(u_,_n);function Ru(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){t()},e)}var Md={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},c_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Fv(){}Fv.prototype.h=null;function tw(t){return t.h||(t.h=t.i())}function h_(){}var Au={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Uv(){_n.call(this,"d")}mn(Uv,_n);function Bv(){_n.call(this,"c")}mn(Bv,_n);var Hg;function jd(){}mn(jd,Fv);jd.prototype.g=function(){return new XMLHttpRequest};jd.prototype.i=function(){return{}};Hg=new jd;function Nu(t,e,r,i){this.l=t,this.j=e,this.m=r,this.X=i||1,this.V=new tu(this),this.P=mO,t=Fg?125:void 0,this.W=new Od(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new d_}function d_(){this.i=null,this.g="",this.h=!1}var mO=45e3,Wg={},$h={};me=Nu.prototype;me.setTimeout=function(t){this.P=t};function qg(t,e,r){t.K=1,t.v=Fd(vi(e)),t.s=r,t.U=!0,f_(t,null)}function f_(t,e){t.F=Date.now(),Ou(t),t.A=vi(t.v);var r=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),x_(r.h,"t",i),t.C=0,r=t.l.H,t.h=new d_,t.g=U_(t.l,r?e:null,!t.s),0<t.O&&(t.L=new hO(hn(t.Ia,t,t.g),t.O)),s_(t.V,t.g,"readystatechange",t.gb),e=t.H?WC(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),nu(),dO(t.j,t.u,t.A,t.m,t.X,t.s)}me.gb=function(t){t=t.target;const e=this.L;e&&ai(t)==3?e.l():this.Ia(t)};me.Ia=function(t){try{if(t==this.g)e:{const g=ai(this.g);var e=this.g.Da();const v=this.g.ba();if(!(3>g)&&(g!=3||Fg||this.g&&(this.h.h||this.g.ga()||sw(this.g)))){this.I||g!=4||e==7||(e==8||0>=v?nu(3):nu(2)),$d(this);var r=this.g.ba();this.N=r;t:if(p_(this)){var i=sw(this.g);t="";var s=i.length,o=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ks(this),Cl(this);var a="";break t}this.h.i=new Oe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=r==200,fO(this.j,this.u,this.A,this.m,this.X,g,r),this.i){if(this.$&&!this.J){t:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mh(u)){var d=u;break t}}d=null}if(r=d)$o(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Kg(this,r);else{this.i=!1,this.o=3,Ln(12),ks(this),Cl(this);break e}}this.U?(g_(this,g,a),Fg&&this.i&&g==3&&(s_(this.V,this.W,"tick",this.fb),this.W.start())):($o(this.j,this.m,a,null),Kg(this,a)),g==4&&ks(this),this.i&&!this.I&&(g==4?M_(this.l,this):(this.i=!1,Ou(this)))}else r==400&&0<a.indexOf("Unknown SID")?(this.o=3,Ln(12)):(this.o=0,Ln(13)),ks(this),Cl(this)}}}catch{}finally{}};function p_(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function g_(t,e,r){let i=!0,s;for(;!t.I&&t.C<r.length;)if(s=vO(t,r),s==$h){e==4&&(t.o=4,Ln(14),i=!1),$o(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Wg){t.o=4,Ln(15),$o(t.j,t.m,r,"[Invalid Chunk]"),i=!1;break}else $o(t.j,t.m,s,null),Kg(t,s);p_(t)&&s!=$h&&s!=Wg&&(t.h.g="",t.C=0),e!=4||r.length!=0||t.h.h||(t.o=1,Ln(16),i=!1),t.i=t.i&&i,i?0<r.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),Xv(e),e.L=!0,Ln(11))):($o(t.j,t.m,r,"[Invalid Chunked Response]"),ks(t),Cl(t))}me.fb=function(){if(this.g){var t=ai(this.g),e=this.g.ga();this.C<e.length&&($d(this),g_(this,t,e),this.i&&t!=4&&Ou(this))}};function vO(t,e){var r=t.C,i=e.indexOf(`
`,r);return i==-1?$h:(r=Number(e.substring(r,i)),isNaN(r)?Wg:(i+=1,i+r>e.length?$h:(e=e.substr(i,r),t.C=i+r,e)))}me.cancel=function(){this.I=!0,ks(this)};function Ou(t){t.Y=Date.now()+t.P,m_(t,t.P)}function m_(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ru(hn(t.eb,t),e)}function $d(t){t.B&&(Oe.clearTimeout(t.B),t.B=null)}me.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(pO(this.j,this.A),this.K!=2&&(nu(),Ln(17)),ks(this),this.o=2,Cl(this)):m_(this,this.Y-t)};function Cl(t){t.l.G==0||t.I||M_(t.l,t)}function ks(t){$d(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,jv(t.W),o_(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Kg(t,e){try{var r=t.l;if(r.G!=0&&(r.g==t||Yg(r.i,t))){if(r.I=t.N,!t.J&&Yg(r.i,t)&&r.G==3){try{var i=r.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!r.u){if(r.g)if(r.g.F+3e3<t.F)zh(r),zd(r);else break e;Yv(r),Ln(18)}}else r.ta=s[1],0<r.ta-r.U&&37500>s[2]&&r.N&&r.A==0&&!r.v&&(r.v=Ru(hn(r.ab,r),6e3));if(1>=C_(r.i)&&r.ka){try{r.ka()}catch{}r.ka=void 0}}else Ts(r,11)}else if((t.J||r.g==t)&&zh(r),!Mh(e))for(s=r.Ca.g.parse(e),e=0;e<s.length;e++){let d=s[e];if(r.U=d[0],d=d[1],r.G==2)if(d[0]=="c"){r.J=d[1],r.la=d[2];const g=d[3];g!=null&&(r.ma=g,r.h.info("VER="+r.ma));const v=d[4];v!=null&&(r.za=v,r.h.info("SVER="+r.za));const w=d[5];w!=null&&typeof w=="number"&&0<w&&(i=1.5*w,r.K=i,r.h.info("backChannelRequestTimeoutMs_="+i)),i=r;const O=t.g;if(O){const S=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var o=i.i;!o.g&&(Nn(S,"spdy")||Nn(S,"quic")||Nn(S,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(Gv(o,o.h),o.h=null))}if(i.D){const R=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(i.sa=R,vt(i.F,i.D,R))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-t.F,r.h.info("Handshake RTT: "+r.O+"ms")),i=r;var a=t;if(i.oa=F_(i,i.H?i.la:null,i.W),a.J){__(i.i,a);var u=a,h=i.K;h&&u.setTimeout(h),u.B&&($d(u),Ou(u)),i.g=a}else L_(i);0<r.l.length&&Vd(r)}else d[0]!="stop"&&d[0]!="close"||Ts(r,7);else r.G==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Ts(r,7):Kv(r):d[0]!="noop"&&r.j&&r.j.wa(d),r.A=0)}}nu(4)}catch{}}function yO(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if($g(t)){for(var e=[],r=t.length,i=0;i<r;i++)e.push(t[i]);return e}e=[],r=0;for(i in t)e[r++]=t[i];return e}function zv(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($g(t)||typeof t=="string")HC(t,e,void 0);else{if(t.T&&typeof t.T=="function")var r=t.T();else if(t.R&&typeof t.R=="function")r=void 0;else if($g(t)||typeof t=="string"){r=[];for(var i=t.length,s=0;s<i;s++)r.push(s)}else for(s in r=[],i=0,t)r[i++]=s;i=yO(t),s=i.length;for(var o=0;o<s;o++)e.call(void 0,i[o],r&&r[o],t)}}function Ea(t,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var i=0;i<r;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Ea)for(r=t.T(),i=0;i<r.length;i++)this.set(r[i],t.get(r[i]));else for(i in t)this.set(i,t[i])}me=Ea.prototype;me.R=function(){Vv(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};me.T=function(){return Vv(this),this.g.concat()};function Vv(t){if(t.i!=t.g.length){for(var e=0,r=0;e<t.g.length;){var i=t.g[e];qs(t.h,i)&&(t.g[r++]=i),e++}t.g.length=r}if(t.i!=t.g.length){var s={};for(r=e=0;e<t.g.length;)i=t.g[e],qs(s,i)||(t.g[r++]=i,s[i]=1),e++;t.g.length=r}}me.get=function(t,e){return qs(this.h,t)?this.h[t]:e};me.set=function(t,e){qs(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};me.forEach=function(t,e){for(var r=this.T(),i=0;i<r.length;i++){var s=r[i],o=this.get(s);t.call(e,o,s,this)}};function qs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var v_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wO(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var i=t[r].indexOf("="),s=null;if(0<=i){var o=t[r].substring(0,i);s=t[r].substring(i+1)}else o=t[r];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ks(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ks){this.g=e!==void 0?e:t.g,Fh(this,t.j),this.s=t.s,Uh(this,t.i),Bh(this,t.m),this.l=t.l,e=t.h;var r=new ru;r.i=e.i,e.g&&(r.g=new Ea(e.g),r.h=e.h),nw(this,r),this.o=t.o}else t&&(r=String(t).match(v_))?(this.g=!!e,Fh(this,r[1]||"",!0),this.s=_l(r[2]||""),Uh(this,r[3]||"",!0),Bh(this,r[4]),this.l=_l(r[5]||"",!0),nw(this,r[6]||"",!0),this.o=_l(r[7]||"")):(this.g=!!e,this.h=new ru(null,this.g))}Ks.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cl(e,rw,!0),":");var r=this.i;return(r||e=="file")&&(t.push("//"),(e=this.s)&&t.push(cl(e,rw,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&t.push(":",String(r))),(r=this.l)&&(this.i&&r.charAt(0)!="/"&&t.push("/"),t.push(cl(r,r.charAt(0)=="/"?_O:CO,!0))),(r=this.h.toString())&&t.push("?",r),(r=this.o)&&t.push("#",cl(r,kO)),t.join("")};function vi(t){return new Ks(t)}function Fh(t,e,r){t.j=r?_l(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Uh(t,e,r){t.i=r?_l(e,!0):e}function Bh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function nw(t,e,r){e instanceof ru?(t.h=e,TO(t.h,t.g)):(r||(e=cl(e,EO)),t.h=new ru(e,t.g))}function vt(t,e,r){t.h.set(e,r)}function Fd(t){return vt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xO(t){return t instanceof Ks?vi(t):new Ks(t,void 0)}function SO(t,e,r,i){var s=new Ks(null,void 0);return t&&Fh(s,t),e&&Uh(s,e),r&&Bh(s,r),i&&(s.l=i),s}function _l(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cl(t,e,r){return typeof t=="string"?(t=encodeURI(t).replace(e,bO),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var rw=/[#\/\?@]/g,CO=/[#\?:]/g,_O=/[#\?]/g,EO=/[#\?@]/g,kO=/#/g;function ru(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function as(t){t.g||(t.g=new Ea,t.h=0,t.i&&wO(t.i,function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}me=ru.prototype;me.add=function(t,e){as(this),this.i=null,t=ka(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this};function y_(t,e){as(t),e=ka(t,e),qs(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,qs(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Vv(t)))}function w_(t,e){return as(t),e=ka(t,e),qs(t.g.h,e)}me.forEach=function(t,e){as(this),this.g.forEach(function(r,i){HC(r,function(s){t.call(e,s,i,this)},this)},this)};me.T=function(){as(this);for(var t=this.g.R(),e=this.g.T(),r=[],i=0;i<e.length;i++)for(var s=t[i],o=0;o<s.length;o++)r.push(e[i]);return r};me.R=function(t){as(this);var e=[];if(typeof t=="string")w_(this,t)&&(e=q1(e,this.g.get(ka(this,t))));else{t=this.g.R();for(var r=0;r<t.length;r++)e=q1(e,t[r])}return e};me.set=function(t,e){return as(this),this.i=null,t=ka(this,t),w_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};me.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function x_(t,e,r){y_(t,e),0<r.length&&(t.i=null,t.g.set(ka(t,e),Iv(r)),t.h+=r.length)}me.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),r=0;r<e.length;r++){var i=e[r],s=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var a=s;i[o]!==""&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.i=t.join("&")};function ka(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function TO(t,e){e&&!t.j&&(as(t),t.i=null,t.g.forEach(function(r,i){var s=i.toLowerCase();i!=s&&(y_(this,i),x_(this,s,r))},t)),t.j=e}var IO=class{constructor(t,e){this.h=t,this.g=e}};function S_(t){this.l=t||PO,Oe.PerformanceNavigationTiming?(t=Oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Oe.g&&Oe.g.Ea&&Oe.g.Ea()&&Oe.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var PO=10;function b_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function C_(t){return t.h?1:t.g?t.g.size:0}function Yg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gv(t,e){t.g?t.g.add(e):t.h=e}function __(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}S_.prototype.cancel=function(){if(this.i=E_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function E_(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const r of t.g.values())e=e.concat(r.D);return e}return Iv(t.i)}function Hv(){}Hv.prototype.stringify=function(t){return Oe.JSON.stringify(t,void 0)};Hv.prototype.parse=function(t){return Oe.JSON.parse(t,void 0)};function RO(){this.g=new Hv}function AO(t,e,r){const i=r||"";try{zv(t,function(s,o){let a=s;Iu(s)&&(a=Dv(s)),e.push(i+o+"="+encodeURIComponent(a))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function NO(t,e){const r=new Ld;if(Oe.Image){const i=new Image;i.onload=xc(bc,r,i,"TestLoadImage: loaded",!0,e),i.onerror=xc(bc,r,i,"TestLoadImage: error",!1,e),i.onabort=xc(bc,r,i,"TestLoadImage: abort",!1,e),i.ontimeout=xc(bc,r,i,"TestLoadImage: timeout",!1,e),Oe.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function bc(t,e,r,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function Lu(t){this.l=t.$b||null,this.j=t.ib||!1}mn(Lu,Fv);Lu.prototype.g=function(){return new Ud(this.l,this.j)};Lu.prototype.i=function(t){return function(){return t}}({});function Ud(t,e){nn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Wv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mn(Ud,nn);var Wv=0;me=Ud.prototype;me.open=function(t,e){if(this.readyState!=Wv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,iu(this)};me.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Oe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Du(this)),this.readyState=Wv};me.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,iu(this)),this.g&&(this.readyState=3,iu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;k_(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function k_(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}me.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Du(this):iu(this),this.readyState==3&&k_(this)}};me.Ua=function(t){this.g&&(this.response=this.responseText=t,Du(this))};me.Ta=function(t){this.g&&(this.response=t,Du(this))};me.ha=function(){this.g&&Du(this)};function Du(t){t.readyState=4,t.l=null,t.j=null,t.A=null,iu(t)}me.setRequestHeader=function(t,e){this.v.append(t,e)};me.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};me.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join(`\r
`)};function iu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ud.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var OO=Oe.JSON.parse;function Bt(t){nn.call(this),this.headers=new Ea,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=T_,this.K=this.L=!1}mn(Bt,nn);var T_="",LO=/^https?$/i,DO=["POST","PUT"];me=Bt.prototype;me.ea=function(t,e,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hg.g(),this.C=this.u?tw(this.u):tw(Hg),this.g.onreadystatechange=hn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){iw(this,o);return}t=r||"";const s=new Ea(this.headers);i&&zv(i,function(o,a){s.set(a,o)}),i=WN(s.T()),r=Oe.FormData&&t instanceof Oe.FormData,!(0<=GC(DO,e))||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{R_(this),0<this.B&&((this.K=MO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hn(this.pa,this)):this.A=$v(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){iw(this,o)}};function MO(t){return oa&&QN()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function jO(t){return t.toLowerCase()=="content-type"}me.pa=function(){typeof Tv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dn(this,"timeout"),this.abort(8))};function iw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,I_(t),Bd(t)}function I_(t){t.D||(t.D=!0,dn(t,"complete"),dn(t,"error"))}me.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,dn(this,"complete"),dn(this,"abort"),Bd(this))};me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bd(this,!0)),Bt.Z.M.call(this)};me.Fa=function(){this.s||(this.F||this.v||this.l?P_(this):this.cb())};me.cb=function(){P_(this)};function P_(t){if(t.h&&typeof Tv<"u"&&(!t.C[1]||ai(t)!=4||t.ba()!=2)){if(t.v&&ai(t)==4)$v(t.Fa,0,t);else if(dn(t,"readystatechange"),ai(t)==4){t.h=!1;try{const u=t.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var i;if(i=u===0){var s=String(t.H).match(v_)[1]||null;if(!s&&Oe.self&&Oe.self.location){var o=Oe.self.location.protocol;s=o.substr(0,o.length-1)}i=!LO.test(s?s.toLowerCase():"")}r=i}if(r)dn(t,"complete"),dn(t,"success");else{t.m=6;try{var a=2<ai(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.ba()+"]",I_(t)}}finally{Bd(t)}}}}function Bd(t,e){if(t.g){R_(t);const r=t.g,i=t.C[0]?Dh:null;t.g=null,t.C=null,e||dn(t,"ready");try{r.onreadystatechange=i}catch{}}}function R_(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Oe.clearTimeout(t.A),t.A=null)}function ai(t){return t.g?t.g.readyState:0}me.ba=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}};me.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};me.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),OO(e)}};function sw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case T_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}me.Da=function(){return this.m};me.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function $O(t){let e="";return Pv(t,function(r,i){e+=i,e+=":",e+=r,e+=`\r
`}),e}function qv(t,e,r){e:{for(i in r){var i=!1;break e}i=!0}i||(r=$O(r),typeof t=="string"?r!=null&&encodeURIComponent(String(r)):vt(t,e,r))}function Qa(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function A_(t){this.za=0,this.l=[],this.h=new Ld,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qa("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qa("baseRetryDelayMs",5e3,t),this.$a=Qa("retryDelaySeedMs",1e4,t),this.Ya=Qa("forwardChannelMaxRetries",2,t),this.ra=Qa("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new S_(t&&t.concurrentRequestLimit),this.Ca=new RO,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}me=A_.prototype;me.ma=8;me.G=1;function Kv(t){if(N_(t),t.G==3){var e=t.V++,r=vi(t.F);vt(r,"SID",t.J),vt(r,"RID",e),vt(r,"TYPE","terminate"),Mu(t,r),e=new Nu(t,t.h,e,void 0),e.K=2,e.v=Fd(vi(r)),r=!1,Oe.navigator&&Oe.navigator.sendBeacon&&(r=Oe.navigator.sendBeacon(e.v.toString(),"")),!r&&Oe.Image&&(new Image().src=e.v,r=!0),r||(e.g=U_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ou(e)}$_(t)}me.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function zd(t){t.g&&(Xv(t),t.g.cancel(),t.g=null)}function N_(t){zd(t),t.u&&(Oe.clearTimeout(t.u),t.u=null),zh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Oe.clearTimeout(t.m),t.m=null)}function xp(t,e){t.l.push(new IO(t.Za++,e)),t.G==3&&Vd(t)}function Vd(t){b_(t.i)||t.m||(t.m=!0,Mv(t.Ha,t),t.C=0)}function FO(t,e){return C_(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ru(hn(t.Ha,t,e),j_(t,t.C)),t.C++,!0)}me.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const s=new Nu(this,this.h,t,void 0);let o=this.s;if(this.P&&(o?(o=WC(o),qC(o,this.P)):o=this.P),this.o===null&&(s.H=o),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){t:{var i=this.l[r];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=r;break e}if(e===4096||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=O_(this,s,e),r=vi(this.F),vt(r,"RID",t),vt(r,"CVER",22),this.D&&vt(r,"X-HTTP-Session-Id",this.D),Mu(this,r),this.o&&o&&qv(r,this.o,o),Gv(this.i,s),this.Ra&&vt(r,"TYPE","init"),this.ja?(vt(r,"$req",e),vt(r,"SID","null"),s.$=!0,qg(s,r,null)):qg(s,r,e),this.G=2}}else this.G==3&&(t?ow(this,t):this.l.length==0||b_(this.i)||ow(this))};function ow(t,e){var r;e?r=e.m:r=t.V++;const i=vi(t.F);vt(i,"SID",t.J),vt(i,"RID",r),vt(i,"AID",t.U),Mu(t,i),t.o&&t.s&&qv(i,t.o,t.s),r=new Nu(t,t.h,r,t.C+1),t.o===null&&(r.H=t.s),e&&(t.l=e.D.concat(t.l)),e=O_(t,r,1e3),r.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Gv(t.i,r),qg(r,i,e)}function Mu(t,e){t.j&&zv({},function(r,i){vt(e,i,r)})}function O_(t,e,r){r=Math.min(t.l.length,r);var i=t.j?hn(t.j.Oa,t.j,t):null;e:{var s=t.l;let o=-1;for(;;){const a=["count="+r];o==-1?0<r?(o=s[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let u=!0;for(let h=0;h<r;h++){let d=s[h].h;const g=s[h].g;if(d-=o,0>d)o=Math.max(0,s[h].h-100),u=!1;else try{AO(g,a,"req"+d+"_")}catch{i&&i(g)}}if(u){i=a.join("&");break e}}}return t=t.l.splice(0,r),e.D=t,i}function L_(t){t.g||t.u||(t.Y=1,Mv(t.Ga,t),t.A=0)}function Yv(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ru(hn(t.Ga,t),j_(t,t.A)),t.A++,!0)}me.Ga=function(){if(this.u=null,D_(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ru(hn(this.bb,this),t)}};me.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ln(10),zd(this),D_(this))};function Xv(t){t.B!=null&&(Oe.clearTimeout(t.B),t.B=null)}function D_(t){t.g=new Nu(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=vi(t.oa);vt(e,"RID","rpc"),vt(e,"SID",t.J),vt(e,"CI",t.N?"0":"1"),vt(e,"AID",t.U),Mu(t,e),vt(e,"TYPE","xmlhttp"),t.o&&t.s&&qv(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var r=t.g;t=t.la,r.K=1,r.v=Fd(vi(e)),r.s=null,r.U=!0,f_(r,t)}me.ab=function(){this.v!=null&&(this.v=null,zd(this),Yv(this),Ln(19))};function zh(t){t.v!=null&&(Oe.clearTimeout(t.v),t.v=null)}function M_(t,e){var r=null;if(t.g==e){zh(t),Xv(t),t.g=null;var i=2}else if(Yg(t.i,e))r=e.D,__(t.i,e),i=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(i==1){r=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;i=Dd(),dn(i,new u_(i,r)),Vd(t)}else L_(t);else if(s=e.o,s==3||s==0&&0<t.I||!(i==1&&FO(t,e)||i==2&&Yv(t)))switch(r&&0<r.length&&(e=t.i,e.i=e.i.concat(r)),s){case 1:Ts(t,5);break;case 4:Ts(t,10);break;case 3:Ts(t,6);break;default:Ts(t,2)}}}function j_(t,e){let r=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(r*=2),r*e}function Ts(t,e){if(t.h.info("Error code "+e),e==2){var r=null;t.j&&(r=null);var i=hn(t.jb,t);r||(r=new Ks("//www.google.com/images/cleardot.gif"),Oe.location&&Oe.location.protocol=="http"||Fh(r,"https"),Fd(r)),NO(r.toString(),i)}else Ln(2);t.G=0,t.j&&t.j.va(e),$_(t),N_(t)}me.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Ln(2)):(this.h.info("Failed to ping google.com"),Ln(1))};function $_(t){t.G=0,t.I=-1,t.j&&((E_(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Iv(t.l),t.l.length=0),t.j.ua())}function F_(t,e,r){let i=xO(r);if(i.i!="")e&&Uh(i,e+"."+i.i),Bh(i,i.m);else{const s=Oe.location;i=SO(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,r)}return t.aa&&Pv(t.aa,function(s,o){vt(i,o,s)}),e=t.D,r=t.sa,e&&r&&vt(i,e,r),vt(i,"VER",t.ma),Mu(t,i),i}function U_(t,e,r){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=r&&t.Ba&&!t.qa?new Bt(new Lu({ib:!0})):new Bt(t.qa),e.L=t.H,e}function B_(){}me=B_.prototype;me.xa=function(){};me.wa=function(){};me.va=function(){};me.ua=function(){};me.Oa=function(){};function Vh(){if(oa&&!(10<=Number(JN)))throw Error("Environmental error: no available transport.")}Vh.prototype.g=function(t,e){return new ir(t,e)};function ir(t,e){nn.call(this),this.g=new A_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Mh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mh(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ta(this)}mn(ir,nn);ir.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,r=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Mv(hn(t.hb,t,e))),Ln(0),t.W=e,t.aa=r||{},t.N=t.X,t.F=F_(t,null,t.W),Vd(t)};ir.prototype.close=function(){Kv(this.g)};ir.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,xp(this.g,e)}else this.v?(e={},e.__data__=Dv(t),xp(this.g,e)):xp(this.g,t)};ir.prototype.M=function(){this.g.j=null,delete this.j,Kv(this.g),delete this.g,ir.Z.M.call(this)};function z_(t){Uv.call(this);var e=t.__sm__;if(e){e:{for(const r in e){t=r;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mn(z_,Uv);function V_(){Bv.call(this),this.status=1}mn(V_,Bv);function Ta(t){this.g=t}mn(Ta,B_);Ta.prototype.xa=function(){dn(this.g,"a")};Ta.prototype.wa=function(t){dn(this.g,new z_(t))};Ta.prototype.va=function(t){dn(this.g,new V_)};Ta.prototype.ua=function(){dn(this.g,"b")};Vh.prototype.createWebChannel=Vh.prototype.g;ir.prototype.send=ir.prototype.u;ir.prototype.open=ir.prototype.m;ir.prototype.close=ir.prototype.close;Md.NO_ERROR=0;Md.TIMEOUT=8;Md.HTTP_ERROR=6;c_.COMPLETE="complete";h_.EventType=Au;Au.OPEN="a";Au.CLOSE="b";Au.ERROR="c";Au.MESSAGE="d";nn.prototype.listen=nn.prototype.N;Bt.prototype.listenOnce=Bt.prototype.O;Bt.prototype.getLastError=Bt.prototype.La;Bt.prototype.getLastErrorCode=Bt.prototype.Da;Bt.prototype.getStatus=Bt.prototype.ba;Bt.prototype.getResponseJson=Bt.prototype.Qa;Bt.prototype.getResponseText=Bt.prototype.ga;Bt.prototype.send=Bt.prototype.ea;var UO=function(){return new Vh},BO=function(){return Dd()},Sp=Md,zO=c_,VO=so,aw={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},GO=Lu,Cc=h_,HO=Bt;const lw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia="9.6.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new gv("@firebase/firestore");function uw(){return Ys.logLevel}function be(t,...e){if(Ys.logLevel<=Ze.DEBUG){const r=e.map(Qv);Ys.debug(`Firestore (${Ia}): ${t}`,...r)}}function Zi(t,...e){if(Ys.logLevel<=Ze.ERROR){const r=e.map(Qv);Ys.error(`Firestore (${Ia}): ${t}`,...r)}}function cw(t,...e){if(Ys.logLevel<=Ze.WARN){const r=e.map(Qv);Ys.warn(`Firestore (${Ia}): ${t}`,...r)}}function Qv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t="Unexpected state"){const e=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: `+t;throw Zi(e),new Error(e)}function lt(t,e){t||De()}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ss{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}let qO=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Fn.UNAUTHENTICATED))}shutdown(){}};class KO{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){let i=this.i;const s=h=>this.i!==i?(i=this.i,r(h)):Promise.resolve();let o=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Os,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Os)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lt(typeof i.accessToken=="string"),new WO(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new Fn(e)}}class YO{constructor(e,r,i){this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class XO{constructor(e,r,i){this.h=e,this.l=r,this.m=i}getToken(){return Promise.resolve(new YO(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JO{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,r){const i=o=>{o.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.p;return this.p=o.token,be("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?s(o):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(lt(typeof r.token=="string"),this.p=r.token,new QO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.I(i),this.T=i=>r.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let i=0;i<t;i++)r[i]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jv.A=-1;class G_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=ZO(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<r&&(i+=e.charAt(s[o]%e.length))}return i}}function et(t,e){return t<e?-1:t>e?1:0}function aa(t,e,r){return t.length===e.length&&t.every((i,s)=>r(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return En.fromMillis(Date.now())}static fromDate(e){return En.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*r));return new En(r,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new En(0,0))}static max(){return new Fe(new En(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function oo(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function H_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,r,i){r===void 0?r=0:r>e.length&&De(),i===void 0?i=e.length-r:i>e.length-r&&De(),this.segments=e,this.offset=r,this.len=i}get length(){return this.len}isEqual(e){return su.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof su?e.forEach(i=>{r.push(i)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,i=this.limit();r<i;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const i=Math.min(e.length,r.length);for(let s=0;s<i;s++){const o=e.get(s),a=r.get(s);if(o<a)return-1;if(o>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}let Nt=class Yc extends su{construct(e,r,i){return new Yc(e,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter(s=>s.length>0))}return new Yc(r)}static emptyPath(){return new Yc([])}};const eL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends su{construct(e,r,i){return new Bn(e,r,i)}static isValidIdentifier(e){return eL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const r=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""};let a=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else u==="`"?(a=!a,s++):u!=="."||a?(i+=u,s++):(o(),s++)}if(o(),a)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(r)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this.fields=e,e.sort(Bn.comparator)}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(r,i)=>r.isEqual(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new gn(r)}static fromUint8Array(e){const r=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const tL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(lt(!!t),typeof t=="string"){let e=0;const r=tL.exec(t);if(lt(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function la(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function q_(t){const e=t.mapValue.fields.__previous_value__;return W_(e)?q_(e):e}function au(t){const e=es(t.mapValue.fields.__local_write_time__.timestampValue);return new En(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,r,i,s,o,a,u,h){this.databaseId=e,this.appId=r,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=h}}class ua{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ua("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ua&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t){return t==null}function Gh(t){return t===0&&1/t==-1/0}function rL(t){return typeof t=="number"&&Number.isInteger(t)&&!Gh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Nt.fromString(e))}static fromName(e){return new Ce(Nt.fromString(e).popFirst(5))}static empty(){return new Ce(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Nt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Nt(e.slice()))}}function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?W_(t)?4:iL(t)?9:10:De()}function Xr(t,e){if(t===e)return!0;const r=Xs(t);if(r!==Xs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return au(t).isEqual(au(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=es(i.timestampValue),a=es(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return la(i.bytesValue).isEqual(la(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $t(i.geoPointValue.latitude)===$t(s.geoPointValue.latitude)&&$t(i.geoPointValue.longitude)===$t(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $t(i.integerValue)===$t(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=$t(i.doubleValue),a=$t(s.doubleValue);return o===a?Gh(o)===Gh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return aa(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(hw(o)!==hw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Xr(o[u],a[u])))return!1;return!0}(t,e);default:return De()}}function lu(t,e){return(t.values||[]).find(r=>Xr(r,e))!==void 0}function ca(t,e){if(t===e)return 0;const r=Xs(t),i=Xs(e);if(r!==i)return et(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=$t(s.integerValue||s.doubleValue),u=$t(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return dw(t.timestampValue,e.timestampValue);case 4:return dw(au(t),au(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(s,o){const a=la(s),u=la(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let h=0;h<a.length&&h<u.length;h++){const d=et(a[h],u[h]);if(d!==0)return d}return et(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=et($t(s.latitude),$t(o.latitude));return a!==0?a:et($t(s.longitude),$t(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let h=0;h<a.length&&h<u.length;++h){const d=ca(a[h],u[h]);if(d)return d}return et(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){const a=s.fields||{},u=Object.keys(a),h=o.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const v=et(u[g],d[g]);if(v!==0)return v;const w=ca(a[u[g]],h[d[g]]);if(w!==0)return w}return et(u.length,d.length)}(t.mapValue,e.mapValue);default:throw De()}}function dw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const r=es(t),i=es(e),s=et(r.seconds,i.seconds);return s!==0?s:et(r.nanos,i.nanos)}function Yo(t){return Xg(t)}function Xg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const s=es(i);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?la(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,Ce.fromName(r).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let s="[",o=!0;for(const a of i.values||[])o?o=!1:s+=",",s+=Xg(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",a=!0;for(const u of s)a?a=!1:o+=",",o+=`${u}:${Xg(i.fields[u])}`;return o+"}"}(t.mapValue):De();var e,r}function fw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qg(t){return!!t&&"integerValue"in t}function Zv(t){return!!t&&"arrayValue"in t}function pw(t){return!!t&&"nullValue"in t}function gw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xc(t){return!!t&&"mapValue"in t}function El(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,(r,i)=>e.mapValue.fields[r]=El(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=El(t.arrayValue.values[r]);return e}return Object.assign({},t)}function iL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let i=0;i<e.length-1;++i)if(r=(r.mapValue.fields||{})[e.get(i)],!Xc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(r)}setAll(e){let r=Bn.emptyPath(),i={},s=[];e.forEach((a,u)=>{if(!r.isImmediateParentOf(u)){const h=this.getFieldsMap(r);this.applyChanges(h,i,s),i={},s=[],r=u.popLast()}a?i[u.lastSegment()]=El(a):s.push(u.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,i,s)}delete(e){const r=this.field(e.popLast());Xc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=r.mapValue.fields[e.get(i)];Xc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(i)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,i){oo(r,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new Qn(El(this.value))}}function K_(t){const e=[];return oo(t.fields,(r,i)=>{const s=new Bn([r]);if(Xc(i)){const o=K_(i.mapValue).fields;if(o.length===0)e.push(s);else for(const a of o)e.push(s.child(a))}else e.push(s)}),new ou(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,r,i,s,o,a){this.key=e,this.documentType=r,this.version=i,this.readTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new bn(e,0,Fe.min(),Fe.min(),Qn.empty(),0)}static newFoundDocument(e,r,i){return new bn(e,1,r,Fe.min(),i,0)}static newNoDocument(e,r){return new bn(e,2,r,Fe.min(),Qn.empty(),0)}static newUnknownDocument(e,r){return new bn(e,3,r,Fe.min(),Qn.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function sL(t,e){const r=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(i===1e9?new En(r+1,0):new En(r,i));return new ha(s,Ce.empty(),e)}function oL(t){return new ha(t.readTime,t.key,-1)}class ha{constructor(e,r,i){this.readTime=e,this.documentKey=r,this.largestBatchId=i}static min(){return new ha(Fe.min(),Ce.empty(),-1)}static max(){return new ha(Fe.max(),Ce.empty(),-1)}}function aL(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ce.comparator(t.documentKey,e.documentKey),r!==0?r:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,r=null,i=[],s=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=a,this.endAt=u,this.P=null}}function mw(t,e=null,r=[],i=[],s=null,o=null,a=null){return new lL(t,e,r,i,s,o,a)}function ey(t){const e=je(t);if(e.P===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(i=>{return(s=i).field.canonicalString()+s.op.toString()+Yo(s.value);var s}).join(","),r+="|ob:",r+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Pa(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>Yo(i)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>Yo(i)).join(",")),e.P=r}return e.P}function uL(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(r=>{return`${(i=r).field.canonicalString()} ${i.op} ${Yo(i.value)}`;var i}).join(", ")}]`),Pa(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Yo(r)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Yo(r)).join(",")),`Target(${e})`}function ty(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!vL(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(r=t.filters[s],i=e.filters[s],r.op!==i.op||!r.field.isEqual(i.field)||!Xr(r.value,i.value))return!1;var r,i;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yw(t.startAt,e.startAt)&&yw(t.endAt,e.endAt)}function Jg(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Dn extends class{}{constructor(e,r,i){super(),this.field=e,this.op=r,this.value=i}static create(e,r,i){return e.isKeyField()?r==="in"||r==="not-in"?this.V(e,r,i):new cL(e,r,i):r==="array-contains"?new fL(e,i):r==="in"?new pL(e,i):r==="not-in"?new gL(e,i):r==="array-contains-any"?new mL(e,i):new Dn(e,r,i)}static V(e,r,i){return r==="in"?new hL(e,i):new dL(e,i)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.v(ca(r,this.value)):r!==null&&Xs(this.value)===Xs(r)&&this.v(ca(r,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class cL extends Dn{constructor(e,r,i){super(e,r,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const r=Ce.comparator(e.key,this.key);return this.v(r)}}class hL extends Dn{constructor(e,r){super(e,"in",r),this.keys=Y_("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class dL extends Dn{constructor(e,r){super(e,"not-in",r),this.keys=Y_("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Y_(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(i=>Ce.fromName(i.referenceValue))}class fL extends Dn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Zv(r)&&lu(r.arrayValue,this.value)}}class pL extends Dn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&lu(this.value.arrayValue,r)}}class gL extends Dn{constructor(e,r){super(e,"not-in",r)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!lu(this.value.arrayValue,r)}}class mL extends Dn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Zv(r)||!r.arrayValue.values)&&r.arrayValue.values.some(i=>lu(this.value.arrayValue,i))}}class Hh{constructor(e,r){this.position=e,this.inclusive=r}}class kl{constructor(e,r="asc"){this.field=e,this.dir=r}}function vL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function vw(t,e,r){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],a=t.position[s];if(o.field.isKeyField()?i=Ce.comparator(Ce.fromName(a.referenceValue),r.key):i=ca(a,r.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function yw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Xr(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,r=null,i=[],s=[],o=null,a="F",u=null,h=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=h,this.D=null,this.C=null,this.startAt,this.endAt}}function yL(t,e,r,i,s,o,a,u){return new ju(t,e,r,i,s,o,a,u)}function ny(t){return new ju(t)}function Qc(t){return!Pa(t.limit)&&t.limitType==="F"}function Wh(t){return!Pa(t.limit)&&t.limitType==="L"}function X_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Q_(t){for(const e of t.filters)if(e.S())return e.field;return null}function J_(t){return t.collectionGroup!==null}function uu(t){const e=je(t);if(e.D===null){e.D=[];const r=Q_(e),i=X_(e);if(r!==null&&i===null)r.isKeyField()||e.D.push(new kl(r)),e.D.push(new kl(Bn.keyField(),"asc"));else{let s=!1;for(const o of e.explicitOrderBy)e.D.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new kl(Bn.keyField(),o))}}}return e.D}function Qs(t){const e=je(t);if(!e.C)if(e.limitType==="F")e.C=mw(e.path,e.collectionGroup,uu(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const o of uu(e)){const a=o.dir==="desc"?"asc":"desc";r.push(new kl(o.field,a))}const i=e.endAt?new Hh(e.endAt.position,!e.endAt.inclusive):null,s=e.startAt?new Hh(e.startAt.position,!e.startAt.inclusive):null;e.C=mw(e.path,e.collectionGroup,r,e.filters,e.limit,i,s)}return e.C}function wL(t,e,r){return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Gd(t,e){return ty(Qs(t),Qs(e))&&t.limitType===e.limitType}function Z_(t){return`${ey(Qs(t))}|lt:${t.limitType}`}function Zg(t){return`Query(target=${uL(Qs(t))}; limitType=${t.limitType})`}function ry(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ce.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of r.explicitOrderBy)if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,a){const u=vw(s,o,a);return s.inclusive?u<=0:u<0}(r.startAt,uu(r),i)||r.endAt&&!function(s,o,a){const u=vw(s,o,a);return s.inclusive?u>=0:u>0}(r.endAt,uu(r),i))}(t,e)}function xL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eE(t){return(e,r)=>{let i=!1;for(const s of uu(t)){const o=SL(s,e,r);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function SL(t,e,r){const i=t.field.isKeyField()?Ce.comparator(e.key,r.key):function(s,o,a){const u=o.data.field(s),h=a.data.field(s);return u!==null&&h!==null?ca(u,h):De()}(t.field,e,r);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function nE(t){return{integerValue:""+t}}function bL(t,e){return rL(e)?nE(e):tE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this._=void 0}}function CL(t,e,r){return t instanceof qh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(o.fields.__previous_value__=s),{mapValue:o}}(r,e):t instanceof cu?iE(t,e):t instanceof hu?sE(t,e):function(i,s){const o=rE(i,s),a=ww(o)+ww(i.k);return Qg(o)&&Qg(i.k)?nE(a):tE(i.M,a)}(t,e)}function _L(t,e,r){return t instanceof cu?iE(t,e):t instanceof hu?sE(t,e):r}function rE(t,e){return t instanceof Kh?Qg(r=e)||function(i){return!!i&&"doubleValue"in i}(r)?e:{integerValue:0}:null;var r}class qh extends Hd{}class cu extends Hd{constructor(e){super(),this.elements=e}}function iE(t,e){const r=oE(e);for(const i of t.elements)r.some(s=>Xr(s,i))||r.push(i);return{arrayValue:{values:r}}}class hu extends Hd{constructor(e){super(),this.elements=e}}function sE(t,e){let r=oE(e);for(const i of t.elements)r=r.filter(s=>!Xr(s,i));return{arrayValue:{values:r}}}class Kh extends Hd{constructor(e,r){super(),this.M=e,this.k=r}}function ww(t){return $t(t.integerValue||t.doubleValue)}function oE(t){return Zv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cu&&i instanceof cu||r instanceof hu&&i instanceof hu?aa(r.elements,i.elements,Xr):r instanceof Kh&&i instanceof Kh?Xr(r.k,i.k):r instanceof qh&&i instanceof qh}(t.transform,e.transform)}class kL{constructor(e,r){this.version=e,this.transformResults=r}}class qi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wd{}function TL(t,e,r){t instanceof qd?function(i,s,o){const a=i.value.clone(),u=bw(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof Ra?function(i,s,o){if(!Jc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=bw(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(aE(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,r):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function em(t,e,r){t instanceof qd?function(i,s,o){if(!Jc(i.precondition,s))return;const a=i.value.clone(),u=Cw(i.fieldTransforms,o,s);a.setAll(u),s.convertToFoundDocument(Sw(s),a).setHasLocalMutations()}(t,e,r):t instanceof Ra?function(i,s,o){if(!Jc(i.precondition,s))return;const a=Cw(i.fieldTransforms,o,s),u=s.data;u.setAll(aE(i)),u.setAll(a),s.convertToFoundDocument(Sw(s),u).setHasLocalMutations()}(t,e,r):function(i,s){Jc(i.precondition,s)&&s.convertToNoDocument(Fe.min())}(t,e)}function IL(t,e){let r=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=rE(i.transform,s||null);o!=null&&(r==null&&(r=Qn.empty()),r.set(i.field,o))}return r||null}function xw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&aa(r,i,(s,o)=>EL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Sw(t){return t.isFoundDocument()?t.version:Fe.min()}class qd extends Wd{constructor(e,r,i,s=[]){super(),this.key=e,this.value=r,this.precondition=i,this.fieldTransforms=s,this.type=0}}class Ra extends Wd{constructor(e,r,i,s,o=[]){super(),this.key=e,this.data=r,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}}function aE(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const i=t.data.field(r);e.set(r,i)}}),e}function bw(t,e,r){const i=new Map;lt(t.length===r.length);for(let s=0;s<r.length;s++){const o=t[s],a=o.transform,u=e.data.field(o.field);i.set(o.field,_L(a,u,r[s]))}return i}function Cw(t,e,r){const i=new Map;for(const s of t){const o=s.transform,a=r.data.field(s.field);i.set(s.field,CL(o,a,e))}return i}class lE extends Wd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class PL extends Wd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Ke;function AL(t){switch(t){default:return De();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function uE(t){if(t===void 0)return Zi("GRPC error has no .code"),se.UNKNOWN;switch(t){case jt.OK:return se.OK;case jt.CANCELLED:return se.CANCELLED;case jt.UNKNOWN:return se.UNKNOWN;case jt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case jt.INTERNAL:return se.INTERNAL;case jt.UNAVAILABLE:return se.UNAVAILABLE;case jt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case jt.NOT_FOUND:return se.NOT_FOUND;case jt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case jt.ABORTED:return se.ABORTED;case jt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case jt.DATA_LOSS:return se.DATA_LOSS;default:return De()}}(Ke=jt||(jt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,r]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[r]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(r,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return H_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,r){this.comparator=e,this.root=r||an.EMPTY}insert(e,r){return new rn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(e){let r=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return r+i.left.size;s<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,i)=>(e(r,i),!1))}toString(){const e=[];return this.inorderTraversal((r,i)=>(e.push(`${r}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,r,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?i(e.key,r):1,r&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,r,i,s,o){this.key=e,this.value=r,this.color=i??an.RED,this.left=s??an.EMPTY,this.right=o??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,i,s,o){return new an(e??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,r,i),null):o===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let i,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return an.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(t,e,r,i,s){return this}insert(t,e,r){return new an(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,i)=>(e(r),!1))}forEachInRange(e,r){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new _w(this.data.getIterator())}getIteratorFrom(e){return new _w(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(i=>{r=r.add(i)}),r}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const r=this.data.getIterator(),i=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new fn(this.comparator);return r.data=e,r}}class _w{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=new rn(Ce.comparator);function Js(){return NL}const OL=new rn(Ce.comparator);function tm(){return OL}function bp(){return new Aa(t=>t.toString(),(t,e)=>t.isEqual(e))}const LL=new rn(Ce.comparator),DL=new fn(Ce.comparator);function dt(...t){let e=DL;for(const r of t)e=e.add(r);return e}const ML=new fn(et);function cE(){return ML}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,r,i,s,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r){const i=new Map;return i.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,r)),new Kd(Fe.min(),i,cE(),Js(),dt())}}class $u{constructor(e,r,i,s,o){this.resumeToken=e,this.current=r,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r){return new $u(gn.EMPTY_BYTE_STRING,r,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,r,i,s){this.O=e,this.removedTargetIds=r,this.key=i,this.F=s}}class hE{constructor(e,r){this.targetId=e,this.$=r}}class dE{constructor(e,r,i=gn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=i,this.cause=s}}class Ew{constructor(){this.B=0,this.L=Tw(),this.U=gn.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return this.B!==0}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=dt(),r=dt(),i=dt();return this.L.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:i=i.add(s);break;default:De()}}),new $u(this.U,this.q,e,r,i)}J(){this.K=!1,this.L=Tw()}Y(e,r){this.K=!0,this.L=this.L.insert(e,r)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class jL{constructor(e){this.nt=e,this.st=new Map,this.it=Js(),this.rt=kw(),this.ot=new fn(et)}ut(e){for(const r of e.O)e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F);for(const r of e.removedTargetIds)this.ct(r,e.key,e.F)}ht(e){this.forEachTarget(e,r=>{const i=this.lt(r);switch(e.state){case 0:this.ft(r)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(r);break;case 3:this.ft(r)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(r)&&(this.dt(r),i.W(e.resumeToken));break;default:De()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.st.forEach((i,s)=>{this.ft(s)&&r(s)})}_t(e){const r=e.targetId,i=e.$.count,s=this.wt(r);if(s){const o=s.target;if(Jg(o))if(i===0){const a=new Ce(o.path);this.ct(r,a,bn.newNoDocument(a,Fe.min()))}else lt(i===1);else this.gt(r)!==i&&(this.dt(r),this.ot=this.ot.add(r))}}yt(e){const r=new Map;this.st.forEach((o,a)=>{const u=this.wt(a);if(u){if(o.current&&Jg(u.target)){const h=new Ce(u.target.path);this.it.get(h)!==null||this.It(a,h)||this.ct(a,h,bn.newNoDocument(h,e))}o.j&&(r.set(a,o.H()),o.J())}});let i=dt();this.rt.forEach((o,a)=>{let u=!0;a.forEachWhile(h=>{const d=this.wt(h);return!d||d.purpose===2||(u=!1,!1)}),u&&(i=i.add(o))}),this.it.forEach((o,a)=>a.setReadTime(e));const s=new Kd(e,r,this.ot,this.it,i);return this.it=Js(),this.rt=kw(),this.ot=new fn(et),s}at(e,r){if(!this.ft(e))return;const i=this.It(e,r.key)?2:0;this.lt(e).Y(r.key,i),this.it=this.it.insert(r.key,r),this.rt=this.rt.insert(r.key,this.Tt(r.key).add(e))}ct(e,r,i){if(!this.ft(e))return;const s=this.lt(e);this.It(e,r)?s.Y(r,1):s.X(r),this.rt=this.rt.insert(r,this.Tt(r).delete(e)),i&&(this.it=this.it.insert(r,i))}removeTarget(e){this.st.delete(e)}gt(e){const r=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let r=this.st.get(e);return r||(r=new Ew,this.st.set(e,r)),r}Tt(e){let r=this.rt.get(e);return r||(r=new fn(et),this.rt=this.rt.insert(e,r)),r}ft(e){const r=this.wt(e)!==null;return r||be("WatchChangeAggregator","Detected inactive target",e),r}wt(e){const r=this.st.get(e);return r&&r.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Ew),this.nt.getRemoteKeysForTarget(e).forEach(r=>{this.ct(e,r,null)})}It(e,r){return this.nt.getRemoteKeysForTarget(e).has(r)}}function kw(){return new rn(Ce.comparator)}function Tw(){return new rn(Ce.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),FL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class UL{constructor(e,r){this.databaseId=e,this.N=r}}function Yh(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fE(t,e){return t.N?e.toBase64():e.toUint8Array()}function BL(t,e){return Yh(t,e.toTimestamp())}function ci(t){return lt(!!t),Fe.fromTimestamp(function(e){const r=es(e);return new En(r.seconds,r.nanos)}(t))}function iy(t,e){return function(r){return new Nt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function pE(t){const e=Nt.fromString(t);return lt(vE(e)),e}function nm(t,e){return iy(t.databaseId,e.path)}function Cp(t,e){const r=pE(e);if(r.get(1)!==t.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ce(gE(r))}function rm(t,e){return iy(t.databaseId,e)}function zL(t){const e=pE(t);return e.length===4?Nt.emptyPath():gE(e)}function im(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gE(t){return lt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Iw(t,e,r){return{name:nm(t,e),fields:r.value.mapValue.fields}}function VL(t,e){let r;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,d){return h.N?(lt(d===void 0||typeof d=="string"),gn.fromBase64String(d||"")):(lt(d===void 0||d instanceof Uint8Array),gn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(h){const d=h.code===void 0?se.UNKNOWN:uE(h.code);return new ye(d,h.message||"")}(a);r=new dE(i,s,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Cp(t,i.document.name),o=ci(i.document.updateTime),a=new Qn({mapValue:{fields:i.document.fields}}),u=bn.newFoundDocument(s,o,a),h=i.targetIds||[],d=i.removedTargetIds||[];r=new Zc(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Cp(t,i.document),o=i.readTime?ci(i.readTime):Fe.min(),a=bn.newNoDocument(s,o),u=i.removedTargetIds||[];r=new Zc([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Cp(t,i.document),o=i.removedTargetIds||[];r=new Zc([],o,s,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const s=i.count||0,o=new RL(s),a=i.targetId;r=new hE(a,o)}}return r}function GL(t,e){let r;if(e instanceof qd)r={update:Iw(t,e.key,e.value)};else if(e instanceof lE)r={delete:nm(t,e.key)};else if(e instanceof Ra)r={update:Iw(t,e.key,e.data),updateMask:e3(e.fieldMask)};else{if(!(e instanceof PL))return De();r={verify:nm(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof qh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),increment:a.k};throw De()}(0,i))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:BL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:De()}(t,e.precondition)),r}function HL(t,e){return t&&t.length>0?(lt(e!==void 0),t.map(r=>function(i,s){let o=i.updateTime?ci(i.updateTime):ci(s);return o.isEqual(Fe.min())&&(o=ci(s)),new kL(o,i.transformResults||[])}(r,e))):[]}function WL(t,e){return{documents:[rm(t,e.path)]}}function qL(t,e){const r={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(r.parent=rm(t,i),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=rm(t,i.popLast()),r.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(h){if(h.length===0)return;const d=h.map(g=>function(v){if(v.op==="=="){if(gw(v.value))return{unaryFilter:{field:vo(v.field),op:"IS_NAN"}};if(pw(v.value))return{unaryFilter:{field:vo(v.field),op:"IS_NULL"}}}else if(v.op==="!="){if(gw(v.value))return{unaryFilter:{field:vo(v.field),op:"IS_NOT_NAN"}};if(pw(v.value))return{unaryFilter:{field:vo(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(v.field),op:QL(v.op),value:v.value}}}(g));return d.length===1?d[0]:{compositeFilter:{op:"AND",filters:d}}}(e.filters);s&&(r.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:vo(g.field),direction:XL(g.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=function(h,d){return h.N||Pa(d)?d:{value:d}}(t,e.limit);var u;return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(r.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),r}function KL(t){let e=zL(t.parent);const r=t.structuredQuery,i=r.from?r.from.length:0;let s=null;if(i>0){lt(i===1);const g=r.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];r.where&&(o=mE(r.where));let a=[];r.orderBy&&(a=r.orderBy.map(g=>function(v){return new kl(Fo(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(g)));let u=null;r.limit&&(u=function(g){let v;return v=typeof g=="object"?g.value:g,Pa(v)?null:v}(r.limit));let h=null;r.startAt&&(h=function(g){const v=!!g.before,w=g.values||[];return new Hh(w,v)}(r.startAt));let d=null;return r.endAt&&(d=function(g){const v=!g.before,w=g.values||[];return new Hh(w,v)}(r.endAt)),yL(e,s,a,o,u,"F",h,d)}function YL(t,e){const r=function(i,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return De()}}(0,e.purpose);return r==null?null:{"goog-listen-tags":r}}function mE(t){return t?t.unaryFilter!==void 0?[ZL(t)]:t.fieldFilter!==void 0?[JL(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>mE(e)).reduce((e,r)=>e.concat(r)):De():[]}function XL(t){return $L[t]}function QL(t){return FL[t]}function vo(t){return{fieldPath:t.canonicalString()}}function Fo(t){return Bn.fromServerFormat(t.fieldPath)}function JL(t){return Dn.create(Fo(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(t.fieldFilter.op),t.fieldFilter.value)}function ZL(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Fo(t.unaryFilter.field);return Dn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Fo(t.unaryFilter.field);return Dn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fo(t.unaryFilter.field);return Dn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fo(t.unaryFilter.field);return Dn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return De()}}function e3(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function vE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new he((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(r,o).next(i,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof he?r:he.resolve(r)}catch(r){return he.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):he.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):he.reject(r)}static resolve(e){return new he((r,i)=>{r(e)})}static reject(e){return new he((r,i)=>{i(e)})}static waitFor(e){return new he((r,i)=>{let s=0,o=0,a=!1;e.forEach(u=>{++s,u.next(()=>{++o,a&&o===s&&r()},h=>i(h))}),a=!0,o===s&&r()})}static or(e){let r=he.resolve(!1);for(const i of e)r=r.next(s=>s?he.resolve(s):i());return r}static forEach(e,r){const i=[];return e.forEach((s,o)=>{i.push(r.call(this,s,o))}),this.waitFor(i)}}function Fu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,r,i,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,r){const i=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&TL(o,e,i[s])}}applyToLocalView(e){for(const r of this.baseMutations)r.key.isEqual(e.key)&&em(r,e,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(e.key)&&em(r,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(r=>{const i=e.get(r.key),s=i;this.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(Fe.min())})}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),dt())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(r,i)=>xw(r,i))&&aa(this.baseMutations,e.baseMutations,(r,i)=>xw(r,i))}}class sy{constructor(e,r,i,s){this.batch=e,this.commitVersion=r,this.mutationResults=i,this.docVersions=s}static from(e,r,i){lt(e.mutations.length===i.length);let s=LL;const o=e.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,i[a].version);return new sy(e,r,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,r,i,s,o=Fe.min(),a=Fe.min(),u=gn.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.Jt=e}}function o3(t){const e=KL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wL(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.qe=new l3}addToCollectionParentIndex(e,r){return this.qe.add(r),he.resolve()}getCollectionParents(e,r){return he.resolve(this.qe.getEntries(r))}addFieldIndex(e,r){return he.resolve()}deleteFieldIndex(e,r){return he.resolve()}getDocumentsMatchingTarget(e,r){return he.resolve(null)}getFieldIndex(e,r){return he.resolve(null)}getFieldIndexes(e,r){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}updateCollectionGroup(e,r,i){return he.resolve()}updateIndexEntries(e,r){return he.resolve()}}class l3{constructor(){this.index={}}add(e){const r=e.lastSegment(),i=e.popLast(),s=this.index[r]||new fn(Nt.comparator),o=!s.has(i);return this.index[r]=s.add(i),o}has(e){const r=e.lastSegment(),i=e.popLast(),s=this.index[r];return s&&s.has(i)}getEntries(e){return(this.index[e]||new fn(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new da(0)}static yn(){return new da(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==t3)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.changes=new Aa(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const i=this.changes.get(r);return i!==void 0?he.resolve(i):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,r,i){this.ds=e,this.Bs=r,this.indexManager=i}Ls(e,r){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,r).next(i=>this.Us(e,r,i))}Us(e,r,i){return this.ds.getEntry(e,r).next(s=>{for(const o of i)o.applyToLocalView(s);return s})}qs(e,r){e.forEach((i,s)=>{for(const o of r)o.applyToLocalView(s)})}Ks(e,r){return this.ds.getEntries(e,r).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,r){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,r).next(i=>this.qs(r,i))}Qs(e,r,i){return function(s){return Ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.js(e,r.path):J_(r)?this.Ws(e,r,i):this.zs(e,r,i)}js(e,r){return this.Ls(e,new Ce(r)).next(i=>{let s=tm();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}Ws(e,r,i){const s=r.collectionGroup;let o=tm();return this.indexManager.getCollectionParents(e,s).next(a=>he.forEach(a,u=>{const h=function(d,g){return new ju(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,u.child(s));return this.zs(e,h,i).next(d=>{d.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}zs(e,r,i){let s;return this.ds.getAllFromCollection(e,r.path,i).next(o=>(s=o,this.Bs.getAllMutationBatchesAffectingQuery(e,r))).next(o=>{for(const a of o)for(const u of a.mutations){const h=u.key;let d=s.get(h);d==null&&(d=bn.newInvalidDocument(h),s=s.insert(h,d)),em(u,d,a.localWriteTime),d.isFoundDocument()||(s=s.remove(h))}}).next(()=>(s.forEach((o,a)=>{ry(r,a)||(s=s.remove(o))}),s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,r,i,s){this.targetId=e,this.fromCache=r,this.Hs=i,this.Js=s}static Ys(e,r){let i=dt(),s=dt();for(const o of r.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new oy(e,r.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{Xs(e){this.Zs=e}Qs(e,r,i,s){return function(o){return o.filters.length===0&&o.limit===null&&o.startAt==null&&o.endAt==null&&(o.explicitOrderBy.length===0||o.explicitOrderBy.length===1&&o.explicitOrderBy[0].field.isKeyField())}(r)||i.isEqual(Fe.min())?this.ti(e,r):this.Zs.Ks(e,s).next(o=>{const a=this.ei(r,o);return(Qc(r)||Wh(r))&&this.ni(r.limitType,a,s,i)?this.ti(e,r):(uw()<=Ze.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zg(r)),this.Zs.Qs(e,r,sL(i,-1)).next(u=>(a.forEach(h=>{u=u.insert(h.key,h)}),u)))})}ei(e,r){let i=new fn(eE(e));return r.forEach((s,o)=>{ry(e,o)&&(i=i.add(o))}),i}ni(e,r,i,s){if(i.size!==r.size)return!0;const o=e==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ti(e,r){return uw()<=Ze.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Zg(r)),this.Zs.Qs(e,r,ha.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,r,i,s){this.persistence=e,this.si=r,this.M=s,this.ii=new rn(et),this.ri=new Aa(o=>ey(o),ty),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(i)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new c3(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ii))}}function f3(t,e,r,i){return new d3(t,e,r,i)}async function yE(t,e){const r=je(t);return await r.persistence.runTransaction("Handle user change","readonly",i=>{let s;return r.Bs.getAllMutationBatches(i).next(o=>(s=o,r.ai(e),r.Bs.getAllMutationBatches(i))).next(o=>{const a=[],u=[];let h=dt();for(const d of s){a.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of o){u.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return r.ci.Ks(i,h).next(d=>({hi:d,removedBatchIds:a,addedBatchIds:u}))})})}function p3(t,e){const r=je(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=r.ui.newChangeBuffer({trackRemovals:!0});return function(a,u,h,d){const g=h.batch,v=g.keys();let w=he.resolve();return v.forEach(O=>{w=w.next(()=>d.getEntry(u,O)).next(S=>{const R=h.docVersions.get(O);lt(R!==null),S.version.compareTo(R)<0&&(g.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),d.addEntry(S)))})}),w.next(()=>a.Bs.removeMutationBatch(u,g))}(r,i,e,o).next(()=>o.apply(i)).next(()=>r.Bs.performConsistencyCheck(i)).next(()=>r.ci.Ks(i,s))})}function wE(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.fs.getLastRemoteSnapshotVersion(r))}function g3(t,e){const r=je(t),i=e.snapshotVersion;let s=r.ii;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=r.ui.newChangeBuffer({trackRemovals:!0});s=r.ii;const u=[];e.targetChanges.forEach((d,g)=>{const v=s.get(g);if(!v)return;u.push(r.fs.removeMatchingKeys(o,d.removedDocuments,g).next(()=>r.fs.addMatchingKeys(o,d.addedDocuments,g)));let w=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.has(g)?w=w.withResumeToken(gn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,i)),s=s.insert(g,w),function(O,S,R){return O.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(v,w,d)&&u.push(r.fs.updateTargetData(o,w))});let h=Js();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(o,d))}),u.push(m3(o,a,e.documentUpdates).next(d=>{h=d})),!i.isEqual(Fe.min())){const d=r.fs.getLastRemoteSnapshotVersion(o).next(g=>r.fs.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(d)}return he.waitFor(u).next(()=>a.apply(o)).next(()=>r.ci.Gs(o,h)).next(()=>h)}).then(o=>(r.ii=s,o))}function m3(t,e,r){let i=dt();return r.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Js();return r.forEach((a,u)=>{const h=s.get(a);u.isNoDocument()&&u.version.isEqual(Fe.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):be("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",u.version)}),o})}function v3(t,e){const r=je(t);return r.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),r.Bs.getNextMutationBatchAfterBatchId(i,e)))}function y3(t,e){const r=je(t);return r.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return r.fs.getTargetData(i,e).next(o=>o?(s=o,he.resolve(s)):r.fs.allocateTargetId(i).next(a=>(s=new Ls(e,a,0,i.currentSequenceNumber),r.fs.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=r.ii.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.ii=r.ii.insert(i.targetId,i),r.ri.set(e,i.targetId)),i})}async function sm(t,e,r){const i=je(t),s=i.ii.get(e),o=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Fu(a))throw a;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.ii=i.ii.remove(e),i.ri.delete(s.target)}function Pw(t,e,r){const i=je(t);let s=Fe.min(),o=dt();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,h,d){const g=je(u),v=g.ri.get(d);return v!==void 0?he.resolve(g.ii.get(v)):g.fs.getTargetData(h,d)}(i,a,Qs(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(a,u.targetId).next(h=>{o=h})}).next(()=>i.si.Qs(a,e,r?s:Fe.min(),r?o:dt())).next(u=>(w3(i,xL(e),u),{documents:u,li:o})))}function w3(t,e,r){let i=Fe.min();r.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.oi.set(e,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,r){return he.resolve(this.wi.get(r))}saveBundleMetadata(e,r){var i;return this.wi.set(r.id,{id:(i=r).id,version:i.version,createTime:ci(i.createTime)}),he.resolve()}getNamedQuery(e,r){return he.resolve(this.mi.get(r))}saveNamedQuery(e,r){return this.mi.set(r.name,function(i){return{name:i.name,query:o3(i.bundledQuery),readTime:ci(i.readTime)}}(r)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.overlays=new rn(Ce.comparator),this.gi=new Map}getOverlay(e,r){return he.resolve(this.overlays.get(r))}saveOverlays(e,r,i){return i.forEach((s,o)=>{this.Xt(e,r,o)}),he.resolve()}removeOverlaysForBatchId(e,r,i){const s=this.gi.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.gi.delete(i)),he.resolve()}getOverlaysForCollection(e,r,i){const s=bp(),o=r.length+1,a=new Ce(r.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return he.resolve(s)}getOverlaysForCollectionGroup(e,r,i,s){let o=new rn((d,g)=>d-g);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>i){let g=o.get(d.largestBatchId);g===null&&(g=bp(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const u=bp(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,g)=>u.set(d,g)),!(u.size()>=s)););return he.resolve(u)}Xt(e,r,i){if(i===null)return;const s=this.overlays.get(i.key);if(s!==null){const a=this.gi.get(s.largestBatchId).delete(i.key);this.gi.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new i3(r,i));let o=this.gi.get(r);o===void 0&&(o=dt(),this.gi.set(r,o)),this.gi.set(r,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.yi=new fn(Xt.pi),this.Ii=new fn(Xt.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,r){const i=new Xt(e,r);this.yi=this.yi.add(i),this.Ii=this.Ii.add(i)}Ei(e,r){e.forEach(i=>this.addReference(i,r))}removeReference(e,r){this.Ai(new Xt(e,r))}Ri(e,r){e.forEach(i=>this.removeReference(i,r))}Pi(e){const r=new Ce(new Nt([])),i=new Xt(r,e),s=new Xt(r,e+1),o=[];return this.Ii.forEachInRange([i,s],a=>{this.Ai(a),o.push(a.key)}),o}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const r=new Ce(new Nt([])),i=new Xt(r,e),s=new Xt(r,e+1);let o=dt();return this.Ii.forEachInRange([i,s],a=>{o=o.add(a.key)}),o}containsKey(e){const r=new Xt(e,0),i=this.yi.firstAfterOrEqual(r);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,r){this.key=e,this.vi=r}static pi(e,r){return Ce.comparator(e.key,r.key)||et(e.vi,r.vi)}static Ti(e,r){return et(e.vi,r.vi)||Ce.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.Bs=[],this.Si=1,this.Di=new fn(Xt.pi)}checkEmpty(e){return he.resolve(this.Bs.length===0)}addMutationBatch(e,r,i,s){const o=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const a=new r3(o,r,i,s);this.Bs.push(a);for(const u of s)this.Di=this.Di.add(new Xt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(a)}lookupMutationBatch(e,r){return he.resolve(this.Ci(r))}getNextMutationBatchAfterBatchId(e,r){const i=r+1,s=this.xi(i),o=s<0?0:s;return he.resolve(this.Bs.length>o?this.Bs[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.Bs.length===0?-1:this.Si-1)}getAllMutationBatches(e){return he.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const i=new Xt(r,0),s=new Xt(r,Number.POSITIVE_INFINITY),o=[];return this.Di.forEachInRange([i,s],a=>{const u=this.Ci(a.vi);o.push(u)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let i=new fn(et);return r.forEach(s=>{const o=new Xt(s,0),a=new Xt(s,Number.POSITIVE_INFINITY);this.Di.forEachInRange([o,a],u=>{i=i.add(u.vi)})}),he.resolve(this.Ni(i))}getAllMutationBatchesAffectingQuery(e,r){const i=r.path,s=i.length+1;let o=i;Ce.isDocumentKey(o)||(o=o.child(""));const a=new Xt(new Ce(o),0);let u=new fn(et);return this.Di.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(u=u.add(h.vi)),!0)},a),he.resolve(this.Ni(u))}Ni(e){const r=[];return e.forEach(i=>{const s=this.Ci(i);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){lt(this.ki(r.batchId,"removed")===0),this.Bs.shift();let i=this.Di;return he.forEach(r.mutations,s=>{const o=new Xt(s.key,r.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Di=i})}_n(e){}containsKey(e,r){const i=new Xt(r,0),s=this.Di.firstAfterOrEqual(i);return he.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.Bs.length,he.resolve()}ki(e,r){return this.xi(e)}xi(e){return this.Bs.length===0?0:e-this.Bs[0].batchId}Ci(e){const r=this.xi(e);return r<0||r>=this.Bs.length?null:this.Bs[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.Mi=e,this.docs=new rn(Ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const i=r.key,s=this.docs.get(i),o=s?s.size:0,a=this.Mi(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const i=this.docs.get(r);return he.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(r))}getEntries(e,r){let i=Js();return r.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():bn.newInvalidDocument(s))}),he.resolve(i)}getAllFromCollection(e,r,i){let s=Js();const o=new Ce(r.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:u,value:{document:h}}=a.getNext();if(!r.isPrefixOf(u.path))break;u.path.length>r.length+1||aL(oL(h),i)<=0||(s=s.insert(h.key,h.mutableCopy()))}return he.resolve(s)}getAllFromCollectionGroup(e,r,i,s){De()}Oi(e,r){return he.forEach(this.docs,i=>r(i))}newChangeBuffer(e){return new _3(this)}getSize(e){return he.resolve(this.size)}}class _3 extends u3{constructor(e){super(),this.Kn=e}applyChanges(e){const r=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?r.push(this.Kn.addEntry(e,s)):this.Kn.removeEntry(i)}),he.waitFor(r)}getFromCache(e,r){return this.Kn.getEntry(e,r)}getAllFromCache(e,r){return this.Kn.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.persistence=e,this.Fi=new Aa(r=>ey(r),ty),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.$i=0,this.Bi=new ay,this.targetCount=0,this.Li=da.gn()}forEachTarget(e,r){return this.Fi.forEach((i,s)=>r(s)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.$i&&(this.$i=r),he.resolve()}Tn(e){this.Fi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Li=new da(r),this.highestTargetId=r),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,r){return this.Tn(r),this.targetCount+=1,he.resolve()}updateTargetData(e,r){return this.Tn(r),he.resolve()}removeTargetData(e,r){return this.Fi.delete(r.target),this.Bi.Pi(r.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,r,i){let s=0;const o=[];return this.Fi.forEach((a,u)=>{u.sequenceNumber<=r&&i.get(u.targetId)===null&&(this.Fi.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),he.waitFor(o).next(()=>s)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,r){const i=this.Fi.get(r)||null;return he.resolve(i)}addMatchingKeys(e,r,i){return this.Bi.Ei(r,i),he.resolve()}removeMatchingKeys(e,r,i){this.Bi.Ri(r,i);const s=this.persistence.referenceDelegate,o=[];return s&&r.forEach(a=>{o.push(s.markPotentiallyOrphaned(e,a))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.Bi.Pi(r),he.resolve()}getMatchingKeysForTargetId(e,r){const i=this.Bi.Vi(r);return he.resolve(i)}containsKey(e,r){return he.resolve(this.Bi.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,r){this.Ui={},this.overlays={},this.es=new Jv(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new E3(this),this.indexManager=new a3,this.ds=function(i){return new C3(i)}(i=>this.referenceDelegate.qi(i)),this.M=new s3(r),this._s=new x3(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new S3,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let i=this.Ui[e.toKey()];return i||(i=new b3(r,this.referenceDelegate),this.Ui[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,r,i){be("MemoryPersistence","Starting transaction:",e);const s=new T3(this.es.next());return this.referenceDelegate.Ki(),i(s).next(o=>this.referenceDelegate.Gi(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Qi(e,r){return he.or(Object.values(this.Ui).map(i=>()=>i.containsKey(e,r)))}}class T3 extends n3{constructor(e){super(),this.currentSequenceNumber=e}}class ly{constructor(e){this.persistence=e,this.ji=new ay,this.Wi=null}static zi(e){return new ly(e)}get Hi(){if(this.Wi)return this.Wi;throw De()}addReference(e,r,i){return this.ji.addReference(i,r),this.Hi.delete(i.toString()),he.resolve()}removeReference(e,r,i){return this.ji.removeReference(i,r),this.Hi.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,r){return this.Hi.add(r.toString()),he.resolve()}removeTarget(e,r){this.ji.Pi(r.targetId).forEach(s=>this.Hi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(o=>this.Hi.add(o.toString()))}).next(()=>i.removeTargetData(e,r))}Ki(){this.Wi=new Set}Gi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Hi,i=>{const s=Ce.fromPath(i);return this.Ji(e,s).next(o=>{o||r.removeEntry(s,Fe.min())})}).next(()=>(this.Wi=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ji(e,r).next(i=>{i?this.Hi.delete(r.toString()):this.Hi.add(r.toString())})}qi(e){return 0}Ji(e,r){return he.or([()=>he.resolve(this.ji.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Qi(e,r)])}}class Rw{constructor(){this.activeTargetIds=cE()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I3{constructor(){this.$r=new Rw,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,i){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,r,i){this.Br[e]=r}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Rw,Promise.resolve()}handleUserChange(e,r,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{Lr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http";this.io=r+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,r,i,s,o){const a=this.uo(e,r);be("RestConnection","Sending: ",a,i);const u={};return this.ao(u,s,o),this.co(e,a,u,i).then(h=>(be("RestConnection","Received: ",h),h),h=>{throw cw("RestConnection",`${e} failed with error: `,h,"url: ",a,"request:",i),h})}ho(e,r,i,s,o){return this.oo(e,r,i,s,o)}ao(e,r,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ia,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}uo(e,r){const i=R3[e];return`${this.io}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,r,i,s){return new Promise((o,a)=>{const u=new HO;u.listenOnce(zO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Sp.NO_ERROR:const d=u.getResponseJson();be("Connection","XHR received:",JSON.stringify(d)),o(d);break;case Sp.TIMEOUT:be("Connection",'RPC "'+e+'" timed out'),a(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case Sp.HTTP_ERROR:const g=u.getStatus();if(be("Connection",'RPC "'+e+'" failed with status:',g,"response text:",u.getResponseText()),g>0){const v=u.getResponseJson().error;if(v&&v.status&&v.message){const w=function(O){const S=O.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(S)>=0?S:se.UNKNOWN}(v.status);a(new ye(w,v.message))}else a(new ye(se.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ye(se.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{be("Connection",'RPC "'+e+'" completed.')}});const h=JSON.stringify(s);u.send(r,"POST",h,i,15)})}lo(e,r,i){const s=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=UO(),a=BO(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new GO({})),this.ao(u.initMessageHeaders,r,i),sC()||aC()||LP()||lC()||DP()||oC()||(u.httpHeadersOverwriteParam="$httpHeaders");const h=s.join("");be("Connection","Creating WebChannel: "+h,u);const d=o.createWebChannel(h,u);let g=!1,v=!1;const w=new A3({Wr:S=>{v?be("Connection","Not sending because WebChannel is closed:",S):(g||(be("Connection","Opening WebChannel transport."),d.open(),g=!0),be("Connection","WebChannel sending:",S),d.send(S))},zr:()=>d.close()}),O=(S,R,M)=>{S.listen(R,x=>{try{M(x)}catch(C){setTimeout(()=>{throw C},0)}})};return O(d,Cc.EventType.OPEN,()=>{v||be("Connection","WebChannel transport opened.")}),O(d,Cc.EventType.CLOSE,()=>{v||(v=!0,be("Connection","WebChannel transport closed"),w.no())}),O(d,Cc.EventType.ERROR,S=>{v||(v=!0,cw("Connection","WebChannel transport errored:",S),w.no(new ye(se.UNAVAILABLE,"The operation could not be completed")))}),O(d,Cc.EventType.MESSAGE,S=>{var R;if(!v){const M=S.data[0];lt(!!M);const x=M,C=x.error||((R=x[0])===null||R===void 0?void 0:R.error);if(C){be("Connection","WebChannel received error:",C);const k=C.status;let A=function(F){const N=jt[F];if(N!==void 0)return uE(N)}(k),_=C.message;A===void 0&&(A=se.INTERNAL,_="Unknown error status: "+k+" with message "+C.message),v=!0,w.no(new ye(A,_)),d.close()}else be("Connection","WebChannel received:",M),w.so(M)}}),O(a,VO.STAT_EVENT,S=>{S.stat===aw.PROXY?be("Connection","Detected buffering proxy"):S.stat===aw.NOPROXY&&be("Connection","Detected no buffering proxy")}),setTimeout(()=>{w.eo()},0),w}}function _p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){return new UL(t,!0)}class xE{constructor(e,r,i=1e3,s=1.5,o=6e4){this.Yn=e,this.timerId=r,this.fo=i,this._o=s,this.wo=o,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const r=Math.floor(this.mo+this.Eo()),i=Math.max(0,Date.now()-this.po),s=Math.max(0,r-i);s>0&&be("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.mo} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,s,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){this.yo!==null&&(this.yo.skipDelay(),this.yo=null)}cancel(){this.yo!==null&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,r,i,s,o,a,u,h){this.Yn=e,this.Ro=i,this.Po=s,this.bo=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new xE(e,r)}Co(){return this.state===1||this.state===5||this.xo()}xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.No()}async stop(){this.Co()&&await this.close(0)}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&this.vo===null&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}async Oo(){if(this.xo())return this.close(0)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}async close(e,r){this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,e!==4?this.Do.reset():r&&r.code===se.RESOURCE_EXHAUSTED?(Zi(r.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):r&&r.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Lo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Yr(r)}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),r=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Vo===r&&this.qo(i,s)},i=>{e(()=>{const s=new ye(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ko(s)})})}qo(e,r){const i=this.Uo(this.Vo);this.stream=this.Go(e,r),this.stream.Hr(()=>{i(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(s=>{i(()=>this.Ko(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}No(){this.state=5,this.Do.To(async()=>{this.state=0,this.start()})}Ko(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return r=>{this.Yn.enqueueAndForget(()=>this.Vo===e?r():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O3 extends SE{constructor(e,r,i,s,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,s,a),this.M=o}Go(e,r){return this.bo.lo("Listen",e,r)}onMessage(e){this.Do.reset();const r=VL(this.M,e),i=function(s){if(!("targetChange"in s))return Fe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Fe.min():o.readTime?ci(o.readTime):Fe.min()}(e);return this.listener.Qo(r,i)}jo(e){const r={};r.database=im(this.M),r.addTarget=function(s,o){let a;const u=o.target;return a=Jg(u)?{documents:WL(s,u)}:{query:qL(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?a.resumeToken=fE(s,o.resumeToken):o.snapshotVersion.compareTo(Fe.min())>0&&(a.readTime=Yh(s,o.snapshotVersion.toTimestamp())),a}(this.M,e);const i=YL(this.M,e);i&&(r.labels=i),this.Fo(r)}Wo(e){const r={};r.database=im(this.M),r.removeTarget=e,this.Fo(r)}}class L3 extends SE{constructor(e,r,i,s,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,s,a),this.M=o,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,r){return this.bo.lo("Write",e,r)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const r=HL(e.writeResults,e.commitTime),i=ci(e.commitTime);return this.listener.Yo(i,r)}return lt(!e.writeResults||e.writeResults.length===0),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=im(this.M),this.Fo(e)}Jo(e){const r={streamToken:this.lastStreamToken,writes:e.map(i=>GL(this.M,i))};this.Fo(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3 extends class{}{constructor(e,r,i,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.bo=i,this.M=s,this.tu=!1}eu(){if(this.tu)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,r,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.oo(e,r,i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(se.UNKNOWN,s.toString())})}ho(e,r,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ho(e,r,i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(se.UNKNOWN,s.toString())})}terminate(){this.tu=!0}}class M3{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){this.nu===0&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,e==="Online"&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Zi(r),this.iu=!1):be("OnlineStateTracker",r)}cu(){this.su!==null&&(this.su.cancel(),this.su=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,r,i,s,o){this.localStore=e,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=o,this._u.Lr(a=>{i.enqueueAndForget(async()=>{ao(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=je(u);h.fu.add(4),await Bu(h),h.wu.set("Unknown"),h.fu.delete(4),await Xd(h)}(this))})}),this.wu=new M3(i,s)}}async function Xd(t){if(ao(t))for(const e of t.du)await e(!0)}async function Bu(t){for(const e of t.du)await e(!1)}function bE(t,e){const r=je(t);r.lu.has(e.targetId)||(r.lu.set(e.targetId,e),hy(r)?cy(r):Na(r).xo()&&uy(r,e))}function CE(t,e){const r=je(t),i=Na(r);r.lu.delete(e),i.xo()&&_E(r,e),r.lu.size===0&&(i.xo()?i.Mo():ao(r)&&r.wu.set("Unknown"))}function uy(t,e){t.mu.Z(e.targetId),Na(t).jo(e)}function _E(t,e){t.mu.Z(e),Na(t).Wo(e)}function cy(t){t.mu=new jL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.lu.get(e)||null}),Na(t).start(),t.wu.ru()}function hy(t){return ao(t)&&!Na(t).Co()&&t.lu.size>0}function ao(t){return je(t).fu.size===0}function EE(t){t.mu=void 0}async function $3(t){t.lu.forEach((e,r)=>{uy(t,e)})}async function F3(t,e){EE(t),hy(t)?(t.wu.au(e),cy(t)):t.wu.set("Unknown")}async function U3(t,e,r){if(t.wu.set("Online"),e instanceof dE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.lu.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.lu.delete(a),i.mu.removeTarget(a))}(t,e)}catch(i){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Xh(t,i)}else if(e instanceof Zc?t.mu.ut(e):e instanceof hE?t.mu._t(e):t.mu.ht(e),!r.isEqual(Fe.min()))try{const i=await wE(t.localStore);r.compareTo(i)>=0&&await function(s,o){const a=s.mu.yt(o);return a.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.lu.get(h);d&&s.lu.set(h,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach(u=>{const h=s.lu.get(u);if(!h)return;s.lu.set(u,h.withResumeToken(gn.EMPTY_BYTE_STRING,h.snapshotVersion)),_E(s,u);const d=new Ls(h.target,u,1,h.sequenceNumber);uy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(i){be("RemoteStore","Failed to raise snapshot:",i),await Xh(t,i)}}async function Xh(t,e,r){if(!Fu(e))throw e;t.fu.add(1),await Bu(t),t.wu.set("Offline"),r||(r=()=>wE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be("RemoteStore","Retrying IndexedDB access"),await r(),t.fu.delete(1),await Xd(t)})}function kE(t,e){return e().catch(r=>Xh(t,r,e))}async function Qd(t){const e=je(t),r=ts(e);let i=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;B3(e);)try{const s=await v3(e.localStore,i);if(s===null){e.hu.length===0&&r.Mo();break}i=s.batchId,z3(e,s)}catch(s){await Xh(e,s)}TE(e)&&IE(e)}function B3(t){return ao(t)&&t.hu.length<10}function z3(t,e){t.hu.push(e);const r=ts(t);r.xo()&&r.Ho&&r.Jo(e.mutations)}function TE(t){return ao(t)&&!ts(t).Co()&&t.hu.length>0}function IE(t){ts(t).start()}async function V3(t){ts(t).Zo()}async function G3(t){const e=ts(t);for(const r of t.hu)e.Jo(r.mutations)}async function H3(t,e,r){const i=t.hu.shift(),s=sy.from(i,e,r);await kE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Qd(t)}async function W3(t,e){e&&ts(t).Ho&&await async function(r,i){if(s=i.code,AL(s)&&s!==se.ABORTED){const o=r.hu.shift();ts(r).ko(),await kE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Qd(r)}var s}(t,e),TE(t)&&IE(t)}async function Nw(t,e){const r=je(t);r.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const i=ao(r);r.fu.add(3),await Bu(r),i&&r.wu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.fu.delete(3),await Xd(r)}async function q3(t,e){const r=je(t);e?(r.fu.delete(2),await Xd(r)):e||(r.fu.add(2),await Bu(r),r.wu.set("Unknown"))}function Na(t){return t.gu||(t.gu=function(e,r,i){const s=je(e);return s.eu(),new O3(r,s.bo,s.authCredentials,s.appCheckCredentials,s.M,i)}(t.datastore,t.asyncQueue,{Hr:$3.bind(null,t),Yr:F3.bind(null,t),Qo:U3.bind(null,t)}),t.du.push(async e=>{e?(t.gu.ko(),hy(t)?cy(t):t.wu.set("Unknown")):(await t.gu.stop(),EE(t))})),t.gu}function ts(t){return t.yu||(t.yu=function(e,r,i){const s=je(e);return s.eu(),new L3(r,s.bo,s.authCredentials,s.appCheckCredentials,s.M,i)}(t.datastore,t.asyncQueue,{Hr:V3.bind(null,t),Yr:W3.bind(null,t),Xo:G3.bind(null,t),Yo:H3.bind(null,t)}),t.du.push(async e=>{e?(t.yu.ko(),await Qd(t)):(await t.yu.stop(),t.hu.length>0&&(be("RemoteStore",`Stopping write stream with ${t.hu.length} pending writes`),t.hu=[]))})),t.yu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,r,i,s,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,r,i,s,o){const a=Date.now()+i,u=new dy(e,r,a,s,o);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fy(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),Fu(t))return new ye(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.comparator=e?(r,i)=>e(r,i)||Ce.comparator(r.key,i.key):(r,i)=>Ce.comparator(r.key,i.key),this.keyedMap=tm(),this.sortedSet=new rn(this.comparator)}static emptySet(e){return new Xo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,i)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const i=new Xo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=r,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.pu=new rn(Ce.comparator)}track(e){const r=e.doc.key,i=this.pu.get(r);i?e.type!==0&&i.type===3?this.pu=this.pu.insert(r,e):e.type===3&&i.type!==1?this.pu=this.pu.insert(r,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pu=this.pu.insert(r,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pu=this.pu.insert(r,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pu=this.pu.remove(r):e.type===1&&i.type===2?this.pu=this.pu.insert(r,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pu=this.pu.insert(r,{type:2,doc:e.doc}):De():this.pu=this.pu.insert(r,e)}Iu(){const e=[];return this.pu.inorderTraversal((r,i)=>{e.push(i)}),e}}class fa{constructor(e,r,i,s,o,a,u,h){this.query=e,this.docs=r,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h}static fromInitialDocuments(e,r,i,s){const o=[];return r.forEach(a=>{o.push({type:0,doc:a})}),new fa(e,r,Xo.emptySet(r),o,i,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,i=e.docChanges;if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==i[s].type||!r[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.Tu=void 0,this.listeners=[]}}class Y3{constructor(){this.queries=new Aa(e=>Z_(e),Gd),this.onlineState="Unknown",this.Eu=new Set}}async function X3(t,e){const r=je(t),i=e.query;let s=!1,o=r.queries.get(i);if(o||(s=!0,o=new K3),s)try{o.Tu=await r.onListen(i)}catch(a){const u=fy(a,`Initialization of query '${Zg(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,o),o.listeners.push(e),e.Au(r.onlineState),o.Tu&&e.Ru(o.Tu)&&py(r)}async function Q3(t,e){const r=je(t),i=e.query;let s=!1;const o=r.queries.get(i);if(o){const a=o.listeners.indexOf(e);a>=0&&(o.listeners.splice(a,1),s=o.listeners.length===0)}if(s)return r.queries.delete(i),r.onUnlisten(i)}function J3(t,e){const r=je(t);let i=!1;for(const s of e){const o=s.query,a=r.queries.get(o);if(a){for(const u of a.listeners)u.Ru(s)&&(i=!0);a.Tu=s}}i&&py(r)}function Z3(t,e,r){const i=je(t),s=i.queries.get(e);if(s)for(const o of s.listeners)o.onError(r);i.queries.delete(e)}function py(t){t.Eu.forEach(e=>{e.next()})}class eD{constructor(e,r,i){this.query=e,this.Pu=r,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}Ru(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new fa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),r=!0):this.Su(e,this.onlineState)&&(this.Du(e),r=!0),this.Vu=e,r}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let r=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),r=!0),r}Su(e,r){if(!e.fromCache)return!0;const i=r!=="Offline";return(!this.options.Cu||!i)&&(!e.docs.isEmpty()||r==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const r=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Du(e){e=fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class tD{constructor(e,r){this.query=e,this.$u=r,this.Bu=null,this.current=!1,this.Lu=dt(),this.mutatedKeys=dt(),this.Uu=eE(e),this.qu=new Xo(this.Uu)}get Ku(){return this.$u}Gu(e,r){const i=r?r.Qu:new Ow,s=r?r.qu:this.qu;let o=r?r.mutatedKeys:this.mutatedKeys,a=s,u=!1;const h=Qc(this.query)&&s.size===this.query.limit?s.last():null,d=Wh(this.query)&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const w=s.get(g),O=ry(this.query,v)?v:null,S=!!w&&this.mutatedKeys.has(w.key),R=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let M=!1;w&&O?w.data.isEqual(O.data)?S!==R&&(i.track({type:3,doc:O}),M=!0):this.ju(w,O)||(i.track({type:2,doc:O}),M=!0,(h&&this.Uu(O,h)>0||d&&this.Uu(O,d)<0)&&(u=!0)):!w&&O?(i.track({type:0,doc:O}),M=!0):w&&!O&&(i.track({type:1,doc:w}),M=!0,(h||d)&&(u=!0)),M&&(O?(a=a.add(O),o=R?o.add(g):o.delete(g)):(a=a.delete(g),o=o.delete(g)))}),Qc(this.query)||Wh(this.query))for(;a.size>this.query.limit;){const g=Qc(this.query)?a.last():a.first();a=a.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{qu:a,Qu:i,ni:u,mutatedKeys:o}}ju(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,i){const s=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const o=e.Qu.Iu();o.sort((d,g)=>function(v,w){const O=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return O(v)-O(w)}(d.type,g.type)||this.Uu(d.doc,g.doc)),this.Wu(i);const a=r?this.zu():[],u=this.Lu.size===0&&this.current?1:0,h=u!==this.Bu;return this.Bu=u,o.length!==0||h?{snapshot:new fa(this.query,e.qu,s,o,e.mutatedKeys,u===0,h,!1),Hu:a}:{Hu:a}}Au(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Ow,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(r=>this.$u=this.$u.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.$u=this.$u.delete(r)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=dt(),this.qu.forEach(i=>{this.Ju(i.key)&&(this.Lu=this.Lu.add(i.key))});const r=[];return e.forEach(i=>{this.Lu.has(i)||r.push(new RE(i))}),this.Lu.forEach(i=>{e.has(i)||r.push(new PE(i))}),r}Yu(e){this.$u=e.li,this.Lu=dt();const r=this.Gu(e.documents);return this.applyChanges(r,!0)}Xu(){return fa.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,this.Bu===0)}}class nD{constructor(e,r,i){this.query=e,this.targetId=r,this.view=i}}class rD{constructor(e){this.key=e,this.Zu=!1}}class iD{constructor(e,r,i,s,o,a){this.localStore=e,this.remoteStore=r,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.ta={},this.ea=new Aa(u=>Z_(u),Gd),this.na=new Map,this.sa=new Set,this.ia=new rn(Ce.comparator),this.ra=new Map,this.oa=new ay,this.ua={},this.aa=new Map,this.ca=da.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return this.ha===!0}}async function sD(t,e){const r=gD(t);let i,s;const o=r.ea.get(e);if(o)i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),s=o.view.Xu();else{const a=await y3(r.localStore,Qs(e));r.isPrimaryClient&&bE(r.remoteStore,a);const u=r.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,s=await oD(r,e,i,u==="current")}return s}async function oD(t,e,r,i){t.la=(g,v,w)=>async function(O,S,R,M){let x=S.view.Gu(R);x.ni&&(x=await Pw(O.localStore,S.query,!1).then(({documents:A})=>S.view.Gu(A,x)));const C=M&&M.targetChanges.get(S.targetId),k=S.view.applyChanges(x,O.isPrimaryClient,C);return Dw(O,S.targetId,k.Hu),k.snapshot}(t,g,v,w);const s=await Pw(t.localStore,e,!0),o=new tD(e,s.li),a=o.Gu(s.documents),u=$u.createSynthesizedTargetChangeForCurrentChange(r,i&&t.onlineState!=="Offline"),h=o.applyChanges(a,t.isPrimaryClient,u);Dw(t,r,h.Hu);const d=new nD(e,r,o);return t.ea.set(e,d),t.na.has(r)?t.na.get(r).push(e):t.na.set(r,[e]),h.snapshot}async function aD(t,e){const r=je(t),i=r.ea.get(e),s=r.na.get(i.targetId);if(s.length>1)return r.na.set(i.targetId,s.filter(o=>!Gd(o,e))),void r.ea.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),CE(r.remoteStore,i.targetId),om(r,i.targetId)}).catch(Uu)):(om(r,i.targetId),await sm(r.localStore,i.targetId,!0))}async function lD(t,e,r){const i=mD(t);try{const s=await function(o,a){const u=je(o),h=En.now(),d=a.reduce((v,w)=>v.add(w.key),dt());let g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>u.ci.Ks(v,d).next(w=>{g=w;const O=[];for(const S of a){const R=IL(S,g.get(S.key));R!=null&&O.push(new Ra(S.key,R,K_(R.value.mapValue),qi.exists(!0)))}return u.Bs.addMutationBatch(v,h,O,a)})).then(v=>(v.applyToLocalDocumentSet(g),{batchId:v.batchId,changes:g}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let h=o.ua[o.currentUser.toKey()];h||(h=new rn(et)),h=h.insert(a,u),o.ua[o.currentUser.toKey()]=h}(i,s.batchId,r),await zu(i,s.changes),await Qd(i.remoteStore)}catch(s){const o=fy(s,"Failed to persist write");r.reject(o)}}async function AE(t,e){const r=je(t);try{const i=await g3(r.localStore,e);e.targetChanges.forEach((s,o)=>{const a=r.ra.get(o);a&&(lt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.Zu=!0:s.modifiedDocuments.size>0?lt(a.Zu):s.removedDocuments.size>0&&(lt(a.Zu),a.Zu=!1))}),await zu(r,i,e)}catch(i){await Uu(i)}}function Lw(t,e,r){const i=je(t);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){const s=[];i.ea.forEach((o,a)=>{const u=a.view.Au(e);u.snapshot&&s.push(u.snapshot)}),function(o,a){const u=je(o);u.onlineState=a;let h=!1;u.queries.forEach((d,g)=>{for(const v of g.listeners)v.Au(a)&&(h=!0)}),h&&py(u)}(i.eventManager,e),s.length&&i.ta.Qo(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function uD(t,e,r){const i=je(t);i.sharedClientState.updateQueryState(e,"rejected",r);const s=i.ra.get(e),o=s&&s.key;if(o){let a=new rn(Ce.comparator);a=a.insert(o,bn.newNoDocument(o,Fe.min()));const u=dt().add(o),h=new Kd(Fe.min(),new Map,new fn(et),a,u);await AE(i,h),i.ia=i.ia.remove(o),i.ra.delete(e),gy(i)}else await sm(i.localStore,e,!1).then(()=>om(i,e,r)).catch(Uu)}async function cD(t,e){const r=je(t),i=e.batch.batchId;try{const s=await p3(r.localStore,e);OE(r,i,null),NE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),await zu(r,s)}catch(s){await Uu(s)}}async function hD(t,e,r){const i=je(t);try{const s=await function(o,a){const u=je(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.Bs.lookupMutationBatch(h,a).next(g=>(lt(g!==null),d=g.keys(),u.Bs.removeMutationBatch(h,g))).next(()=>u.Bs.performConsistencyCheck(h)).next(()=>u.ci.Ks(h,d))})}(i.localStore,e);OE(i,e,r),NE(i,e),i.sharedClientState.updateMutationState(e,"rejected",r),await zu(i,s)}catch(s){await Uu(s)}}function NE(t,e){(t.aa.get(e)||[]).forEach(r=>{r.resolve()}),t.aa.delete(e)}function OE(t,e,r){const i=je(t);let s=i.ua[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(r?o.reject(r):o.resolve(),s=s.remove(e)),i.ua[i.currentUser.toKey()]=s}}function om(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.na.get(e))t.ea.delete(i),r&&t.ta.fa(i,r);t.na.delete(e),t.isPrimaryClient&&t.oa.Pi(e).forEach(i=>{t.oa.containsKey(i)||LE(t,i)})}function LE(t,e){t.sa.delete(e.path.canonicalString());const r=t.ia.get(e);r!==null&&(CE(t.remoteStore,r),t.ia=t.ia.remove(e),t.ra.delete(r),gy(t))}function Dw(t,e,r){for(const i of r)i instanceof PE?(t.oa.addReference(i.key,e),dD(t,i)):i instanceof RE?(be("SyncEngine","Document no longer in limbo: "+i.key),t.oa.removeReference(i.key,e),t.oa.containsKey(i.key)||LE(t,i.key)):De()}function dD(t,e){const r=e.key,i=r.path.canonicalString();t.ia.get(r)||t.sa.has(i)||(be("SyncEngine","New document in limbo: "+r),t.sa.add(i),gy(t))}function gy(t){for(;t.sa.size>0&&t.ia.size<t.maxConcurrentLimboResolutions;){const e=t.sa.values().next().value;t.sa.delete(e);const r=new Ce(Nt.fromString(e)),i=t.ca.next();t.ra.set(i,new rD(r)),t.ia=t.ia.insert(r,i),bE(t.remoteStore,new Ls(Qs(ny(r.path)),i,2,Jv.A))}}async function zu(t,e,r){const i=je(t),s=[],o=[],a=[];i.ea.isEmpty()||(i.ea.forEach((u,h)=>{a.push(i.la(h,e,r).then(d=>{if(d){i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,d.fromCache?"not-current":"current"),s.push(d);const g=oy.Ys(h.targetId,d);o.push(g)}}))}),await Promise.all(a),i.ta.Qo(s),await async function(u,h){const d=je(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>he.forEach(h,v=>he.forEach(v.Hs,w=>d.persistence.referenceDelegate.addReference(g,v.targetId,w)).next(()=>he.forEach(v.Js,w=>d.persistence.referenceDelegate.removeReference(g,v.targetId,w)))))}catch(g){if(!Fu(g))throw g;be("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const w=d.ii.get(v),O=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(O);d.ii=d.ii.insert(v,S)}}}(i.localStore,o))}async function fD(t,e){const r=je(t);if(!r.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const i=await yE(r.localStore,e);r.currentUser=e,function(s,o){s.aa.forEach(a=>{a.forEach(u=>{u.reject(new ye(se.CANCELLED,o))})}),s.aa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zu(r,i.hi)}}function pD(t,e){const r=je(t),i=r.ra.get(e);if(i&&i.Zu)return dt().add(i.key);{let s=dt();const o=r.na.get(e);if(!o)return s;for(const a of o){const u=r.ea.get(a);s=s.unionWith(u.view.Ku)}return s}}function gD(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uD.bind(null,e),e.ta.Qo=J3.bind(null,e.eventManager),e.ta.fa=Z3.bind(null,e.eventManager),e}function mD(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hD.bind(null,e),e}class vD{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=Yd(e.databaseInfo.databaseId),this.sharedClientState=this._a(e),this.persistence=this.wa(e),await this.persistence.start(),this.gcScheduler=this.ma(e),this.localStore=this.ga(e)}ma(e){return null}ga(e){return f3(this.persistence,new h3,e.initialUser,this.M)}wa(e){return new k3(ly.zi,this.M)}_a(e){return new I3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class yD{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Lw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fD.bind(null,this.syncEngine),await q3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Y3}createDatastore(e){const r=Yd(e.databaseInfo.databaseId),i=(s=e.databaseInfo,new N3(s));var s;return function(o,a,u,h){return new D3(o,a,u,h)}(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=u=>Lw(this.syncEngine,u,0),a=Aw.vt()?new Aw:new P3,new j3(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,r){return function(i,s,o,a,u,h,d){const g=new iD(i,s,o,a,u,h);return d&&(g.ha=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return async function(e){const r=je(e);be("RemoteStore","RemoteStore shutting down."),r.fu.add(5),await Bu(r),r._u.shutdown(),r.wu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,r,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=s,this.user=Fn.UNAUTHENTICATED,this.clientId=G_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{be("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(be("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=fy(r,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function SD(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const r=await t.getConfiguration();await e.initialize(r);let i=r.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await yE(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function bD(t,e){t.asyncQueue.verifyOperationInProgress();const r=await CD(t);be("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(r,i),t.setCredentialChangeListener(s=>Nw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>Nw(e.remoteStore,o)),t.onlineComponents=e}async function CD(t){return t.offlineComponents||(be("FirestoreClient","Using default OfflineComponentProvider"),await SD(t,new vD)),t.offlineComponents}async function DE(t){return t.onlineComponents||(be("FirestoreClient","Using default OnlineComponentProvider"),await bD(t,new yD)),t.onlineComponents}function _D(t){return DE(t).then(e=>e.syncEngine)}async function Mw(t){const e=await DE(t),r=e.eventManager;return r.onListen=sD.bind(null,e.syncEngine),r.onUnlisten=aD.bind(null,e.syncEngine),r}const jw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e,r){if(!r)throw new ye(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ED(t,e,r,i){if(e===!0&&i===!0)throw new ye(se.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function $w(t){if(!Ce.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fw(t){if(Ce.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De()}function Ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Jd(t);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){var r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ED("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,r,i){this._authCredentials=r,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uw({}),this._settingsFrozen=!1,e instanceof ua?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ua(s.options.projectId)}(e))}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qO;switch(r.type){case"gapi":const i=r.client;return lt(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new XO(i,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=jw.get(e);r&&(be("ComponentProvider","Removing Datastore"),jw.delete(e),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Vu{constructor(e,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vu(this.firestore,e,this._query)}}class Ki extends Vu{constructor(e,r,i){super(e,r,ny(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Ce(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function kt(t,e,...r){if(t=yt(t),ME("collection","path",e),t instanceof my){const i=Nt.fromString(e,...r);return Fw(i),new Ki(t,null,i)}{if(!(t instanceof Wn||t instanceof Ki))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Nt.fromString(e,...r));return Fw(i),new Ki(t.firestore,null,i)}}function ln(t,e,...r){if(t=yt(t),arguments.length===1&&(e=G_.R()),ME("doc","path",e),t instanceof my){const i=Nt.fromString(e,...r);return $w(i),new Wn(t,null,new Ce(i))}{if(!(t instanceof Wn||t instanceof Ki))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Nt.fromString(e,...r));return $w(i),new Wn(t.firestore,t instanceof Ki?t.converter:null,new Ce(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new xE(this,"async_queue_retry"),this.qa=()=>{const r=_p();r&&be("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Do.Ao()};const e=_p();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const r=_p();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const r=new Os;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}async Qa(){if(this.Ma.length!==0){try{await this.Ma[0](),this.Ma.shift(),this.Do.reset()}catch(e){if(!Fu(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Ma.length>0&&this.Do.To(()=>this.Qa())}}Ga(e){const r=this.ka.then(()=>(this.Ba=!0,e().catch(i=>{this.$a=i,this.Ba=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Zi("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ba=!1,i))));return this.ka=r,r}enqueueAfterDelay(e,r,i){this.Ka(),this.Ua.indexOf(e)>-1&&(r=0);const s=dy.createAndSchedule(this,e,r,i,o=>this.ja(o));return this.Fa.push(s),s}Ka(){this.$a&&De()}verifyOperationInProgress(){}async Wa(){let e;do e=this.ka,await e;while(e!==this.ka)}za(e){for(const r of this.Fa)if(r.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((r,i)=>r.targetTimeMs-i.targetTimeMs);for(const r of this.Fa)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const r=this.Fa.indexOf(e);this.Fa.splice(r,1)}}function Bw(t){return function(e,r){if(typeof e!="object"||e===null)return!1;const i=e;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class pa extends my{constructor(e,r,i){super(e,r,i),this.type="firestore",this._queue=new kD,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||$E(this),this._firestoreClient.terminate()}}function TD(t=vv()){return kd(t,"firestore").getImmediate()}function jE(t){return t._firestoreClient||$E(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $E(t){var e;const r=t._freezeSettings(),i=function(s,o,a,u){return new nL(s,o,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new xD(t._authCredentials,t._appCheckCredentials,t._queue,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(gn.fromBase64String(e))}catch(r){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ga(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=/^__.*__$/;class PD{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,r,this.fieldTransforms):new qd(e,this.data,r,this.fieldTransforms)}}class FE{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return new Ra(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function UE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class wy{constructor(e,r,i,s,o,a){this.settings=e,this.databaseId=r,this.M=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Ya(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Za({path:i,ec:!1});return s.nc(e),s}sc(e){var r;const i=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Za({path:i,ec:!1});return s.Ya(),s}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Qh(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(e.length===0)throw this.rc("Document fields must not be empty");if(UE(this.Xa)&&ID.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class RD{constructor(e,r,i){this.databaseId=e,this.ignoreUndefinedProperties=r,this.M=i||Yd(e)}ac(e,r,i,s=!1){return new wy({Xa:e,methodName:r,uc:i,path:Bn.emptyPath(),ec:!1,oc:s},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function xy(t){const e=t._freezeSettings(),r=Yd(t._databaseId);return new RD(t._databaseId,!!e.ignoreUndefinedProperties,r)}function AD(t,e,r,i,s,o={}){const a=t.ac(o.merge||o.mergeFields?2:0,e,r,s);Sy("Data must be an object, but it was:",a,i);const u=BE(i,a);let h,d;if(o.merge)h=new ou(a.fieldMask),d=a.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const w=am(e,v,r);if(!a.contains(w))throw new ye(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);VE(g,w)||g.push(w)}h=new ou(g),d=a.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,d=a.fieldTransforms;return new PD(new Qn(u),h,d)}class ef extends vy{_toFieldTransform(e){if(e.Xa!==2)throw e.Xa===1?e.rc(`${this._methodName}() can only appear at the top level of your update data`):e.rc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}function ND(t,e,r,i){const s=t.ac(1,e,r);Sy("Data must be an object, but it was:",s,i);const o=[],a=Qn.empty();oo(i,(h,d)=>{const g=by(e,h,r);d=yt(d);const v=s.sc(g);if(d instanceof ef)o.push(g);else{const w=Gu(d,v);w!=null&&(o.push(g),a.set(g,w))}});const u=new ou(o);return new FE(a,u,s.fieldTransforms)}function OD(t,e,r,i,s,o){const a=t.ac(1,e,r),u=[am(e,i,r)],h=[s];if(o.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)u.push(am(e,o[w])),h.push(o[w+1]);const d=[],g=Qn.empty();for(let w=u.length-1;w>=0;--w)if(!VE(d,u[w])){const O=u[w];let S=h[w];S=yt(S);const R=a.sc(O);if(S instanceof ef)d.push(O);else{const M=Gu(S,R);M!=null&&(d.push(O),g.set(O,M))}}const v=new ou(d);return new FE(g,v,a.fieldTransforms)}function LD(t,e,r,i=!1){return Gu(r,t.ac(i?4:3,e))}function Gu(t,e){if(zE(t=yt(t)))return Sy("Unsupported field value:",e,t),BE(t,e);if(t instanceof vy)return function(r,i){if(!UE(i.Xa))throw i.rc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.rc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ec&&e.Xa!==4)throw e.rc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Gu(a,i.ic(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bL(i.M,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=En.fromDate(r);return{timestampValue:Yh(i.M,s)}}if(r instanceof En){const s=new En(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yh(i.M,s)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ga)return{bytesValue:fE(i.M,r._byteString)};if(r instanceof Wn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.rc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:iy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.rc(`Unsupported field value: ${Jd(r)}`)}(t,e)}function BE(t,e){const r={};return H_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,(i,s)=>{const o=Gu(s,e.tc(i));o!=null&&(r[i]=o)}),{mapValue:{fields:r}}}function zE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof En||t instanceof yy||t instanceof ga||t instanceof Wn||t instanceof vy)}function Sy(t,e,r){if(!zE(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const i=Jd(r);throw i==="an object"?e.rc(t+" a custom object"):e.rc(t+" "+i)}}function am(t,e,r){if((e=yt(e))instanceof Zd)return e._internalPath;if(typeof e=="string")return by(t,e);throw Qh("Field path arguments must be of type string or ",t,!1,void 0,r)}const DD=new RegExp("[~\\*/\\[\\]]");function by(t,e,r){if(e.search(DD)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Zd(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Qh(t,e,r,i,s){const o=i&&!i.isEmpty(),a=s!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=` in field ${i}`),a&&(h+=` in document ${s}`),h+=")"),new ye(se.INVALID_ARGUMENT,u+t+h)}function VE(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,r,i,s,o){this._firestore=e,this._userDataWriter=r,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class MD extends GE{data(){return super.data()}}function Cy(t,e){return typeof e=="string"?by(t,e):e instanceof Zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HE extends GE{constructor(e,r,i,s,o,a){super(e,r,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const i=this._document.data.field(Cy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}}class eh extends HE{data(e={}){return super.data(e)}}class jD{constructor(e,r,i,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new hl(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(i=>{e.call(r,new eh(this._firestore,this._userDataWriter,i.key,i,new hl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new eh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new eh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return a.type!==0&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:$D(a.type),doc:u,oldIndex:h,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function $D(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){if(Wh(t)&&t.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UD{}function Cn(t,...e){for(const r of e)t=r._apply(t);return t}class BD extends UD{constructor(e,r,i){super(),this.lc=e,this.fc=r,this.dc=i,this.type="where"}_apply(e){const r=xy(e.firestore),i=function(s,o,a,u,h,d,g){let v;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Vw(g,d);const O=[];for(const S of g)O.push(zw(u,s,S));v={arrayValue:{values:O}}}else v=zw(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Vw(g,d),v=LD(a,o,g,d==="in"||d==="not-in");const w=Dn.create(h,d,v);return function(O,S){if(S.S()){const M=Q_(O);if(M!==null&&!M.isEqual(S.field))throw new ye(se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${M.toString()}' and '${S.field.toString()}'`);const x=X_(O);x!==null&&zD(O,S.field,x)}const R=function(M,x){for(const C of M.filters)if(x.indexOf(C.op)>=0)return C.op;return null}(O,function(M){switch(M){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(S.op));if(R!==null)throw R===S.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${S.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${S.op.toString()}' filters with '${R.toString()}' filters.`)}(s,w),w}(e._query,"where",r,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Vu(e.firestore,e.converter,function(s,o){const a=s.filters.concat([o]);return new ju(s.path,s.collectionGroup,s.explicitOrderBy.slice(),a,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,i))}}function Jt(t,e,r){const i=e,s=Cy("where",t);return new BD(s,i,r)}function zw(t,e,r){if(typeof(r=yt(r))=="string"){if(r==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J_(e)&&r.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const i=e.path.child(Nt.fromString(r));if(!Ce.isDocumentKey(i))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return fw(t,new Ce(i))}if(r instanceof Wn)return fw(t,r._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(r)}.`)}function Vw(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function zD(t,e,r){if(!r.isEqual(e))throw new ye(se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{convertValue(e,r="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw De()}}convertObject(e,r){const i={};return oo(e.fields,(s,o)=>{i[s]=this.convertValue(o,r)}),i}convertGeoPoint(e){return new yy($t(e.latitude),$t(e.longitude))}convertArray(e,r){return(e.values||[]).map(i=>this.convertValue(i,r))}convertServerTimestamp(e,r){switch(r){case"previous":const i=q_(e);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const r=es(e);return new En(r.seconds,r.nanos)}convertDocumentKey(e,r){const i=Nt.fromString(e);lt(vE(i));const s=new ua(i.get(1),i.get(3)),o=new Ce(i.popFirst(5));return s.isEqual(r)||Zi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t,e,r){let i;return i=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,i}class WE extends VD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,r)}}function Mr(t,e,r,...i){t=Ds(t,Wn);const s=Ds(t.firestore,pa),o=xy(s);let a;return a=typeof(e=yt(e))=="string"||e instanceof Zd?OD(o,"updateDoc",t._key,e,r,i):ND(o,"updateDoc",t._key,e),_y(s,[a.toMutation(t._key,qi.exists(!0))])}function Gw(t){return _y(Ds(t.firestore,pa),[new lE(t._key,qi.none())])}function Ec(t,e){const r=Ds(t.firestore,pa),i=ln(t),s=GD(t.converter,e);return _y(r,[AD(xy(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,qi.exists(!1))]).then(()=>i)}function Ot(t,...e){var r,i,s;t=yt(t);let o={includeMetadataChanges:!1},a=0;typeof e[a]!="object"||Bw(e[a])||(o=e[a],a++);const u={includeMetadataChanges:o.includeMetadataChanges};if(Bw(e[a])){const v=e[a];e[a]=(r=v.next)===null||r===void 0?void 0:r.bind(v),e[a+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[a+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let h,d,g;if(t instanceof Wn)d=Ds(t.firestore,pa),g=ny(t._key.path),h={next:v=>{e[a]&&e[a](HD(d,t,v))},error:e[a+1],complete:e[a+2]};else{const v=Ds(t,Vu);d=Ds(v.firestore,pa),g=v._query;const w=new WE(d);h={next:O=>{e[a]&&e[a](new jD(d,w,v,O))},error:e[a+1],complete:e[a+2]},FD(t._query)}return function(v,w,O,S){const R=new wD(S),M=new eD(w,R,O);return v.asyncQueue.enqueueAndForget(async()=>X3(await Mw(v),M)),()=>{R.Ia(),v.asyncQueue.enqueueAndForget(async()=>Q3(await Mw(v),M))}}(jE(d),g,u,h)}function _y(t,e){return function(r,i){const s=new Os;return r.asyncQueue.enqueueAndForget(async()=>lD(await _D(r),i,s)),s.promise}(jE(t),e)}function HD(t,e,r){const i=r.docs.get(e._key),s=new WE(t);return new HE(t,s,e._key,i,new hl(r.hasPendingWrites,r.fromCache),e.converter)}(function(t,e=!0){(function(r){Ia=r})(Ca),zs(new Ji("firestore",(r,{options:i})=>{const s=r.getProvider("app").getImmediate(),o=new pa(s,new KO(r.getProvider("auth-internal")),new JO(r.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC")),Wr(lw,"3.4.8",t),Wr(lw,"3.4.8","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firebasestorage.googleapis.com",KE="storageBucket",WD=2*60*1e3,qD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt extends ss{constructor(e,r){super(Ep(e),`Firebase Storage: ${r} (${Ep(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}_codeEquals(e){return Ep(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Ep(t){return"storage/"+t}function Ey(){const t="An unknown error occurred, please check the error payload for server response.";return new Lt("unknown",t)}function KD(t){return new Lt("object-not-found","Object '"+t+"' does not exist.")}function YD(t){return new Lt("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Lt("unauthenticated",t)}function QD(){return new Lt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function JD(t){return new Lt("unauthorized","User does not have permission to access '"+t+"'.")}function ZD(){return new Lt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function eM(){return new Lt("canceled","User canceled the upload/download.")}function tM(t){return new Lt("invalid-url","Invalid URL '"+t+"'.")}function nM(t){return new Lt("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function rM(){return new Lt("no-default-bucket","No default bucket found. Did you set the '"+KE+"' property when initializing the app?")}function iM(){return new Lt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function sM(){return new Lt("no-download-url","The given file does not have any download URLs.")}function lm(t){return new Lt("invalid-argument",t)}function YE(){return new Lt("app-deleted","The Firebase app was deleted.")}function oM(t){return new Lt("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tl(t,e){return new Lt("invalid-format","String does not match format '"+t+"': "+e)}function Ja(t){throw new Lt("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let i;try{i=er.makeFromUrl(e,r)}catch{return new er(e,"")}if(i.path==="")return i;throw nM(e)}static makeFromUrl(e,r){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+s+a,"i"),h={bucket:1,path:3};function d(A){A.path_=decodeURIComponent(A.path)}const g="v[A-Za-z0-9_]+",v=r.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",O=new RegExp(`^https?://${v}/${g}/b/${s}/o${w}`,"i"),S={bucket:1,path:3},R=r===qE?"(?:storage.googleapis.com|storage.cloud.google.com)":r,M="([^?#]*)",x=new RegExp(`^https?://${R}/${s}/${M}`,"i"),k=[{regex:u,indices:h,postModify:o},{regex:O,indices:S,postModify:d},{regex:x,indices:{bucket:1,path:2},postModify:d}];for(let A=0;A<k.length;A++){const _=k[A],F=_.regex.exec(e);if(F){const N=F[_.indices.bucket];let V=F[_.indices.path];V||(V=""),i=new er(N,V),_.postModify(i);break}}if(i==null)throw tM(e);return i}}class aM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t,e,r){let i=1,s=null,o=null,a=!1,u=0;function h(){return u===2}let d=!1;function g(...M){d||(d=!0,e.apply(null,M))}function v(M){s=setTimeout(()=>{s=null,t(O,h())},M)}function w(){o&&clearTimeout(o)}function O(M,...x){if(d){w();return}if(M){w(),g.call(null,M,...x);return}if(h()||a){w(),g.call(null,M,...x);return}i<64&&(i*=2);let k;u===1?(u=2,k=0):k=(i+Math.random())*1e3,v(k)}let S=!1;function R(M){S||(S=!0,w(),!d&&(s!==null?(M||(u=2),clearTimeout(s),v(0)):M||(u=1)))}return v(0),o=setTimeout(()=>{a=!0,R(!0)},r),R}function uM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t){return t!==void 0}function hM(t){return typeof t=="object"&&!Array.isArray(t)}function ky(t){return typeof t=="string"||t instanceof String}function Hw(t){return Ty()&&t instanceof Blob}function Ty(){return typeof Blob<"u"}function Ww(t,e,r,i){if(i<e)throw lm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>r)throw lm(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e,r){let i=e;return r==null&&(i=`https://${e}`),`${r}://${i}/v0${t}`}function XE(t){const e=encodeURIComponent;let r="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);r=r+s+"&"}return r=r.slice(0,-1),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ms;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ms||(Ms={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,r,i,s,o,a,u,h,d,g,v){this.url_=e,this.method_=r,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,O)=>{this.resolve_=w,this.reject_=O,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new kc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=u=>{const h=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const u=o.getErrorCode()===Ms.NO_ERROR,h=o.getStatus();if(!u||this.isRetryStatusCode_(h)){const g=o.getErrorCode()===Ms.ABORT;i(!1,new kc(!1,null,g));return}const d=this.successCodes_.indexOf(h)!==-1;i(!0,new kc(d,o))})},r=(i,s)=>{const o=this.resolve_,a=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());cM(h)?o(h):o()}catch(h){a(h)}else if(u!==null){const h=Ey();h.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,h)):a(h)}else if(s.canceled){const h=this.appDelete_?YE():eM();a(h)}else{const h=ZD();a(h)}};this.canceled_?r(!1,new kc(!1,null,!0)):this.backoffId_=lM(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const r=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return r||s||o}}class kc{constructor(e,r,i){this.wasSuccessCode=e,this.connection=r,this.canceled=!!i}}function fM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vM(t,e,r,i,s,o){const a=XE(t.urlParams),u=t.url+a,h=Object.assign({},t.headers);return gM(h,e),fM(h,r),pM(h,o),mM(h,i),new dM(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wM(...t){const e=yM();if(e!==void 0){const r=new e;for(let i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(Ty())return new Blob(t);throw new Lt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function xM(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kp{constructor(e,r){this.data=e,this.contentType=r||null}}function QE(t,e){switch(t){case kr.RAW:return new kp(JE(e));case kr.BASE64:case kr.BASE64URL:return new kp(ZE(t,e));case kr.DATA_URL:return new kp(CM(e),_M(e))}throw Ey()}function JE(t){const e=[];for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const o=i,a=t.charCodeAt(++r);i=65536|(o&1023)<<10|a&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function bM(t){let e;try{e=decodeURIComponent(t)}catch{throw Tl(kr.DATA_URL,"Malformed data URL.")}return JE(e)}function ZE(t,e){switch(t){case kr.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Tl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case kr.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Tl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=SM(e)}catch{throw Tl(t,"Invalid character found")}const i=new Uint8Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);return i}class ek{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Tl(kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=r[1]||null;i!=null&&(this.base64=EM(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function CM(t){const e=new ek(t);return e.base64?ZE(kr.BASE64,e.rest):bM(e.rest)}function _M(t){return new ek(t).contentType}function EM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,r){let i=0,s="";Hw(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,r){if(Hw(this.data_)){const i=this.data_,s=xM(i,e,r);return s===null?null:new Di(s)}else{const i=new Uint8Array(this.data_.buffer,e,r-e);return new Di(i,!0)}}static getBlob(...e){if(Ty()){const r=e.map(i=>i instanceof Di?i.data_:i);return new Di(wM.apply(null,r))}else{const r=e.map(a=>ky(a)?QE(kr.RAW,a).data:a.data_);let i=0;r.forEach(a=>{i+=a.byteLength});const s=new Uint8Array(i);let o=0;return r.forEach(a=>{for(let u=0;u<a.length;u++)s[o++]=a[u]}),new Di(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t){let e;try{e=JSON.parse(t)}catch{return null}return hM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TM(t,e){const r=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?r:t+"/"+r}function nk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t,e){return e}class Rn{constructor(e,r,i,s){this.server=e,this.local=r||e,this.writable=!!i,this.xform=s||IM}}let Tc=null;function PM(t){return!ky(t)||t.length<2?t:nk(t)}function rk(){if(Tc)return Tc;const t=[];t.push(new Rn("bucket")),t.push(new Rn("generation")),t.push(new Rn("metageneration")),t.push(new Rn("name","fullPath",!0));function e(o,a){return PM(a)}const r=new Rn("name");r.xform=e,t.push(r);function i(o,a){return a!==void 0?Number(a):a}const s=new Rn("size");return s.xform=i,t.push(s),t.push(new Rn("timeCreated")),t.push(new Rn("updated")),t.push(new Rn("md5Hash",null,!0)),t.push(new Rn("cacheControl",null,!0)),t.push(new Rn("contentDisposition",null,!0)),t.push(new Rn("contentEncoding",null,!0)),t.push(new Rn("contentLanguage",null,!0)),t.push(new Rn("contentType",null,!0)),t.push(new Rn("metadata","customMetadata",!0)),Tc=t,Tc}function RM(t,e){function r(){const i=t.bucket,s=t.fullPath,o=new er(i,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:r})}function AM(t,e,r){const i={};i.type="file";const s=r.length;for(let o=0;o<s;o++){const a=r[o];i[a.local]=a.xform(i,e[a.server])}return RM(i,t),i}function ik(t,e,r){const i=tk(e);return i===null?null:AM(t,i,r)}function NM(t,e,r,i){const s=tk(e);if(s===null||!ky(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(d=>{const g=t.bucket,v=t.fullPath,w="/b/"+a(g)+"/o/"+a(v),O=Iy(w,r,i),S=XE({alt:"media",token:d});return O+S})[0]}function OM(t,e){const r={},i=e.length;for(let s=0;s<i;s++){const o=e[s];o.writable&&(r[o.server]=t[o.local])}return JSON.stringify(r)}class sk{constructor(e,r,i,s){this.url=e,this.method=r,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){if(!t)throw Ey()}function LM(t,e){function r(i,s){const o=ik(t,s,e);return ok(o!==null),o}return r}function DM(t,e){function r(i,s){const o=ik(t,s,e);return ok(o!==null),NM(o,s,t.host,t._protocol)}return r}function ak(t){function e(r,i){let s;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?s=QD():s=XD():r.getStatus()===402?s=YD(t.bucket):r.getStatus()===403?s=JD(t.path):s=i,s.serverResponse=i.serverResponse,s}return e}function MM(t){const e=ak(t);function r(i,s){let o=e(i,s);return i.getStatus()===404&&(o=KD(t.path)),o.serverResponse=s.serverResponse,o}return r}function jM(t,e,r){const i=e.fullServerUrl(),s=Iy(i,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,u=new sk(s,o,DM(t,r),a);return u.errorHandler=MM(e),u}function $M(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function FM(t,e,r){const i=Object.assign({},r);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=$M(null,e)),i}function UM(t,e,r,i,s){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let k="";for(let A=0;A<2;A++)k=k+Math.random().toString().slice(2);return k}const h=u();a["Content-Type"]="multipart/related; boundary="+h;const d=FM(e,i,s),g=OM(d,r),v="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+d.contentType+`\r
\r
`,w=`\r
--`+h+"--",O=Di.getBlob(v,i,w);if(O===null)throw iM();const S={name:d.fullPath},R=Iy(o,t.host,t._protocol),M="POST",x=t.maxUploadRetryTime,C=new sk(R,M,LM(t,r),x);return C.urlParams=S,C.headers=a,C.body=O.uploadData(),C.errorHandler=ak(e),C}class BM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ms.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ms.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ms.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,i,s){if(this.sent_)throw Ja("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ja("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ja("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ja("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ja("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zM extends BM{initXhr(){this.xhr_.responseType="text"}}function lk(){return new zM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,r){this._service=e,r instanceof er?this._location=r:this._location=er.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Zs(e,r)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nk(this._location.path)}get storage(){return this._service}get parent(){const e=kM(this._location.path);if(e===null)return null;const r=new er(this._location.bucket,e);return new Zs(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw oM(e)}}function VM(t,e,r){t._throwIfRoot("uploadBytes");const i=UM(t.storage,t._location,rk(),new Di(e,!0),r);return t.storage.makeRequestWithTokens(i,lk).then(s=>({metadata:s,ref:t}))}function GM(t,e,r=kr.RAW,i){t._throwIfRoot("uploadString");const s=QE(r,e),o=Object.assign({},i);return o.contentType==null&&s.contentType!=null&&(o.contentType=s.contentType),VM(t,s.data,o)}function HM(t){t._throwIfRoot("getDownloadURL");const e=jM(t.storage,t._location,rk());return t.storage.makeRequestWithTokens(e,lk).then(r=>{if(r===null)throw sM();return r})}function WM(t,e){const r=TM(t._location.path,e),i=new er(t._location.bucket,r);return new Zs(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){return/^[A-Za-z]+:\/\//.test(t)}function KM(t,e){return new Zs(t,e)}function uk(t,e){if(t instanceof Py){const r=t;if(r._bucket==null)throw rM();const i=new Zs(r,r._bucket);return e!=null?uk(i,e):i}else return e!==void 0?WM(t,e):t}function YM(t,e){if(e&&qM(e)){if(t instanceof Py)return KM(t,e);throw lm("To use ref(service, url), the first argument must be a Storage instance.")}else return uk(t,e)}function qw(t,e){const r=e==null?void 0:e[KE];return r==null?null:er.makeFromBucketSpec(r,t)}class Py{constructor(e,r,i,s,o){this.app=e,this._authProvider=r,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=qE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WD,this._maxUploadRetryTime=qD,this._requests=new Set,s!=null?this._bucket=er.makeFromBucketSpec(s,this._host):this._bucket=qw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=qw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ww("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ww("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zs(this,e)}_makeRequest(e,r,i,s){if(this._deleted)return new aM(YE());{const o=vM(e,this._appId,i,s,r,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,i,s).getPromise()}}const Kw="@firebase/storage",Yw="0.9.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="storage";function XM(t,e,r,i){return t=yt(t),GM(t,e,r,i)}function QM(t){return t=yt(t),HM(t)}function JM(t,e){return t=yt(t),YM(t,e)}function ZM(t=vv(),e){return t=yt(t),kd(t,ck).getImmediate({identifier:e})}function e5(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Py(r,i,s,e,Ca)}function t5(){zs(new Ji(ck,e5,"PUBLIC").setMultipleInstances(!0)),Wr(Kw,Yw,""),Wr(Kw,Yw,"esm2017")}t5();const n5={apiKey:"AIzaSyAdYeQZYe6wHGUOU0SOwv1sbppnSoViJ2M",authDomain:"etudyonet-clone-3.firebaseapp.com",projectId:"etudyonet-clone-3",storageBucket:"etudyonet-clone-3.appspot.com",messagingSenderId:"555691155641",appId:"1:555691155641:web:13e1ad4042d03e16dd7b68"},Ry=AR(n5),ze=TD(Ry),Ae=FN(Ry),r5=ZM(Ry),hk=D.createContext(),i5=({children:t})=>{var P;const[e,r]=D.useState({}),i=vr(),s=kt(ze,"users"),o=kt(ze,"offers"),a=kt(ze,"requests"),u=Cn(kt(ze,"offers"),Jt("authorId","==",`${(P=Ae.currentUser)==null?void 0:P.uid}`)),[h,d]=D.useState(),[g,v]=D.useState(),[w,O]=D.useState(""),[S,R]=D.useState(null),[M,x]=D.useState(null);D.useEffect(()=>IA(Ae,K=>{r(K)}),[]);const C=(j,K)=>CA(Ae,j,K),k=()=>(i("/"),PA(Ae)),A=(j,K)=>_A(Ae,j,K),_=j=>cp(Ae.currentUser,{displayName:j}),F=(j,K,Q,te,J,re,le,de,xe)=>Ec(s,{id:Ae.currentUser.uid,name:j,email:K,bio:Q,messanger:te,instagram:J,phoneNumber:re,deals:0,stars:0,photoURL:de,password:xe,dis:le}),N=async(j,K,Q,te,J,re)=>{await Ec(o,{authorId:Ae.currentUser.uid,name:j,phoneNumber:K,content:Q,price:te,photoURl:e==null?void 0:e.photoURL,offerImage:M,dis:re})},V=async(j,K,Q,te,J,re)=>await Ec(a,{senderId:j,senderName:K,resId:Q,resName:te,content:J,price:re,state:"waiting",message:null}),X=(j,K,Q)=>Mr(j,{state:"refuse",message:K||`${Q} has nothing to say`});D.useEffect(()=>{var j;w||Ot(o,K=>{v(K.docs)}),Ot(Cn(kt(ze,"users"),Jt("id","==",`${(j=Ae==null?void 0:Ae.currentUser)==null?void 0:j.uid}`)),K=>{K.docs.forEach(Q=>{d(Q.data().password)})})},[e]);const U=(j,K,Q)=>{Mr(j,{state:"accept"}),Mr(ln(ze,"users",`${K}`),{deals:Q+1})},W=j=>Gw(ln(ze,"offers",`${j}`)),H=()=>{Ot(o,j=>{v(w?j.docs.filter(K=>{var Q,te;if((Q=K.data().name)!=null&&Q.toLowerCase().includes(w==null?void 0:w.toLowerCase())||(te=K.data().content)!=null&&te.toLowerCase().includes(w==null?void 0:w.toLowerCase()))return K}):j.docs)})},I=()=>{Ot(o,j=>{v(j.docs)})},z=j=>Gw(j),G=async(j,K,Q,te,J,re,le,de,xe,Ve,ke,Ge,qe,Ye,He)=>{const $e=io.credential(Ae==null?void 0:Ae.currentUser.email,h&&h);await bA(Ae.currentUser,$e),await kA(Ae==null?void 0:Ae.currentUser,j),await cp(Ae.currentUser,{displayName:Ge||qe}),await Mr(ln(ze,"users",`${Q}`),{name:Ge||qe,email:j||K,bio:te||J,messanger:re||le,instagram:de||xe,phoneNumber:Ve||(ke=="00000000"?"Not available":ke),dis:Ye||He}),i("/profile")},q=(j,K,Q,te,J,re,le,de,xe,Ve,ke,Ge,qe,Ye,He)=>{xe?(Mr(ln(ze,"users",`${Ye}`),{stars:qe+le}),Ec(kt(ze,"reviews"),{senderId:j,senderPhoto:K,senderName:Q,resId:te,resName:J,content:re||null,rate:le,deals:1,senderBio:He})):(Mr(ln(ze,"users",`${Ye}`),{stars:qe+le}),Mr(ln(ze,"reviews",`${de}`),{content:re||Ge,rate:le||ke,deals:Ve+1}))},L=async(j,K,Q)=>{var le;const te=S,J=JM(r5,j.uid+".png");K(!0),await XM(J,te,"data_url");const re=await QM(J);await cp(Ae.currentUser,{photoURL:re}),await Mr(Q,{photoURL:re}),console.log("wait..."),Ot(u,de=>{de.docs.forEach(xe=>{Mr(ln(ze,"offers",`${xe.Id}`),{photoURl:re})})}),window.location.reload(!1),Ot(Cn(kt(ze,"reviews"),Jt("senderId","==",`${(le=Ae.currentUser)==null?void 0:le.uid}`)),de=>{de.docs.forEach(xe=>{Mr(ln(ze,"reviews",`${xe.id}`),{senderPhoto:re})})}),R(null),K(!1)};return p.jsx(hk.Provider,{value:{CreateUser:C,user:e,logout:k,signIn:A,setUserName:_,createUserData:F,upload:L,createOffer:N,deleteOffer:W,createRequest:V,refuseRequest:X,acceptRequest:U,deleteRequest:z,createReview:q,updateUser:G,offers:g,search:H,cancelSearch:I,value:w,setValue:O,photoChange:S,setPhotoChange:R,offerPhoto:M,setOfferPhoto:x},children:t})},Kn=()=>D.useContext(hk);const ma="/assets/avatar-2603ac74.webp",s5="/assets/logo-1c709ec8.webp";var dk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xw=Zt.createContext&&Zt.createContext(dk),Yi=globalThis&&globalThis.__assign||function(){return Yi=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Yi.apply(this,arguments)},o5=globalThis&&globalThis.__rest||function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(r[i[s]]=t[i[s]]);return r};function fk(t){return t&&t.map(function(e,r){return Zt.createElement(e.tag,Yi({key:r},e.attr),fk(e.child))})}function Ay(t){return function(e){return Zt.createElement(a5,Yi({attr:Yi({},t.attr)},e),fk(t.child))}}function a5(t){var e=function(r){var i=t.attr,s=t.size,o=t.title,a=o5(t,["attr","size","title"]),u=s||r.size||"1em",h;return r.className&&(h=r.className),t.className&&(h=(h?h+" ":"")+t.className),Zt.createElement("svg",Yi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,a,{className:h,style:Yi(Yi({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Zt.createElement("title",null,o),t.children)};return Xw!==void 0?Zt.createElement(Xw.Consumer,null,function(r){return e(r)}):e(dk)}function Qw(t){return Ay({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]})(t)}function l5(){const[t,e]=D.useState(""),{user:r,logout:i}=Kn(),s=vr(),[o,a]=D.useState(0),[u,h]=D.useState(0),[d,g]=D.useState(0);return D.useEffect(()=>{r&&e(r.photoURL),Ot(kt(ze,"requests"),v=>{var w;a(0),(w=v.docs)==null||w.forEach(O=>{O.data().state!="waiting"&&O.data().senderId==(r==null?void 0:r.uid)&&a(S=>S+1)})}),Ot(kt(ze,"requests"),v=>{var w;h(0),(w=v.docs)==null||w.forEach(O=>{O.data().state=="waiting"&&O.data().resId==(r==null?void 0:r.uid)&&h(S=>S+1)})})},[r]),p.jsxs("header",{className:"navbar",children:[p.jsxs("div",{id:"logo",onClick:()=>{s("/"),scrollTo(0,0)},children:[p.jsx("img",{src:s5,alt:""}),p.jsxs("h2",{children:["Etudyo",p.jsx("span",{children:"net"})]})]}),p.jsxs("ul",{className:"middle-section",children:[p.jsx("li",{id:window.location.pathname=="/"?"home":"undefined",onClick:()=>{s("/"),scrollTo(0,0)},children:"Home"}),p.jsx("li",{id:window.location.pathname=="/about"?"about":"undefined",onClick:()=>{s("/about")},children:"About"}),p.jsx("li",{id:window.location.pathname=="/contact"?"contact":"undefined",onClick:()=>{s("/#")},children:"Contact"})]}),r&&p.jsxs("div",{className:"drop-down",children:[p.jsx("ul",{children:p.jsxs("li",{onClick:()=>{s("/notifications")},title:"notifications",children:[u+o!="0"&&p.jsx("div",{id:"hey",children:o+u}),p.jsx(Qw,{size:"24px",color:window.location.pathname=="/notifications"?"#FF8C00":"#333C41"})]})}),p.jsx("span",{class:"material-symbols-outlined",onClick:()=>{g(1)},children:"menu"}),d==1&&p.jsxs("div",{className:"white-space",children:[p.jsx("span",{class:"material-symbols-outlined",onClick:()=>{g(2),setTimeout(()=>{g(0)},700)},children:"close"}),p.jsxs("ul",{className:"links",children:[p.jsx("li",{onClick:()=>{s("/profile"),scrollTo(0,0)},id:window.location.pathname=="/profile"?"profile":"undefined",title:"profile",children:"Profile"}),p.jsx("li",{id:window.location.pathname=="/"?"home":"undefined",onClick:()=>{s("/"),scrollTo(0,0)},children:"Home"}),p.jsx("li",{id:window.location.pathname=="/about"?"about":"undefined",onClick:()=>{s("/about")},children:"About"}),p.jsx("li",{id:window.location.pathname=="/contact"?"contact":"undefined",onClick:()=>{s("/#")},children:"Contact"}),p.jsx("li",{onClick:i,children:p.jsx("button",{children:"Logout"})})]})]}),d==2&&p.jsx(p.Fragment,{children:p.jsxs("div",{className:"white-space2",children:[p.jsx("span",{class:"material-symbols-outlined",onClick:()=>{g(2)},children:"close"}),p.jsxs("ul",{className:"links",children:[p.jsx("li",{onClick:()=>{s("/profile"),scrollTo(0,0)},id:window.location.pathname=="/profile"?"profile":"undefined",title:"profile",children:"Profile"}),p.jsx("li",{id:window.location.pathname=="/"?"home":"undefined",onClick:()=>{s("/"),scrollTo(0,0)},children:"Home"}),p.jsx("li",{id:window.location.pathname=="/about"?"about":"undefined",onClick:()=>{s("/about")},children:"About"}),p.jsx("li",{id:window.location.pathname=="/contact"?"contact":"undefined",onClick:()=>{s("/#")},children:"Contact"}),p.jsx("li",{onClick:()=>{g(0)},children:p.jsx("button",{children:"Logout"})})]})]})})]}),r?p.jsxs("ul",{className:"user-section",children:[p.jsxs("li",{onClick:()=>{s("/notifications"),scrollTo(0,0)},title:"notifications",children:[u+o!="0"&&p.jsx("div",{id:"hey",children:o+u}),p.jsx(Qw,{size:"24px",color:window.location.pathname=="/notifications"?"#FF8C00":"#333C41"})]}),p.jsx("li",{onClick:()=>{s("/profile"),scrollTo(0,0)},title:"profile",children:t?p.jsx("img",{src:t}):p.jsx("img",{src:ma})}),p.jsx("button",{id:"logout",onClick:()=>{i()},children:"Logout"})]}):p.jsx("div",{id:"sginin-section",children:p.jsx("button",{id:"signin",onClick:()=>{s("/signin"),scrollTo(0,0)},children:"Sign in"})})]})}const u5="/assets/banner-0691c4c8.jpg";function Ny(){const{search:t,cancelSearch:e,value:r,setValue:i,user:s}=Kn(),o=vr(),a=h=>{h==null||h.preventDefault(),window.location.pathname!="/"&&(scrollTo(0,300),o("/")),t()},u=h=>{h==null||h.preventDefault(),e(),document.getElementById("searchbar").value="",i(void 0)};return D.useEffect(()=>{s||u()},[!s]),p.jsxs("div",{className:"top",children:[p.jsx("img",{src:u5,alt:"banner",className:"banner"}),p.jsxs("form",{onSubmit:a,className:"search-area",children:[p.jsx("input",{type:"text",onChange:h=>{i(h.target.value)},id:"searchbar",placeholder:"Search for any offer",defaultValue:r,required:!0}),p.jsx("div",{id:"cancel",children:r&&p.jsx("span",{className:"material-symbols-outlined",onClick:u,children:"close"})}),p.jsx("button",{children:"search"})]})]})}function Oy({offer:t}){const e=vr(),{deleteOffer:r}=Kn(),[i,s]=D.useState("#333C41"),o=()=>{window.location.pathname=="/"&&e(`/users/${t.data().authorId}`)};return p.jsxs("div",{className:"offer",onClick:()=>{o()},children:[p.jsx("img",{src:t.data().offerImage,alt:"",className:"offer-image"}),p.jsxs("div",{className:"offer-info",children:[p.jsxs("div",{className:"offer-top",children:[p.jsxs("div",{className:"maker-info",children:[p.jsx("img",{src:t.data().photoURl?t.data().photoURl:avatar,alt:""}),p.jsxs("div",{children:[t.data().name.length>=12?p.jsxs("h3",{children:[t.data().name.substr(0,12),"..."]}):p.jsx("h3",{children:t.data().name}),t.data().dis=="Not available"?p.jsx(p.Fragment,{children:"   "}):p.jsx("h3",{className:"offer-dis",children:t.data().dis})]})]}),window.location.pathname=="/profile"&&p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",onClick:()=>{r(t.id)},onMouseLeave:()=>{s("#333C41")},onMouseOver:()=>{s("#FF8C00")},children:[p.jsx("path",{d:"M27.6666 14.3333V30C27.6666 30.5523 27.219 31 26.6666 31H5.33331C4.78103 31 4.33331 30.5523 4.33331 30V14.3333",stroke:i,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),p.jsx("path",{d:"M12.6667 24.3333V14.3333",stroke:i,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),p.jsx("path",{d:"M19.3333 24.3333V14.3333",stroke:i,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),p.jsx("path",{d:"M31 7.66667H22.6667M22.6667 7.66667V2C22.6667 1.44772 22.219 1 21.6667 1H10.3333C9.78105 1 9.33333 1.44772 9.33333 2V7.66667M22.6667 7.66667H9.33333M1 7.66667H9.33333",stroke:i,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})]}),p.jsx("h3",{className:"offer-content",children:t.data().content}),p.jsx("div",{className:"offer-footer",children:p.jsxs("h4",{children:["STARTING AT ",p.jsxs("span",{children:[t.data().price.trim(),"DT"]})]})})]})]},t.id)}function c5(){const{offers:t,user:e}=Kn();vr();const r=t!=null&&t.length?t.map(i=>p.jsx(Oy,{offer:i})):p.jsxs("div",{className:"person",children:[p.jsx("div",{id:"head"}),p.jsx("div",{id:"body"}),p.jsx("div",{id:"body2"}),p.jsx("div",{id:"circle"}),p.jsxs("div",{className:"qmarks",children:[p.jsx("h3",{className:"q1",children:"?"}),p.jsx("h3",{className:"q2",children:"?"}),p.jsx("h3",{className:"q3",children:"?"})]}),p.jsx("h3",{children:"No results found for your search."})]});return p.jsxs("div",{children:[p.jsx(Ny,{}),p.jsx("div",{className:"home",children:p.jsx("div",{className:"offers-section",children:r})})]})}const Ly="data:image/webp;base64,UklGRjYBAABXRUJQVlA4TCkBAAAvF8AFEG/BqG0kSe6Z92JfvHdozH8wjmQr0cPhxM8/ARIigL26+yIBzvTxNBwkHg6OAEIuCSIGJBYSxwAHiZc7FheRzDAky6gsg/0EZ2yWDVmyfJbLcgi/FhBr223bfHcVMCJDudtgQosRDDn7D6iWskBE/ycA/1BOLiPrks6pza19qqRv+pyWXIdhLRaTONMRWS2n0cqFto0HS5sZrOnmrL8JaA7GaYlOYpSfOJn8Ve0o9UhHPlZZ3oiIhO0JYEv2wJG9sZtKhpttADMk3DxH1W0zImHTG+WXTMxkir1PeQ9MaajLJnlmlxnrvc+M2U95+2KGtjFG6SSb0KyVGeOb41jtEdyYbsrzUE0KXOggT31GT0mpOj8e18wqACjbjDIfOgDJZZkX/EsA",Dy="data:image/webp;base64,UklGRpIAAABXRUJQVlA4TIUAAAAvF8AFEIegqG0bKOH/GN57NOY/DESSoQH9U4lAg5VAIGKtxIC8AXgLet0K9JLAQSRJilTLfHP+7VLvg4CI/k8AcM4mLsfVUlFKskvuyD0DLrIxOrC0I/mPrfRyvcNenoL6BTbvTTrqvSb/0Aoh9C3yf3FxR3RA7trIAJZKE0uyC24p8wQAAA==",h5="data:image/webp;base64,UklGRhABAABXRUJQVlA4TAMBAAAvF8AFEE/BuG3bQGpf3X/T3p3yPK2BSG3bePv/Zwf2bRDFbdtGRPZftoe+rUG2kepP9SiPsCf4AO5br9EEnxkTTPkMwxKMCTSaz2gsDEvAWPAVhgXECHHYEILfwoZjU/fVNz86CA4jSU4c0fOb2WNm55+h4KQQIvrPyG3bSDZ9bGd5xhW5979KCqVAS3U7T0ieGNNPRysQ4rYAU0GaLevpHDpBnJa90XpgqQVRptEpA1oQZWQeXoODFrxDHIy6WjHXSWtu0UtPANhbnRbij+nWHGdG+q2cwOqCLng+2BSYc/n97wXmnL9KRUqWyE+Qm0hehrScRrtFtCwgLN/PnfPrp5IoAA==",pk="data:image/webp;base64,UklGRt4AAABXRUJQVlA4TNEAAAAvF8AFEOegoG0bKdHx1+H9Q2P+A0HbtukYjMFO+UjvI1ggcz8PFAgABRIUZFMCWv2IyFEPg97uAg4jSXKaZfhDXnqLe/JP1FcpgYj+T4D+sMyv03OW9ODSpyacT6eD4Y1BF2YM2nCuNzafzYnI5thi9chyg89K1WDaK4Yr2pA83OrGDLeqPWXDslQ7CNKR4oApOmA6NMHdA9w93Jud5Qleqrf7KBXD6kY13KCD1WjzymFVh5sP2/dFZz1gfHXhiHkspNOTw+vNpXdJ+fc6/Sv6QwA=",Jh="data:image/webp;base64,UklGRhIBAABXRUJQVlA4TAUBAAAvF8AFEN+goG0bKdHx1+H9Q2P+A0HbtmkZjMFP/QhvBgtknueDAgGQglaBNEALakTkaoazvQUcxrbVRM8rXzBsXgyf/isVsYWI/k+A6uUdDULcXc3lEbhevGE1iD+X1v8Etl6sgei6dKNfK2481fyk91Mi6WYiSsqY3+l6spTY1b5KL6IE3vZgU0ffZQZVP8fpILg0sP4ZKx96c22wSZrYf8ynLwRsM16q/RklrfDyBCSdI5tjkgdekl5YqRirerIyT51z0XnFpCeLVNS+MEsOq246uKQn5m1uPCWpG4hNbpiqDg3lCJjXBMppeef/7xEgFTVErmNWIxBe7znG+b2q2Ya96DYA",Zh="data:image/webp;base64,UklGRvYAAABXRUJQVlA4TOoAAAAvF8AFEL+gsG3bRkb+R+5NOvTG/IdBtpHuCP796R6hBh9I32dwEAEBUCE+gvsKIiUijwEObNuqkltHH8+/FDznP1YJG0JE/ydAUlnN6LS0fSXpcv64vaSN8aihzqin4fpioe5wvAyUjVP9CfCDNVEfQIGKGe9WmSxNWQ6kwED3y2luNeEh+OGMR9RsuO6/MhaSFAOlbyKreTD3GbUV2JN3q5L6Js5WZu4rDHELI/fJsVxjH1n14DXR9OuH8b5JeUo2FTUDM2qrv5IWjn+crIUhnoXxkWNnjZ6o+8gqvRb+6JckfZdkPWZrkQQ=";var d5={exports:{}};(function(t,e){(function(r,i){t.exports=i(D)})(self,function(r){return(()=>{var i={303:(u,h,d)=>{u.exports=d(302),d(200),d(630),d(16),d(677),d(635),d(166),d(140),d(922)},635:(u,h,d)=>{var g,v,w;(function(O){v=[d(302),d(677)],(w=typeof(g=function(S){var R=S.ExifMap.prototype;R.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},R.tags.ifd1=R.tags,R.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180° CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90° CW",6:"Rotate 90° CW",7:"Horizontal flip + Rotate 90° CW",8:"Rotate 90° CCW"}},R.getText=function(M){var x=this.get(M);switch(M){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[M][x];case"ExifVersion":case"FlashpixVersion":return x?String.fromCharCode(x[0],x[1],x[2],x[3]):void 0;case"ComponentsConfiguration":return x?this.stringValues[M][x[0]]+this.stringValues[M][x[1]]+this.stringValues[M][x[2]]+this.stringValues[M][x[3]]:void 0;case"GPSVersionID":return x?x[0]+"."+x[1]+"."+x[2]+"."+x[3]:void 0}return String(x)},R.getAll=function(){var M,x,C,k={};for(M in this)Object.prototype.hasOwnProperty.call(this,M)&&((x=this[M])&&x.getAll?k[this.ifds[M].name]=x.getAll():(C=this.tags[M])&&(k[C]=this.getText(C)));return k},R.getName=function(M){var x=this.tags[M];return typeof x=="object"?this.ifds[M].name:x},function(){var M,x,C,k=R.tags;for(M in k)if(Object.prototype.hasOwnProperty.call(k,M))if(x=R.ifds[M])for(M in C=k[M])Object.prototype.hasOwnProperty.call(C,M)&&(x.map[C[M]]=Number(M));else R.map[k[M]]=Number(M)}()})=="function"?g.apply(h,v):g)===void 0||(u.exports=w)})()},677:(u,h,d)=>{var g,v,w;(function(O){v=[d(302),d(630)],(w=typeof(g=function(S){function R(A){A&&(Object.defineProperty(this,"map",{value:this.ifds[A].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[A]||{}}))}R.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965},R.prototype.ifds={ifd1:{name:"Thumbnail",map:R.prototype.map},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},R.prototype.get=function(A){return this[A]||this[this.map[A]]};var M={1:{getValue:function(A,_){return A.getUint8(_)},size:1},2:{getValue:function(A,_){return String.fromCharCode(A.getUint8(_))},size:1,ascii:!0},3:{getValue:function(A,_,F){return A.getUint16(_,F)},size:2},4:{getValue:function(A,_,F){return A.getUint32(_,F)},size:4},5:{getValue:function(A,_,F){return A.getUint32(_,F)/A.getUint32(_+4,F)},size:8},9:{getValue:function(A,_,F){return A.getInt32(_,F)},size:4},10:{getValue:function(A,_,F){return A.getInt32(_,F)/A.getInt32(_+4,F)},size:8}};function x(A,_,F,N,V,X){var U,W,H,I,z,G,q=M[N];if(q){if(!((W=(U=q.size*V)>4?_+A.getUint32(F+8,X):F+8)+U>A.byteLength)){if(V===1)return q.getValue(A,W,X);for(H=[],I=0;I<V;I+=1)H[I]=q.getValue(A,W+I*q.size,X);if(q.ascii){for(z="",I=0;I<H.length&&(G=H[I])!=="\0";I+=1)z+=G;return z}return H}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}function C(A,_,F){return(!A||A[F])&&(!_||_[F]!==!0)}function k(A,_,F,N,V,X,U,W){var H,I,z,G,q,L;if(F+6>A.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((I=F+2+12*(H=A.getUint16(F,N)))+4>A.byteLength)){for(z=0;z<H;z+=1)G=F+2+12*z,C(U,W,q=A.getUint16(G,N))&&(L=x(A,_,G,A.getUint16(G+2,N),A.getUint32(G+4,N),N),V[q]=L,X&&(X[q]=G));return A.getUint32(I,N)}console.log("Invalid Exif data: Invalid directory size.")}}M[7]=M[1],S.parseExifData=function(A,_,F,N,V){if(!V.disableExif){var X,U,W,H=V.includeExifTags,I=V.excludeExifTags||{34665:{37500:!0}},z=_+10;if(A.getUint32(_+4)===1165519206)if(z+8>A.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(A.getUint16(_+8)===0){switch(A.getUint16(z)){case 18761:X=!0;break;case 19789:X=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}A.getUint16(z+2,X)===42?(U=A.getUint32(z+4,X),N.exif=new R,V.disableExifOffsets||(N.exifOffsets=new R,N.exifTiffOffset=z,N.exifLittleEndian=X),(U=k(A,z,z+U,X,N.exif,N.exifOffsets,H,I))&&C(H,I,"ifd1")&&(N.exif.ifd1=U,N.exifOffsets&&(N.exifOffsets.ifd1=z+U)),Object.keys(N.exif.ifds).forEach(function(G){(function(q,L,P,j,K,Q,te){var J=q.exif[L];J&&(q.exif[L]=new R(L),q.exifOffsets&&(q.exifOffsets[L]=new R(L)),k(P,j,j+J,K,q.exif[L],q.exifOffsets&&q.exifOffsets[L],Q&&Q[L],te&&te[L]))})(N,G,A,z,X,H,I)}),(W=N.exif.ifd1)&&W[513]&&(W[513]=function(G,q,L){if(L){if(!(q+L>G.byteLength))return new Blob([S.bufferSlice.call(G.buffer,q,q+L)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}}(A,z+W[513],W[514]))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},S.metaDataParsers.jpeg[65505].push(S.parseExifData),S.exifWriters={274:function(A,_,F){var N=_.exifOffsets[274];return N&&new DataView(A,N+8,2).setUint16(0,F,_.exifLittleEndian),A}},S.writeExifData=function(A,_,F,N){return S.exifWriters[_.exif.map[F]](A,_,N)},S.ExifMap=R})=="function"?g.apply(h,v):g)===void 0||(u.exports=w)})()},16:(u,h,d)=>{var g,v,w;(function(O){v=[d(302)],(w=typeof(g=function(S){var R=S.global;R.fetch&&R.Request&&R.Response&&R.Response.prototype.blob?S.fetchBlob=function(M,x,C){function k(A){return A.blob()}if(R.Promise&&typeof x!="function")return fetch(new Request(M,x)).then(k);fetch(new Request(M,C)).then(k).then(x).catch(function(A){x(null,A)})}:R.XMLHttpRequest&&new XMLHttpRequest().responseType===""&&(S.fetchBlob=function(M,x,C){function k(A,_){C=C||{};var F=new XMLHttpRequest;F.open(C.method||"GET",M),C.headers&&Object.keys(C.headers).forEach(function(N){F.setRequestHeader(N,C.headers[N])}),F.withCredentials=C.credentials==="include",F.responseType="blob",F.onload=function(){A(F.response)},F.onerror=F.onabort=F.ontimeout=function(N){A===_?_(null,N):_(N)},F.send(C.body)}return R.Promise&&typeof x!="function"?(C=x,new Promise(k)):k(x,x)})})=="function"?g.apply(h,v):g)===void 0||(u.exports=w)})()},140:(u,h,d)=>{var g,v,w;(function(O){v=[d(302),d(166)],(w=typeof(g=function(S){var R=S.IptcMap.prototype;R.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},R.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},R.getText=function(M){var x=this.get(M),C=this.map[M],k=this.stringValues[C];return k?k[x]:String(x)},R.getAll=function(){var M,x,C={};for(M in this)Object.prototype.hasOwnProperty.call(this,M)&&(x=this.tags[M])&&(C[x]=this.getText(x));return C},R.getName=function(M){return this.tags[M]},function(){var M,x=R.tags,C=R.map||{};for(M in x)Object.prototype.hasOwnProperty.call(x,M)&&(C[x[M]]=Number(M))}()})=="function"?g.apply(h,v):g)===void 0||(u.exports=w)})()},166:(u,h,d)=>{var g,v,w;(function(O){v=[d(302),d(630)],(w=typeof(g=function(S){function R(){}function M(_,F,N,V,X){return F.types[_]==="binary"?new Blob([N.buffer.slice(V,V+X)]):F.types[_]==="Uint16"?N.getUint16(V):function(U,W,H){for(var I="",z=W+H,G=W;G<z;G+=1)I+=String.fromCharCode(U.getUint8(G));return I}(N,V,X)}function x(_,F){return _===void 0?F:_ instanceof Array?(_.push(F),_):[_,F]}function C(_,F,N,V,X,U){for(var W,H,I,z=F+N,G=F;G<z;)_.getUint8(G)===28&&_.getUint8(G+1)===2&&(I=_.getUint8(G+2),X&&!X[I]||U&&U[I]||(H=_.getInt16(G+3),W=M(I,V.iptc,_,G+5,H),V.iptc[I]=x(V.iptc[I],W),V.iptcOffsets&&(V.iptcOffsets[I]=G))),G+=1}function k(_,F){return _.getUint32(F)===943868237&&_.getUint16(F+4)===1028}function A(_,F){var N=_.getUint8(F+7);return N%2!=0&&(N+=1),N===0&&(N=4),N}R.prototype.map={ObjectName:5},R.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},R.prototype.get=function(_){return this[_]||this[this.map[_]]},S.parseIptcData=function(_,F,N,V,X){if(!X.disableIptc)for(var U=F+N;F+8<U;){if(k(_,F)){var W=A(_,F),H=F+8+W;if(H>U){console.log("Invalid IPTC data: Invalid segment offset.");break}var I=_.getUint16(F+6+W);if(F+I>U){console.log("Invalid IPTC data: Invalid segment size.");break}return V.iptc=new R,X.disableIptcOffsets||(V.iptcOffsets=new R),void C(_,H,I,V,X.includeIptcTags,X.excludeIptcTags||{202:!0})}F+=1}},S.metaDataParsers.jpeg[65517].push(S.parseIptcData),S.IptcMap=R})=="function"?g.apply(h,v):g)===void 0||(u.exports=w)})()},630:(u,h,d)=>{var g,v,w;(function(O){v=[d(302)],(w=typeof(g=function(S){var R=S.global,M=S.transform,x=R.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),C=R.ArrayBuffer&&ArrayBuffer.prototype.slice||function(F,N){N=N||this.byteLength-F;var V=new Uint8Array(this,F,N),X=new Uint8Array(N);return X.set(V),X.buffer},k={jpeg:{65505:[],65517:[]}};function A(F,N,V,X){var U=this;function W(H,I){if(!(R.DataView&&x&&F&&F.size>=12&&F.type==="image/jpeg"))return H(X);var z=V.maxMetaDataSize||262144;S.readFile(x.call(F,0,z),function(G){var q=new DataView(G);if(q.getUint16(0)!==65496)return I(new Error("Invalid JPEG file: Missing JPEG marker."));for(var L,P,j,K,Q=2,te=q.byteLength-4,J=Q;Q<te&&((L=q.getUint16(Q))>=65504&&L<=65519||L===65534);){if(Q+(P=q.getUint16(Q+2)+2)>q.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if((j=k.jpeg[L])&&!V.disableMetaDataParsers)for(K=0;K<j.length;K+=1)j[K].call(U,q,Q,P,X,V);J=Q+=P}!V.disableImageHead&&J>6&&(X.imageHead=C.call(G,0,J)),H(X)},I,"readAsArrayBuffer")||H(X)}return V=V||{},R.Promise&&typeof N!="function"?(X=V=N||{},new Promise(W)):(X=X||{},W(N,N))}function _(F,N,V){return F&&N&&V?new Blob([V,x.call(F,N.byteLength)],{type:"image/jpeg"}):null}S.transform=function(F,N,V,X,U){S.requiresMetaData(N)?A(X,function(W){W!==U&&(R.console&&console.log(W),W=U),M.call(S,F,N,V,X,W)},N,U=U||{}):M.apply(S,arguments)},S.blobSlice=x,S.bufferSlice=C,S.replaceHead=function(F,N,V){var X={maxMetaDataSize:256,disableMetaDataParsers:!0};if(!V&&R.Promise)return A(F,X).then(function(U){return _(F,U.imageHead,N)});A(F,function(U){V(_(F,U.imageHead,N))},X)},S.parseMetaData=A,S.metaDataParsers=k})=="function"?g.apply(h,v):g)===void 0||(u.exports=w)})()},922:(u,h,d)=>{var g,v,w;(function(O){v=[d(302),d(200),d(630)],(w=typeof(g=function(S){var R=S.transform,M=S.requiresCanvas,x=S.requiresMetaData,C=S.transformCoordinates,k=S.getTransformedOptions;function A(N,V){var X=N&&N.orientation;return X===!0&&!S.orientation||X===1&&S.orientation||(!V||S.orientation)&&X>1&&X<9}function _(N,V){return N!==V&&(N===1&&V>1&&V<9||N>1&&N<9)}function F(N,V){if(V>1&&V<9)switch(N){case 2:case 4:return V>4;case 5:case 7:return V%2==0;case 6:case 8:return V===2||V===4||V===5||V===7}return!1}(function(N){if(N.global.document){var V=document.createElement("img");V.onload=function(){if(N.orientation=V.width===2&&V.height===3,N.orientation){var X=N.createCanvas(1,1,!0).getContext("2d");X.drawImage(V,1,1,1,1,0,0,1,1),N.orientationCropBug=X.getImageData(0,0,1,1).data.toString()!=="255,255,255,255"}},V.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="}})(S),S.requiresCanvas=function(N){return A(N)||M.call(S,N)},S.requiresMetaData=function(N){return A(N,!0)||x.call(S,N)},S.transform=function(N,V,X,U,W){R.call(S,N,V,function(H,I){if(I){var z=S.orientation&&I.exif&&I.exif.get("Orientation");if(z>4&&z<9){var G=I.originalWidth,q=I.originalHeight;I.originalWidth=q,I.originalHeight=G}}X(H,I)},U,W)},S.getTransformedOptions=function(N,V,X){var U=k.call(S,N,V),W=X.exif&&X.exif.get("Orientation"),H=U.orientation,I=S.orientation&&W;if(H===!0&&(H=W),!_(H,I))return U;var z=U.top,G=U.right,q=U.bottom,L=U.left,P={};for(var j in U)Object.prototype.hasOwnProperty.call(U,j)&&(P[j]=U[j]);if(P.orientation=H,(H>4&&!(I>4)||H<5&&I>4)&&(P.maxWidth=U.maxHeight,P.maxHeight=U.maxWidth,P.minWidth=U.minHeight,P.minHeight=U.minWidth,P.sourceWidth=U.sourceHeight,P.sourceHeight=U.sourceWidth),I>1){switch(I){case 2:G=U.left,L=U.right;break;case 3:z=U.bottom,G=U.left,q=U.top,L=U.right;break;case 4:z=U.bottom,q=U.top;break;case 5:z=U.left,G=U.bottom,q=U.right,L=U.top;break;case 6:z=U.left,G=U.top,q=U.right,L=U.bottom;break;case 7:z=U.right,G=U.top,q=U.left,L=U.bottom;break;case 8:z=U.right,G=U.bottom,q=U.left,L=U.top}if(F(H,I)){var K=z,Q=G;z=q,G=L,q=K,L=Q}}switch(P.top=z,P.right=G,P.bottom=q,P.left=L,H){case 2:P.right=L,P.left=G;break;case 3:P.top=q,P.right=L,P.bottom=z,P.left=G;break;case 4:P.top=q,P.bottom=z;break;case 5:P.top=L,P.right=q,P.bottom=G,P.left=z;break;case 6:P.top=G,P.right=q,P.bottom=L,P.left=z;break;case 7:P.top=G,P.right=z,P.bottom=L,P.left=q;break;case 8:P.top=L,P.right=z,P.bottom=G,P.left=q}return P},S.transformCoordinates=function(N,V,X){C.call(S,N,V,X);var U=V.orientation,W=S.orientation&&X.exif&&X.exif.get("Orientation");if(_(U,W)){var H=N.getContext("2d"),I=N.width,z=N.height,G=I,q=z;switch((U>4&&!(W>4)||U<5&&W>4)&&(N.width=z,N.height=I),U>4&&(G=z,q=I),W){case 2:H.translate(G,0),H.scale(-1,1);break;case 3:H.translate(G,q),H.rotate(Math.PI);break;case 4:H.translate(0,q),H.scale(1,-1);break;case 5:H.rotate(-.5*Math.PI),H.scale(-1,1);break;case 6:H.rotate(-.5*Math.PI),H.translate(-G,0);break;case 7:H.rotate(-.5*Math.PI),H.translate(-G,q),H.scale(1,-1);break;case 8:H.rotate(.5*Math.PI),H.translate(0,-q)}switch(F(U,W)&&(H.translate(G,q),H.rotate(Math.PI)),U){case 2:H.translate(I,0),H.scale(-1,1);break;case 3:H.translate(I,z),H.rotate(Math.PI);break;case 4:H.translate(0,z),H.scale(1,-1);break;case 5:H.rotate(.5*Math.PI),H.scale(1,-1);break;case 6:H.rotate(.5*Math.PI),H.translate(0,-z);break;case 7:H.rotate(.5*Math.PI),H.translate(I,-z),H.scale(-1,1);break;case 8:H.rotate(-.5*Math.PI),H.translate(-I,0)}}}})=="function"?g.apply(h,v):g)===void 0||(u.exports=w)})()},200:(u,h,d)=>{var g,v,w;(function(O){v=[d(302)],(w=typeof(g=function(S){var R=S.transform;S.createCanvas=function(M,x,C){if(C&&S.global.OffscreenCanvas)return new OffscreenCanvas(M,x);var k=document.createElement("canvas");return k.width=M,k.height=x,k},S.transform=function(M,x,C,k,A){R.call(S,S.scale(M,x,A),x,C,k,A)},S.transformCoordinates=function(){},S.getTransformedOptions=function(M,x){var C,k,A,_,F=x.aspectRatio;if(!F)return x;for(k in C={},x)Object.prototype.hasOwnProperty.call(x,k)&&(C[k]=x[k]);return C.crop=!0,(A=M.naturalWidth||M.width)/(_=M.naturalHeight||M.height)>F?(C.maxWidth=_*F,C.maxHeight=_):(C.maxWidth=A,C.maxHeight=A/F),C},S.drawImage=function(M,x,C,k,A,_,F,N,V){var X=x.getContext("2d");return V.imageSmoothingEnabled===!1?(X.msImageSmoothingEnabled=!1,X.imageSmoothingEnabled=!1):V.imageSmoothingQuality&&(X.imageSmoothingQuality=V.imageSmoothingQuality),X.drawImage(M,C,k,A,_,0,0,F,N),X},S.requiresCanvas=function(M){return M.canvas||M.crop||!!M.aspectRatio},S.scale=function(M,x,C){x=x||{},C=C||{};var k,A,_,F,N,V,X,U,W,H,I,z,G=M.getContext||S.requiresCanvas(x)&&!!S.global.HTMLCanvasElement,q=M.naturalWidth||M.width,L=M.naturalHeight||M.height,P=q,j=L;function K(){var te=Math.max((_||P)/P,(F||j)/j);te>1&&(P*=te,j*=te)}function Q(){var te=Math.min((k||P)/P,(A||j)/j);te<1&&(P*=te,j*=te)}if(G&&(X=(x=S.getTransformedOptions(M,x,C)).left||0,U=x.top||0,x.sourceWidth?(N=x.sourceWidth,x.right!==void 0&&x.left===void 0&&(X=q-N-x.right)):N=q-X-(x.right||0),x.sourceHeight?(V=x.sourceHeight,x.bottom!==void 0&&x.top===void 0&&(U=L-V-x.bottom)):V=L-U-(x.bottom||0),P=N,j=V),k=x.maxWidth,A=x.maxHeight,_=x.minWidth,F=x.minHeight,G&&k&&A&&x.crop?(P=k,j=A,(I=N/V-k/A)<0?(V=A*N/k,x.top===void 0&&x.bottom===void 0&&(U=(L-V)/2)):I>0&&(N=k*V/A,x.left===void 0&&x.right===void 0&&(X=(q-N)/2))):((x.contain||x.cover)&&(_=k=k||_,F=A=A||F),x.cover?(Q(),K()):(K(),Q())),G){if((W=x.pixelRatio)>1&&(!M.style.width||Math.floor(parseFloat(M.style.width,10))!==Math.floor(q/W))&&(P*=W,j*=W),S.orientationCropBug&&!M.getContext&&(X||U||N!==q||V!==L)&&(I=M,M=S.createCanvas(q,L,!0),S.drawImage(I,M,0,0,q,L,q,L,x)),(H=x.downsamplingRatio)>0&&H<1&&P<N&&j<V)for(;N*H>P;)z=S.createCanvas(N*H,V*H,!0),S.drawImage(M,z,X,U,N,V,z.width,z.height,x),X=0,U=0,N=z.width,V=z.height,M=z;return z=S.createCanvas(P,j),S.transformCoordinates(z,x,C),W>1&&(z.style.width=z.width/W+"px"),S.drawImage(M,z,X,U,N,V,P,j,x).setTransform(1,0,0,1,0,0),z}return M.width=P,M.height=j,M}})=="function"?g.apply(h,v):g)===void 0||(u.exports=w)})()},302:function(u,h,d){var g;(function(v){var w=v.URL||v.webkitURL;function O(k){return!!w&&w.createObjectURL(k)}function S(k){return!!w&&w.revokeObjectURL(k)}function R(k,A){!k||k.slice(0,5)!=="blob:"||A&&A.noRevoke||S(k)}function M(k,A,_,F){if(!v.FileReader)return!1;var N=new FileReader;N.onload=function(){A.call(N,this.result)},_&&(N.onabort=N.onerror=function(){_.call(N,this.error)});var V=N[F||"readAsDataURL"];return V?(V.call(N,k),N):void 0}function x(k,A){return Object.prototype.toString.call(A)==="[object "+k+"]"}function C(k,A,_){function F(N,V){var X,U=document.createElement("img");function W(I,z){N!==V?I instanceof Error?V(I):((z=z||{}).image=I,N(z)):N&&N(I,z)}function H(I,z){z&&v.console&&console.log(z),I&&x("Blob",I)?X=O(k=I):(X=k,_&&_.crossOrigin&&(U.crossOrigin=_.crossOrigin)),U.src=X}return U.onerror=function(I){R(X,_),V&&V.call(U,I)},U.onload=function(){R(X,_);var I={originalWidth:U.naturalWidth||U.width,originalHeight:U.naturalHeight||U.height};try{C.transform(U,_,W,k,I)}catch(z){V&&V(z)}},typeof k=="string"?(C.requiresMetaData(_)?C.fetchBlob(k,H,_):H(),U):x("Blob",k)||x("File",k)?(X=O(k))?(U.src=X,U):M(k,function(I){U.src=I},V):void 0}return v.Promise&&typeof A!="function"?(_=A,new Promise(F)):F(A,A)}C.requiresMetaData=function(k){return k&&k.meta},C.fetchBlob=function(k,A){A()},C.transform=function(k,A,_,F,N){_(k,N)},C.global=v,C.readFile=M,C.isInstanceOf=x,C.createObjectURL=O,C.revokeObjectURL=S,(g=(function(){return C}).call(h,d,h,u))===void 0||(u.exports=g)})(typeof window<"u"&&window||this)},918:function(u,h){var d;(function(){var g=function(W){return W instanceof g?W:this instanceof g?void(this.EXIFwrapped=W):new g(W)};u.exports&&(h=u.exports=g),h.EXIF=g;var v=g.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},w=g.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},O=g.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},S=g.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},R=g.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function M(W){return!!W.exifdata}function x(W,H){function I(q){var L=C(q);W.exifdata=L||{};var P=function(K){var Q=new DataView(K);if(Q.getUint8(0)!=255||Q.getUint8(1)!=216)return!1;for(var te=2,J=K.byteLength,re=function(de,xe){return de.getUint8(xe)===56&&de.getUint8(xe+1)===66&&de.getUint8(xe+2)===73&&de.getUint8(xe+3)===77&&de.getUint8(xe+4)===4&&de.getUint8(xe+5)===4};te<J;){if(re(Q,te)){var le=Q.getUint8(te+7);return le%2!=0&&(le+=1),le===0&&(le=4),A(K,te+8+le,Q.getUint16(te+6+le))}te++}}(q);if(W.iptcdata=P||{},g.isXmpEnabled){var j=function(K){if("DOMParser"in self){var Q=new DataView(K);if(Q.getUint8(0)!=255||Q.getUint8(1)!=216)return!1;for(var te=2,J=K.byteLength,re=new DOMParser;te<J-4;){if(N(Q,te,4)=="http"){var le=te-1,de=Q.getUint16(te-2)-1,xe=N(Q,le,de),Ve=xe.indexOf("xmpmeta>")+8,ke=(xe=xe.substring(xe.indexOf("<x:xmpmeta"),Ve)).indexOf("x:xmpmeta")+10;return xe=xe.slice(0,ke)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+xe.slice(ke),U(re.parseFromString(xe,"text/xml"))}te++}}}(q);W.xmpdata=j||{}}H&&H.call(W)}if(W.src)if(/^data\:/i.test(W.src))I(function(q,L){L=L||q.match(/^data\:([^\;]+)\;base64,/im)[1]||"",q=q.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var P=atob(q),j=P.length,K=new ArrayBuffer(j),Q=new Uint8Array(K),te=0;te<j;te++)Q[te]=P.charCodeAt(te);return K}(W.src));else if(/^blob\:/i.test(W.src))(G=new FileReader).onload=function(q){I(q.target.result)},function(q,L){var P=new XMLHttpRequest;P.open("GET",q,!0),P.responseType="blob",P.onload=function(j){var K;this.status!=200&&this.status!==0||(K=this.response,G.readAsArrayBuffer(K))},P.send()}(W.src);else{var z=new XMLHttpRequest;z.onload=function(){if(this.status!=200&&this.status!==0)throw"Could not load image";I(z.response),z=null},z.open("GET",W.src,!0),z.responseType="arraybuffer",z.send(null)}else if(self.FileReader&&(W instanceof self.Blob||W instanceof self.File)){var G;(G=new FileReader).onload=function(q){I(q.target.result)},G.readAsArrayBuffer(W)}}function C(W){var H=new DataView(W);if(H.getUint8(0)!=255||H.getUint8(1)!=216)return!1;for(var I=2,z=W.byteLength;I<z;){if(H.getUint8(I)!=255)return!1;if(H.getUint8(I+1)==225)return V(H,I+4,H.getUint16(I+2));I+=2+H.getUint16(I+2)}}var k={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function A(W,H,I){for(var z,G,q,L,P=new DataView(W),j={},K=H;K<H+I;)P.getUint8(K)===28&&P.getUint8(K+1)===2&&(L=P.getUint8(K+2))in k&&(q=P.getInt16(K+3),G=k[L],z=N(P,K+5,q),j.hasOwnProperty(G)?j[G]instanceof Array?j[G].push(z):j[G]=[j[G],z]:j[G]=z),K++;return j}function _(W,H,I,z,G){var q,L,P=W.getUint16(I,!G),j={};for(L=0;L<P;L++)q=I+12*L+2,j[z[W.getUint16(q,!G)]]=F(W,q,H,0,G);return j}function F(W,H,I,z,G){var q,L,P,j,K,Q,te=W.getUint16(H+2,!G),J=W.getUint32(H+4,!G),re=W.getUint32(H+8,!G)+I;switch(te){case 1:case 7:if(J==1)return W.getUint8(H+8,!G);for(q=J>4?re:H+8,L=[],j=0;j<J;j++)L[j]=W.getUint8(q+j);return L;case 2:return N(W,q=J>4?re:H+8,J-1);case 3:if(J==1)return W.getUint16(H+8,!G);for(q=J>2?re:H+8,L=[],j=0;j<J;j++)L[j]=W.getUint16(q+2*j,!G);return L;case 4:if(J==1)return W.getUint32(H+8,!G);for(L=[],j=0;j<J;j++)L[j]=W.getUint32(re+4*j,!G);return L;case 5:if(J==1)return K=W.getUint32(re,!G),Q=W.getUint32(re+4,!G),(P=new Number(K/Q)).numerator=K,P.denominator=Q,P;for(L=[],j=0;j<J;j++)K=W.getUint32(re+8*j,!G),Q=W.getUint32(re+4+8*j,!G),L[j]=new Number(K/Q),L[j].numerator=K,L[j].denominator=Q;return L;case 9:if(J==1)return W.getInt32(H+8,!G);for(L=[],j=0;j<J;j++)L[j]=W.getInt32(re+4*j,!G);return L;case 10:if(J==1)return W.getInt32(re,!G)/W.getInt32(re+4,!G);for(L=[],j=0;j<J;j++)L[j]=W.getInt32(re+8*j,!G)/W.getInt32(re+4+8*j,!G);return L}}function N(W,H,I){var z="";for(n=H;n<H+I;n++)z+=String.fromCharCode(W.getUint8(n));return z}function V(W,H){if(N(W,H,4)!="Exif")return!1;var I,z,G,q,L,P=H+6;if(W.getUint16(P)==18761)I=!1;else{if(W.getUint16(P)!=19789)return!1;I=!0}if(W.getUint16(P+2,!I)!=42)return!1;var j=W.getUint32(P+4,!I);if(j<8)return!1;if((z=_(W,P,P+j,w,I)).ExifIFDPointer)for(G in q=_(W,P,P+z.ExifIFDPointer,v,I)){switch(G){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":q[G]=R[G][q[G]];break;case"ExifVersion":case"FlashpixVersion":q[G]=String.fromCharCode(q[G][0],q[G][1],q[G][2],q[G][3]);break;case"ComponentsConfiguration":q[G]=R.Components[q[G][0]]+R.Components[q[G][1]]+R.Components[q[G][2]]+R.Components[q[G][3]]}z[G]=q[G]}if(z.GPSInfoIFDPointer)for(G in L=_(W,P,P+z.GPSInfoIFDPointer,O,I)){switch(G){case"GPSVersionID":L[G]=L[G][0]+"."+L[G][1]+"."+L[G][2]+"."+L[G][3]}z[G]=L[G]}return z.thumbnail=function(K,Q,te,J){var re=function(Ve,ke,Ge){var qe=Ve.getUint16(ke,!Ge);return Ve.getUint32(ke+2+12*qe,!Ge)}(K,Q+te,J);if(!re)return{};if(re>K.byteLength)return{};var le=_(K,Q,Q+re,S,J);if(le.Compression)switch(le.Compression){case 6:if(le.JpegIFOffset&&le.JpegIFByteCount){var de=Q+le.JpegIFOffset,xe=le.JpegIFByteCount;le.blob=new Blob([new Uint8Array(K.buffer,de,xe)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",le.Compression)}else le.PhotometricInterpretation==2&&console.log("Thumbnail image format is RGB, which is not implemented.");return le}(W,P,j,I),z}function X(W){var H={};if(W.nodeType==1){if(W.attributes.length>0){H["@attributes"]={};for(var I=0;I<W.attributes.length;I++){var z=W.attributes.item(I);H["@attributes"][z.nodeName]=z.nodeValue}}}else if(W.nodeType==3)return W.nodeValue;if(W.hasChildNodes())for(var G=0;G<W.childNodes.length;G++){var q=W.childNodes.item(G),L=q.nodeName;if(H[L]==null)H[L]=X(q);else{if(H[L].push==null){var P=H[L];H[L]=[],H[L].push(P)}H[L].push(X(q))}}return H}function U(W){try{var H={};if(W.children.length>0)for(var I=0;I<W.children.length;I++){var z=W.children.item(I),G=z.attributes;for(var q in G){var L=G[q],P=L.nodeName,j=L.nodeValue;P!==void 0&&(H[P]=j)}var K=z.nodeName;if(H[K]===void 0)H[K]=X(z);else{if(H[K].push===void 0){var Q=H[K];H[K]=[],H[K].push(Q)}H[K].push(X(z))}}else H=W.textContent;return H}catch(te){console.log(te.message)}}g.enableXmp=function(){g.isXmpEnabled=!0},g.disableXmp=function(){g.isXmpEnabled=!1},g.getData=function(W,H){return!((self.Image&&W instanceof self.Image||self.HTMLImageElement&&W instanceof self.HTMLImageElement)&&!W.complete||(M(W)?H&&H.call(W):x(W,H),0))},g.getTag=function(W,H){if(M(W))return W.exifdata[H]},g.getIptcTag=function(W,H){if(M(W))return W.iptcdata[H]},g.getAllTags=function(W){if(!M(W))return{};var H,I=W.exifdata,z={};for(H in I)I.hasOwnProperty(H)&&(z[H]=I[H]);return z},g.getAllIptcTags=function(W){if(!M(W))return{};var H,I=W.iptcdata,z={};for(H in I)I.hasOwnProperty(H)&&(z[H]=I[H]);return z},g.pretty=function(W){if(!M(W))return"";var H,I=W.exifdata,z="";for(H in I)I.hasOwnProperty(H)&&(typeof I[H]=="object"?I[H]instanceof Number?z+=H+" : "+I[H]+" ["+I[H].numerator+"/"+I[H].denominator+`]\r
`:z+=H+" : ["+I[H].length+` values]\r
`:z+=H+" : "+I[H]+`\r
`);return z},g.readFromBinaryFile=function(W){return C(W)},(d=(function(){return g}).apply(h,[]))===void 0||(u.exports=d)}).call(this)},297:u=>{u.exports=r}},s={};function o(u){if(s[u])return s[u].exports;var h=s[u]={exports:{}};return i[u].call(h.exports,h,h.exports,o),h.exports}o.n=u=>{var h=u&&u.__esModule?()=>u.default:()=>u;return o.d(h,{a:h}),h},o.d=(u,h)=>{for(var d in h)o.o(h,d)&&!o.o(u,d)&&Object.defineProperty(u,d,{enumerable:!0,get:h[d]})},o.o=(u,h)=>Object.prototype.hasOwnProperty.call(u,h),o.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var a={};return(()=>{o.r(a),o.d(a,{default:()=>hT});var u=o(297),h=o.n(u),d=Math.PI/180;const g=typeof Mp<"u"?Mp:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},v={_global:g,version:"8.3.5",isBrowser:typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]"),isUnminified:/param/.test((function(y){}).toString()),dblClickWindow:400,getAngle:y=>v.angleDeg?y*d:y,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>v.DD.isDragging,isDragReady:()=>!!v.DD.node,document:g.document,_injectGlobal(y){g.Konva=y}},w=y=>{v[y.prototype.getClassName()]=y};v._injectGlobal(v);class O{constructor(l=[1,0,0,1,0,0]){this.dirty=!1,this.m=l&&l.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new O(this.m)}copyInto(l){l.m[0]=this.m[0],l.m[1]=this.m[1],l.m[2]=this.m[2],l.m[3]=this.m[3],l.m[4]=this.m[4],l.m[5]=this.m[5]}point(l){var c=this.m;return{x:c[0]*l.x+c[2]*l.y+c[4],y:c[1]*l.x+c[3]*l.y+c[5]}}translate(l,c){return this.m[4]+=this.m[0]*l+this.m[2]*c,this.m[5]+=this.m[1]*l+this.m[3]*c,this}scale(l,c){return this.m[0]*=l,this.m[1]*=l,this.m[2]*=c,this.m[3]*=c,this}rotate(l){var c=Math.cos(l),f=Math.sin(l),m=this.m[0]*c+this.m[2]*f,E=this.m[1]*c+this.m[3]*f,b=this.m[0]*-f+this.m[2]*c,T=this.m[1]*-f+this.m[3]*c;return this.m[0]=m,this.m[1]=E,this.m[2]=b,this.m[3]=T,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(l,c){var f=this.m[0]+this.m[2]*c,m=this.m[1]+this.m[3]*c,E=this.m[2]+this.m[0]*l,b=this.m[3]+this.m[1]*l;return this.m[0]=f,this.m[1]=m,this.m[2]=E,this.m[3]=b,this}multiply(l){var c=this.m[0]*l.m[0]+this.m[2]*l.m[1],f=this.m[1]*l.m[0]+this.m[3]*l.m[1],m=this.m[0]*l.m[2]+this.m[2]*l.m[3],E=this.m[1]*l.m[2]+this.m[3]*l.m[3],b=this.m[0]*l.m[4]+this.m[2]*l.m[5]+this.m[4],T=this.m[1]*l.m[4]+this.m[3]*l.m[5]+this.m[5];return this.m[0]=c,this.m[1]=f,this.m[2]=m,this.m[3]=E,this.m[4]=b,this.m[5]=T,this}invert(){var l=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),c=this.m[3]*l,f=-this.m[1]*l,m=-this.m[2]*l,E=this.m[0]*l,b=l*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),T=l*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=c,this.m[1]=f,this.m[2]=m,this.m[3]=E,this.m[4]=b,this.m[5]=T,this}getMatrix(){return this.m}setAbsolutePosition(l,c){var f=this.m[0],m=this.m[1],E=this.m[2],b=this.m[3],T=this.m[4],$=(f*(c-this.m[5])-m*(l-T))/(f*b-m*E),B=(l-T-E*$)/f;return this.translate(B,$)}decompose(){var l=this.m[0],c=this.m[1],f=this.m[2],m=this.m[3],E=l*m-c*f;let b={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(l!=0||c!=0){var T=Math.sqrt(l*l+c*c);b.rotation=c>0?Math.acos(l/T):-Math.acos(l/T),b.scaleX=T,b.scaleY=E/T,b.skewX=(l*f+c*m)/E,b.skewY=0}else if(f!=0||m!=0){var $=Math.sqrt(f*f+m*m);b.rotation=Math.PI/2-(m>0?Math.acos(-f/$):-Math.acos(f/$)),b.scaleX=E/$,b.scaleY=$,b.skewX=0,b.skewY=(l*f+c*m)/E}return b.rotation=_._getRotation(b.rotation),b}}var S=Math.PI/180,R=180/Math.PI,M="Konva error: ",x={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},C=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,k=[];const A=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(y){setTimeout(y,60)},_={_isElement:y=>!(!y||y.nodeType!=1),_isFunction:y=>!!(y&&y.constructor&&y.call&&y.apply),_isPlainObject:y=>!!y&&y.constructor===Object,_isArray:y=>Object.prototype.toString.call(y)==="[object Array]",_isNumber:y=>Object.prototype.toString.call(y)==="[object Number]"&&!isNaN(y)&&isFinite(y),_isString:y=>Object.prototype.toString.call(y)==="[object String]",_isBoolean:y=>Object.prototype.toString.call(y)==="[object Boolean]",isObject:y=>y instanceof Object,isValidSelector(y){if(typeof y!="string")return!1;var l=y[0];return l==="#"||l==="."||l===l.toUpperCase()},_sign:y=>y===0||y>0?1:-1,requestAnimFrame(y){k.push(y),k.length===1&&A(function(){const l=k;k=[],l.forEach(function(c){c()})})},createCanvasElement(){var y=document.createElement("canvas");try{y.style=y.style||{}}catch{}return y},createImageElement:()=>document.createElement("img"),_isInDocument(y){for(;y=y.parentNode;)if(y==document)return!0;return!1},_urlToImage(y,l){var c=_.createImageElement();c.onload=function(){l(c)},c.src=y},_rgbToHex:(y,l,c)=>((1<<24)+(y<<16)+(l<<8)+c).toString(16).slice(1),_hexToRgb(y){y=y.replace("#","");var l=parseInt(y,16);return{r:l>>16&255,g:l>>8&255,b:255&l}},getRandomColor(){for(var y=(16777215*Math.random()<<0).toString(16);y.length<6;)y="0"+y;return"#"+y},getRGB(y){var l;return y in x?{r:(l=x[y])[0],g:l[1],b:l[2]}:y[0]==="#"?this._hexToRgb(y.substring(1)):y.substr(0,4)==="rgb("?(l=C.exec(y.replace(/ /g,"")),{r:parseInt(l[1],10),g:parseInt(l[2],10),b:parseInt(l[3],10)}):{r:0,g:0,b:0}},colorToRGBA:y=>(y=y||"black",_._namedColorToRBA(y)||_._hex3ColorToRGBA(y)||_._hex6ColorToRGBA(y)||_._rgbColorToRGBA(y)||_._rgbaColorToRGBA(y)||_._hslColorToRGBA(y)),_namedColorToRBA(y){var l=x[y.toLowerCase()];return l?{r:l[0],g:l[1],b:l[2],a:1}:null},_rgbColorToRGBA(y){if(y.indexOf("rgb(")===0){var l=(y=y.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:l[0],g:l[1],b:l[2],a:1}}},_rgbaColorToRGBA(y){if(y.indexOf("rgba(")===0){var l=(y=y.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((c,f)=>c.slice(-1)==="%"?f===3?parseInt(c)/100:parseInt(c)/100*255:Number(c));return{r:l[0],g:l[1],b:l[2],a:l[3]}}},_hex6ColorToRGBA(y){if(y[0]==="#"&&y.length===7)return{r:parseInt(y.slice(1,3),16),g:parseInt(y.slice(3,5),16),b:parseInt(y.slice(5,7),16),a:1}},_hex3ColorToRGBA(y){if(y[0]==="#"&&y.length===4)return{r:parseInt(y[1]+y[1],16),g:parseInt(y[2]+y[2],16),b:parseInt(y[3]+y[3],16),a:1}},_hslColorToRGBA(y){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(y)){const[l,...c]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(y),f=Number(c[0])/360,m=Number(c[1])/100,E=Number(c[2])/100;let b,T,$;if(m===0)return $=255*E,{r:Math.round($),g:Math.round($),b:Math.round($),a:1};b=E<.5?E*(1+m):E+m-E*m;const B=2*E-b,Y=[0,0,0];for(let Z=0;Z<3;Z++)T=f+1/3*-(Z-1),T<0&&T++,T>1&&T--,$=6*T<1?B+6*(b-B)*T:2*T<1?b:3*T<2?B+(b-B)*(2/3-T)*6:B,Y[Z]=255*$;return{r:Math.round(Y[0]),g:Math.round(Y[1]),b:Math.round(Y[2]),a:1}}},haveIntersection:(y,l)=>!(l.x>y.x+y.width||l.x+l.width<y.x||l.y>y.y+y.height||l.y+l.height<y.y),cloneObject(y){var l={};for(var c in y)this._isPlainObject(y[c])?l[c]=this.cloneObject(y[c]):this._isArray(y[c])?l[c]=this.cloneArray(y[c]):l[c]=y[c];return l},cloneArray:y=>y.slice(0),degToRad:y=>y*S,radToDeg:y=>y*R,_degToRad:y=>(_.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),_.degToRad(y)),_radToDeg:y=>(_.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),_.radToDeg(y)),_getRotation:y=>v.angleDeg?_.radToDeg(y):y,_capitalize:y=>y.charAt(0).toUpperCase()+y.slice(1),throw(y){throw new Error(M+y)},error(y){console.error(M+y)},warn(y){v.showWarnings&&console.warn("Konva warning: "+y)},each(y,l){for(var c in y)l(c,y[c])},_inRange:(y,l,c)=>l<=y&&y<c,_getProjectionToSegment(y,l,c,f,m,E){var b,T,$,B=(y-c)*(y-c)+(l-f)*(l-f);if(B==0)b=y,T=l,$=(m-c)*(m-c)+(E-f)*(E-f);else{var Y=((m-y)*(c-y)+(E-l)*(f-l))/B;Y<0?(b=y,T=l,$=(y-m)*(y-m)+(l-E)*(l-E)):Y>1?(b=c,T=f,$=(c-m)*(c-m)+(f-E)*(f-E)):$=((b=y+Y*(c-y))-m)*(b-m)+((T=l+Y*(f-l))-E)*(T-E)}return[b,T,$]},_getProjectionToLine(y,l,c){var f=_.cloneObject(y),m=Number.MAX_VALUE;return l.forEach(function(E,b){if(c||b!==l.length-1){var T=l[(b+1)%l.length],$=_._getProjectionToSegment(E.x,E.y,T.x,T.y,y.x,y.y),B=$[0],Y=$[1],Z=$[2];Z<m&&(f.x=B,f.y=Y,m=Z)}}),f},_prepareArrayForTween(y,l,c){var f,m=[],E=[];if(y.length>l.length){var b=l;l=y,y=b}for(f=0;f<y.length;f+=2)m.push({x:y[f],y:y[f+1]});for(f=0;f<l.length;f+=2)E.push({x:l[f],y:l[f+1]});var T=[];return E.forEach(function($){var B=_._getProjectionToLine($,m,c);T.push(B.x),T.push(B.y)}),T},_prepareToStringify(y){var l;for(var c in y.visitedByCircularReferenceRemoval=!0,y)if(y.hasOwnProperty(c)&&y[c]&&typeof y[c]=="object"){if(l=Object.getOwnPropertyDescriptor(y,c),y[c].visitedByCircularReferenceRemoval||_._isElement(y[c])){if(!l.configurable)return null;delete y[c]}else if(_._prepareToStringify(y[c])===null){if(!l.configurable)return null;delete y[c]}}return delete y.visitedByCircularReferenceRemoval,y},_assign(y,l){for(var c in l)y[c]=l[c];return y},_getFirstPointerId:y=>y.touches?y.changedTouches[0].identifier:y.pointerId||999};function F(y){return _._isString(y)?'"'+y+'"':Object.prototype.toString.call(y)==="[object Number]"||_._isBoolean(y)?y:Object.prototype.toString.call(y)}function N(){if(v.isUnminified)return function(y,l){return _._isNumber(y)||_.warn(F(y)+' is a not valid value for "'+l+'" attribute. The value should be a number.'),y}}function V(){if(v.isUnminified)return function(y,l){return _._isString(y)||_.warn(F(y)+' is a not valid value for "'+l+'" attribute. The value should be a string.'),y}}function X(){if(v.isUnminified)return function(y,l){const c=_._isString(y),f=Object.prototype.toString.call(y)==="[object CanvasGradient]"||y&&y.addColorStop;return c||f||_.warn(F(y)+' is a not valid value for "'+l+'" attribute. The value should be a string or a native gradient.'),y}}function U(){if(v.isUnminified)return function(y,l){return y===!0||y===!1||_.warn(F(y)+' is a not valid value for "'+l+'" attribute. The value should be a boolean.'),y}}var W="get",H="set";const I={addGetterSetter(y,l,c,f,m){I.addGetter(y,l,c),I.addSetter(y,l,f,m),I.addOverloadedGetterSetter(y,l)},addGetter(y,l,c){var f=W+_._capitalize(l);y.prototype[f]=y.prototype[f]||function(){var m=this.attrs[l];return m===void 0?c:m}},addSetter(y,l,c,f){var m=H+_._capitalize(l);y.prototype[m]||I.overWriteSetter(y,l,c,f)},overWriteSetter(y,l,c,f){var m=H+_._capitalize(l);y.prototype[m]=function(E){return c&&E!=null&&(E=c.call(this,E,l)),this._setAttr(l,E),f&&f.call(this),this}},addComponentsGetterSetter(y,l,c,f,m){var E,b,T=c.length,$=_._capitalize,B=W+$(l),Y=H+$(l);y.prototype[B]=function(){var ie={};for(E=0;E<T;E++)ie[b=c[E]]=this.getAttr(l+$(b));return ie};var Z=function(ie){if(v.isUnminified)return function(oe,ee){return _.isObject(oe)||_.warn(F(oe)+' is a not valid value for "'+ee+'" attribute. The value should be an object with properties '+ie),oe}}(c);y.prototype[Y]=function(ie){var oe,ee=this.attrs[l];for(oe in f&&(ie=f.call(this,ie)),Z&&Z.call(this,ie,l),ie)ie.hasOwnProperty(oe)&&this._setAttr(l+$(oe),ie[oe]);return this._fireChangeEvent(l,ee,ie),m&&m.call(this),this},I.addOverloadedGetterSetter(y,l)},addOverloadedGetterSetter(y,l){var c=_._capitalize(l),f=H+c,m=W+c;y.prototype[l]=function(){return arguments.length?(this[f](arguments[0]),this):this[m]()}},addDeprecatedGetterSetter(y,l,c,f){_.error("Adding deprecated "+l);var m=W+_._capitalize(l),E=l+" property is deprecated and will be removed soon. Look at Konva change log for more information.";y.prototype[m]=function(){_.error(E);var b=this.attrs[l];return b===void 0?c:b},I.addSetter(y,l,f,function(){_.error(E)}),I.addOverloadedGetterSetter(y,l)},backCompat(y,l){_.each(l,function(c,f){var m=y.prototype[f],E=W+_._capitalize(c),b=H+_._capitalize(c);function T(){m.apply(this,arguments),_.error('"'+c+'" method is deprecated and will be removed soon. Use ""'+f+'" instead.')}y.prototype[c]=T,y.prototype[E]=T,y.prototype[b]=T})},afterSetFilter(){this._filterUpToDate=!1}};function z(y){var l,c,f=[],m=y.length,E=_;for(l=0;l<m;l++)c=y[l],E._isNumber(c)?c=Math.round(1e3*c)/1e3:E._isString(c)||(c+=""),f.push(c);return f}var G,q=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class L{constructor(l){this.canvas=l,this._context=l._canvas.getContext("2d"),v.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(l){l.fillEnabled()&&this._fill(l)}_fill(l){}strokeShape(l){l.hasStroke()&&this._stroke(l)}_stroke(l){}fillStrokeShape(l){l.attrs.fillAfterStrokeEnabled?(this.strokeShape(l),this.fillShape(l)):(this.fillShape(l),this.strokeShape(l))}getTrace(l,c){var f,m,E,b,T=this.traceArr,$=T.length,B="";for(f=0;f<$;f++)(E=(m=T[f]).method)?(b=m.args,B+=E,l?B+="()":_._isArray(b[0])?B+="(["+b.join(",")+"])":(c&&(b=b.map(Y=>typeof Y=="number"?Math.floor(Y):Y)),B+="("+b.join(",")+")")):(B+=m.property,l||(B+="="+m.val)),B+=";";return B}clearTrace(){this.traceArr=[]}_trace(l){var c=this.traceArr;c.push(l),c.length>=100&&c.shift()}reset(){var l=this.getCanvas().getPixelRatio();this.setTransform(1*l,0,0,1*l,0,0)}getCanvas(){return this.canvas}clear(l){var c=this.getCanvas();l?this.clearRect(l.x||0,l.y||0,l.width||0,l.height||0):this.clearRect(0,0,c.getWidth()/c.pixelRatio,c.getHeight()/c.pixelRatio)}_applyLineCap(l){var c=l.getLineCap();c&&this.setAttr("lineCap",c)}_applyOpacity(l){var c=l.getAbsoluteOpacity();c!==1&&this.setAttr("globalAlpha",c)}_applyLineJoin(l){var c=l.attrs.lineJoin;c&&this.setAttr("lineJoin",c)}setAttr(l,c){this._context[l]=c}arc(l,c,f,m,E,b){this._context.arc(l,c,f,m,E,b)}arcTo(l,c,f,m,E){this._context.arcTo(l,c,f,m,E)}beginPath(){this._context.beginPath()}bezierCurveTo(l,c,f,m,E,b){this._context.bezierCurveTo(l,c,f,m,E,b)}clearRect(l,c,f,m){this._context.clearRect(l,c,f,m)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(l,c){var f=arguments;return f.length===2?this._context.createImageData(l,c):f.length===1?this._context.createImageData(l):void 0}createLinearGradient(l,c,f,m){return this._context.createLinearGradient(l,c,f,m)}createPattern(l,c){return this._context.createPattern(l,c)}createRadialGradient(l,c,f,m,E,b){return this._context.createRadialGradient(l,c,f,m,E,b)}drawImage(l,c,f,m,E,b,T,$,B){var Y=arguments,Z=this._context;Y.length===3?Z.drawImage(l,c,f):Y.length===5?Z.drawImage(l,c,f,m,E):Y.length===9&&Z.drawImage(l,c,f,m,E,b,T,$,B)}ellipse(l,c,f,m,E,b,T,$){this._context.ellipse(l,c,f,m,E,b,T,$)}isPointInPath(l,c){return this._context.isPointInPath(l,c)}fill(l){l?this._context.fill(l):this._context.fill()}fillRect(l,c,f,m){this._context.fillRect(l,c,f,m)}strokeRect(l,c,f,m){this._context.strokeRect(l,c,f,m)}fillText(l,c,f,m){m?this._context.fillText(l,c,f,m):this._context.fillText(l,c,f)}measureText(l){return this._context.measureText(l)}getImageData(l,c,f,m){return this._context.getImageData(l,c,f,m)}lineTo(l,c){this._context.lineTo(l,c)}moveTo(l,c){this._context.moveTo(l,c)}rect(l,c,f,m){this._context.rect(l,c,f,m)}putImageData(l,c,f){this._context.putImageData(l,c,f)}quadraticCurveTo(l,c,f,m){this._context.quadraticCurveTo(l,c,f,m)}restore(){this._context.restore()}rotate(l){this._context.rotate(l)}save(){this._context.save()}scale(l,c){this._context.scale(l,c)}setLineDash(l){this._context.setLineDash?this._context.setLineDash(l):"mozDash"in this._context?this._context.mozDash=l:"webkitLineDash"in this._context&&(this._context.webkitLineDash=l)}getLineDash(){return this._context.getLineDash()}setTransform(l,c,f,m,E,b){this._context.setTransform(l,c,f,m,E,b)}stroke(l){l?this._context.stroke(l):this._context.stroke()}strokeText(l,c,f,m){this._context.strokeText(l,c,f,m)}transform(l,c,f,m,E,b){this._context.transform(l,c,f,m,E,b)}translate(l,c){this._context.translate(l,c)}_enableTrace(){var l,c,f=this,m=q.length,E=this.setAttr,b=function(T){var $,B=f[T];f[T]=function(){return c=z(Array.prototype.slice.call(arguments,0)),$=B.apply(f,arguments),f._trace({method:T,args:c}),$}};for(l=0;l<m;l++)b(q[l]);f.setAttr=function(){E.apply(f,arguments);var T=arguments[0],$=arguments[1];T!=="shadowOffsetX"&&T!=="shadowOffsetY"&&T!=="shadowBlur"||($/=this.canvas.getPixelRatio()),f._trace({property:T,val:$})}}_applyGlobalCompositeOperation(l){const c=l.attrs.globalCompositeOperation;!c||c==="source-over"||this.setAttr("globalCompositeOperation",c)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(y){Object.defineProperty(L.prototype,y,{get(){return this._context[y]},set(l){this._context[y]=l}})});class P extends L{_fillColor(l){var c=l.fill();this.setAttr("fillStyle",c),l._fillFunc(this)}_fillPattern(l){this.setAttr("fillStyle",l._getFillPattern()),l._fillFunc(this)}_fillLinearGradient(l){var c=l._getLinearGradient();c&&(this.setAttr("fillStyle",c),l._fillFunc(this))}_fillRadialGradient(l){var c=l._getRadialGradient();c&&(this.setAttr("fillStyle",c),l._fillFunc(this))}_fill(l){var c=l.fill(),f=l.getFillPriority();if(c&&f==="color")this._fillColor(l);else{var m=l.getFillPatternImage();if(m&&f==="pattern")this._fillPattern(l);else{var E=l.getFillLinearGradientColorStops();if(E&&f==="linear-gradient")this._fillLinearGradient(l);else{var b=l.getFillRadialGradientColorStops();b&&f==="radial-gradient"?this._fillRadialGradient(l):c?this._fillColor(l):m?this._fillPattern(l):E?this._fillLinearGradient(l):b&&this._fillRadialGradient(l)}}}}_strokeLinearGradient(l){var c=l.getStrokeLinearGradientStartPoint(),f=l.getStrokeLinearGradientEndPoint(),m=l.getStrokeLinearGradientColorStops(),E=this.createLinearGradient(c.x,c.y,f.x,f.y);if(m){for(var b=0;b<m.length;b+=2)E.addColorStop(m[b],m[b+1]);this.setAttr("strokeStyle",E)}}_stroke(l){var c=l.dash(),f=l.getStrokeScaleEnabled();if(l.hasStroke()){if(!f){this.save();var m=this.getCanvas().getPixelRatio();this.setTransform(m,0,0,m,0,0)}this._applyLineCap(l),c&&l.dashEnabled()&&(this.setLineDash(c),this.setAttr("lineDashOffset",l.dashOffset())),this.setAttr("lineWidth",l.strokeWidth()),l.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),l.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(l):this.setAttr("strokeStyle",l.stroke()),l._strokeFunc(this),f||this.restore()}}_applyShadow(l){var c,f,m,E=(c=l.getShadowRGBA())!==null&&c!==void 0?c:"black",b=(f=l.getShadowBlur())!==null&&f!==void 0?f:5,T=(m=l.getShadowOffset())!==null&&m!==void 0?m:{x:0,y:0},$=l.getAbsoluteScale(),B=this.canvas.getPixelRatio(),Y=$.x*B,Z=$.y*B;this.setAttr("shadowColor",E),this.setAttr("shadowBlur",b*Math.min(Math.abs(Y),Math.abs(Z))),this.setAttr("shadowOffsetX",T.x*Y),this.setAttr("shadowOffsetY",T.y*Z)}}class j extends L{_fill(l){this.save(),this.setAttr("fillStyle",l.colorKey),l._fillFuncHit(this),this.restore()}strokeShape(l){l.hasHitStroke()&&this._stroke(l)}_stroke(l){if(l.hasHitStroke()){var c=l.getStrokeScaleEnabled();if(!c){this.save();var f=this.getCanvas().getPixelRatio();this.setTransform(f,0,0,f,0,0)}this._applyLineCap(l);var m=l.hitStrokeWidth(),E=m==="auto"?l.strokeWidth():m;this.setAttr("lineWidth",E),this.setAttr("strokeStyle",l.colorKey),l._strokeFuncHit(this),c||this.restore()}}}class K{constructor(l){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var c=(l||{}).pixelRatio||v.pixelRatio||function(){if(G)return G;var f=_.createCanvasElement().getContext("2d");return G=(v._global.devicePixelRatio||1)/(f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1)}();this.pixelRatio=c,this._canvas=_.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(l){var c=this.pixelRatio;this.pixelRatio=l,this.setSize(this.getWidth()/c,this.getHeight()/c)}setWidth(l){this.width=this._canvas.width=l*this.pixelRatio,this._canvas.style.width=l+"px";var c=this.pixelRatio;this.getContext()._context.scale(c,c)}setHeight(l){this.height=this._canvas.height=l*this.pixelRatio,this._canvas.style.height=l+"px";var c=this.pixelRatio;this.getContext()._context.scale(c,c)}getWidth(){return this.width}getHeight(){return this.height}setSize(l,c){this.setWidth(l||0),this.setHeight(c||0)}toDataURL(l,c){try{return this._canvas.toDataURL(l,c)}catch{try{return this._canvas.toDataURL()}catch(m){return _.error("Unable to get data URL. "+m.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}I.addGetterSetter(K,"pixelRatio",void 0,N());class Q extends K{constructor(l={width:0,height:0}){super(l),this.context=new P(this),this.setSize(l.width,l.height)}}class te extends K{constructor(l={width:0,height:0}){super(l),this.hitCanvas=!0,this.context=new j(this),this.setSize(l.width,l.height)}}const J={get isDragging(){var y=!1;return J._dragElements.forEach(l=>{l.dragStatus==="dragging"&&(y=!0)}),y},justDragged:!1,get node(){var y;return J._dragElements.forEach(l=>{y=l.node}),y},_dragElements:new Map,_drag(y){const l=[];J._dragElements.forEach((c,f)=>{const{node:m}=c,E=m.getStage();E.setPointersPositions(y),c.pointerId===void 0&&(c.pointerId=_._getFirstPointerId(y));const b=E._changedPointerPositions.find($=>$.id===c.pointerId);if(b){if(c.dragStatus!=="dragging"){var T=m.dragDistance();if(Math.max(Math.abs(b.x-c.startPointerPos.x),Math.abs(b.y-c.startPointerPos.y))<T||(m.startDrag({evt:y}),!m.isDragging()))return}m._setDragPosition(y,c),l.push(m)}}),l.forEach(c=>{c.fire("dragmove",{type:"dragmove",target:c,evt:y},!0)})},_endDragBefore(y){J._dragElements.forEach(l=>{const{node:c}=l,f=c.getStage();if(y&&f.setPointersPositions(y),!f._changedPointerPositions.find(E=>E.id===l.pointerId))return;l.dragStatus!=="dragging"&&l.dragStatus!=="stopped"||(J.justDragged=!0,v._mouseListenClick=!1,v._touchListenClick=!1,v._pointerListenClick=!1,l.dragStatus="stopped");const m=l.node.getLayer()||l.node instanceof v.Stage&&l.node;m&&m.batchDraw()})},_endDragAfter(y){J._dragElements.forEach((l,c)=>{l.dragStatus==="stopped"&&l.node.fire("dragend",{type:"dragend",target:l.node,evt:y},!0),l.dragStatus!=="dragging"&&J._dragElements.delete(c)})}};v.isBrowser&&(window.addEventListener("mouseup",J._endDragBefore,!0),window.addEventListener("touchend",J._endDragBefore,!0),window.addEventListener("mousemove",J._drag),window.addEventListener("touchmove",J._drag),window.addEventListener("mouseup",J._endDragAfter,!1),window.addEventListener("touchend",J._endDragAfter,!1));var re="absoluteOpacity",le="allEventListeners",de="absoluteTransform",xe="absoluteScale",Ve="canvas",ke="listening",Ge="mouseenter",qe="mouseleave",Ye="Shape",He=" ",$e="stage",Re="transform",Vt="visible",Me=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(He);let ut=1;class pe{constructor(l){this._id=ut++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(l),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(l){l!==Re&&l!==de||!this._cache.get(l)?l?this._cache.delete(l):this._cache.clear():this._cache.get(l).dirty=!0}_getCache(l,c){var f=this._cache.get(l);return(f===void 0||(l===Re||l===de)&&f.dirty===!0)&&(f=c.call(this),this._cache.set(l,f)),f}_calculate(l,c,f){if(!this._attachedDepsListeners.get(l)){const m=c.map(E=>E+"Change.konva").join(He);this.on(m,()=>{this._clearCache(l)}),this._attachedDepsListeners.set(l,!0)}return this._getCache(l,f)}_getCanvasCache(){return this._cache.get(Ve)}_clearSelfAndDescendantCache(l){this._clearCache(l),l===de&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete(Ve),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(l){var c=l||{},f={};c.x!==void 0&&c.y!==void 0&&c.width!==void 0&&c.height!==void 0||(f=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var m=Math.ceil(c.width||f.width),E=Math.ceil(c.height||f.height),b=c.pixelRatio,T=c.x===void 0?Math.floor(f.x):c.x,$=c.y===void 0?Math.floor(f.y):c.y,B=c.offset||0,Y=c.drawBorder||!1,Z=c.hitCanvasPixelRatio||1;if(m&&E){T-=B,$-=B;var ie=new Q({pixelRatio:b,width:m+=2*B+1,height:E+=2*B+1}),oe=new Q({pixelRatio:b,width:0,height:0}),ee=new te({pixelRatio:Z,width:m,height:E}),fe=ie.getContext(),st=ee.getContext();return ee.isCache=!0,ie.isCache=!0,this._cache.delete(Ve),this._filterUpToDate=!1,c.imageSmoothingEnabled===!1&&(ie.getContext()._context.imageSmoothingEnabled=!1,oe.getContext()._context.imageSmoothingEnabled=!1),fe.save(),st.save(),fe.translate(-T,-$),st.translate(-T,-$),this._isUnderCache=!0,this._clearSelfAndDescendantCache(re),this._clearSelfAndDescendantCache(xe),this.drawScene(ie,this),this.drawHit(ee,this),this._isUnderCache=!1,fe.restore(),st.restore(),Y&&(fe.save(),fe.beginPath(),fe.rect(0,0,m,E),fe.closePath(),fe.setAttr("strokeStyle","red"),fe.setAttr("lineWidth",5),fe.stroke(),fe.restore()),this._cache.set(Ve,{scene:ie,filter:oe,hit:ee,x:T,y:$}),this._requestDraw(),this}_.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(Ve)}getClientRect(l){throw new Error('abstract "getClientRect" method call')}_transformedRect(l,c){var f,m,E,b,T=[{x:l.x,y:l.y},{x:l.x+l.width,y:l.y},{x:l.x+l.width,y:l.y+l.height},{x:l.x,y:l.y+l.height}],$=this.getAbsoluteTransform(c);return T.forEach(function(B){var Y=$.point(B);f===void 0&&(f=E=Y.x,m=b=Y.y),f=Math.min(f,Y.x),m=Math.min(m,Y.y),E=Math.max(E,Y.x),b=Math.max(b,Y.y)}),{x:f,y:m,width:E-f,height:b-m}}_drawCachedSceneCanvas(l){l.save(),l._applyOpacity(this),l._applyGlobalCompositeOperation(this);const c=this._getCanvasCache();l.translate(c.x,c.y);var f=this._getCachedSceneCanvas(),m=f.pixelRatio;l.drawImage(f._canvas,0,0,f.width/m,f.height/m),l.restore()}_drawCachedHitCanvas(l){var c=this._getCanvasCache(),f=c.hit;l.save(),l.translate(c.x,c.y),l.drawImage(f._canvas,0,0,f.width/f.pixelRatio,f.height/f.pixelRatio),l.restore()}_getCachedSceneCanvas(){var l,c,f,m,E=this.filters(),b=this._getCanvasCache(),T=b.scene,$=b.filter,B=$.getContext();if(E){if(!this._filterUpToDate){var Y=T.pixelRatio;$.setSize(T.width/T.pixelRatio,T.height/T.pixelRatio);try{for(l=E.length,B.clear(),B.drawImage(T._canvas,0,0,T.getWidth()/Y,T.getHeight()/Y),c=B.getImageData(0,0,$.getWidth(),$.getHeight()),f=0;f<l;f++)typeof(m=E[f])=="function"?(m.call(this,c),B.putImageData(c,0,0)):_.error("Filter should be type of function, but got "+typeof m+" instead. Please check correct filters")}catch(Z){_.error("Unable to apply filter. "+Z.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return $}return T}on(l,c){if(this._cache&&this._cache.delete(le),arguments.length===3)return this._delegate.apply(this,arguments);var f,m,E,b,T=l.split(He),$=T.length;for(f=0;f<$;f++)E=(m=T[f].split("."))[0],b=m[1]||"",this.eventListeners[E]||(this.eventListeners[E]=[]),this.eventListeners[E].push({name:b,handler:c});return this}off(l,c){var f,m,E,b,T,$=(l||"").split(He),B=$.length;if(this._cache&&this._cache.delete(le),!l)for(m in this.eventListeners)this._off(m);for(f=0;f<B;f++)if(b=(E=$[f].split("."))[0],T=E[1],b)this.eventListeners[b]&&this._off(b,T,c);else for(m in this.eventListeners)this._off(m,T,c);return this}dispatchEvent(l){var c={target:this,type:l.type,evt:l};return this.fire(l.type,c),this}addEventListener(l,c){return this.on(l,function(f){c.call(this,f.evt)}),this}removeEventListener(l){return this.off(l),this}_delegate(l,c,f){var m=this;this.on(l,function(E){for(var b=E.target.findAncestors(c,!0,m),T=0;T<b.length;T++)(E=_.cloneObject(E)).currentTarget=b[T],f.call(b[T],E)})}remove(){return this.isDragging()&&this.stopDrag(),J._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(de),this._clearSelfAndDescendantCache(re),this._clearSelfAndDescendantCache(xe),this._clearSelfAndDescendantCache($e),this._clearSelfAndDescendantCache(Vt),this._clearSelfAndDescendantCache(ke)}_remove(){this._clearCaches();var l=this.getParent();l&&l.children&&(l.children.splice(this.index,1),l._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(l){var c="get"+_._capitalize(l);return _._isFunction(this[c])?this[c]():this.attrs[l]}getAncestors(){for(var l=this.getParent(),c=[];l;)c.push(l),l=l.getParent();return c}getAttrs(){return this.attrs||{}}setAttrs(l){return this._batchTransformChanges(()=>{var c,f;if(!l)return this;for(c in l)c!=="children"&&(f="set"+_._capitalize(c),_._isFunction(this[f])?this[f](l[c]):this._setAttr(c,l[c]))}),this}isListening(){return this._getCache(ke,this._isListening)}_isListening(l){if(!this.listening())return!1;const c=this.getParent();return!c||c===l||this===l||c._isListening(l)}isVisible(){return this._getCache(Vt,this._isVisible)}_isVisible(l){if(!this.visible())return!1;const c=this.getParent();return!c||c===l||this===l||c._isVisible(l)}shouldDrawHit(l,c=!1){if(l)return this._isVisible(l)&&this._isListening(l);var f=this.getLayer(),m=!1;J._dragElements.forEach(b=>{b.dragStatus==="dragging"&&(b.node.nodeType==="Stage"||b.node.getLayer()===f)&&(m=!0)});var E=!c&&!v.hitOnDragEnabled&&m;return this.isListening()&&this.isVisible()&&!E}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var l,c,f,m,E=this.getDepth(),b=this,T=0;return b.nodeType!=="Stage"&&function $(B){for(l=[],c=B.length,f=0;f<c;f++)m=B[f],T++,m.nodeType!==Ye&&(l=l.concat(m.getChildren().slice())),m._id===b._id&&(f=c);l.length>0&&l[0].getDepth()<=E&&$(l)}(b.getStage().getChildren()),T}getDepth(){for(var l=0,c=this.parent;c;)l++,c=c.parent;return l}_batchTransformChanges(l){this._batchingTransformChange=!0,l(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Re),this._clearSelfAndDescendantCache(de)),this._needClearTransformCache=!1}setPosition(l){return this._batchTransformChanges(()=>{this.x(l.x),this.y(l.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var l=this.getStage().getPointerPosition();if(!l)return null;var c=this.getAbsoluteTransform().copy();return c.invert(),c.point(l)}getAbsolutePosition(l){let c=!1,f=this.parent;for(;f;){if(f.isCached()){c=!0;break}f=f.parent}c&&!l&&(l=!0);var m=this.getAbsoluteTransform(l).getMatrix(),E=new O,b=this.offset();return E.m=m.slice(),E.translate(b.x,b.y),E.getTranslation()}setAbsolutePosition(l){var c=this._clearTransform();this.attrs.x=c.x,this.attrs.y=c.y,delete c.x,delete c.y,this._clearCache(Re);var f=this._getAbsoluteTransform().copy();return f.invert(),f.translate(l.x,l.y),l={x:this.attrs.x+f.getTranslation().x,y:this.attrs.y+f.getTranslation().y},this._setTransform(c),this.setPosition({x:l.x,y:l.y}),this._clearCache(Re),this._clearSelfAndDescendantCache(de),this}_setTransform(l){var c;for(c in l)this.attrs[c]=l[c]}_clearTransform(){var l={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,l}move(l){var c=l.x,f=l.y,m=this.x(),E=this.y();return c!==void 0&&(m+=c),f!==void 0&&(E+=f),this.setPosition({x:m,y:E}),this}_eachAncestorReverse(l,c){var f,m,E=[],b=this.getParent();if(!c||c._id!==this._id){for(E.unshift(this);b&&(!c||b._id!==c._id);)E.unshift(b),b=b.parent;for(f=E.length,m=0;m<f;m++)l(E[m])}}rotate(l){return this.rotation(this.rotation()+l),this}moveToTop(){if(!this.parent)return _.warn("Node has no parent. moveToTop function is ignored."),!1;var l=this.index;return l<this.parent.getChildren().length-1&&(this.parent.children.splice(l,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return _.warn("Node has no parent. moveUp function is ignored."),!1;var l=this.index;return l<this.parent.getChildren().length-1&&(this.parent.children.splice(l,1),this.parent.children.splice(l+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return _.warn("Node has no parent. moveDown function is ignored."),!1;var l=this.index;return l>0&&(this.parent.children.splice(l,1),this.parent.children.splice(l-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return _.warn("Node has no parent. moveToBottom function is ignored."),!1;var l=this.index;return l>0&&(this.parent.children.splice(l,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(l){if(!this.parent)return _.warn("Node has no parent. zIndex parameter is ignored."),this;(l<0||l>=this.parent.children.length)&&_.warn("Unexpected value "+l+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var c=this.index;return this.parent.children.splice(c,1),this.parent.children.splice(l,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(re,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var l=this.opacity(),c=this.getParent();return c&&!c._isUnderCache&&(l*=c.getAbsoluteOpacity()),l}moveTo(l){return this.getParent()!==l&&(this._remove(),l.add(this)),this}toObject(){var l,c,f,m,E={},b=this.getAttrs();for(l in E.attrs={},b)c=b[l],_.isObject(c)&&!_._isPlainObject(c)&&!_._isArray(c)||(f=typeof this[l]=="function"&&this[l],delete b[l],m=f?f.call(this):null,b[l]=c,m!==c&&(E.attrs[l]=c));return E.className=this.getClassName(),_._prepareToStringify(E)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(l,c,f){var m=[];c&&this._isMatch(l)&&m.push(this);for(var E=this.parent;E;){if(E===f)return m;E._isMatch(l)&&m.push(E),E=E.parent}return m}isAncestorOf(l){return!1}findAncestor(l,c,f){return this.findAncestors(l,c,f)[0]}_isMatch(l){if(!l)return!1;if(typeof l=="function")return l(this);var c,f,m=l.replace(/ /g,"").split(","),E=m.length;for(c=0;c<E;c++)if(f=m[c],_.isValidSelector(f)||(_.warn('Selector "'+f+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),_.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),_.warn("Konva is awesome, right?")),f.charAt(0)==="#"){if(this.id()===f.slice(1))return!0}else if(f.charAt(0)==="."){if(this.hasName(f.slice(1)))return!0}else if(this.className===f||this.nodeType===f)return!0;return!1}getLayer(){var l=this.getParent();return l?l.getLayer():null}getStage(){return this._getCache($e,this._getStage)}_getStage(){var l=this.getParent();return l?l.getStage():void 0}fire(l,c={},f){return c.target=c.target||this,f?this._fireAndBubble(l,c):this._fire(l,c),this}getAbsoluteTransform(l){return l?this._getAbsoluteTransform(l):this._getCache(de,this._getAbsoluteTransform)}_getAbsoluteTransform(l){var c;if(l)return c=new O,this._eachAncestorReverse(function(m){var E=m.transformsEnabled();E==="all"?c.multiply(m.getTransform()):E==="position"&&c.translate(m.x()-m.offsetX(),m.y()-m.offsetY())},l),c;c=this._cache.get(de)||new O,this.parent?this.parent.getAbsoluteTransform().copyInto(c):c.reset();var f=this.transformsEnabled();if(f==="all")c.multiply(this.getTransform());else if(f==="position"){const m=this.attrs.x||0,E=this.attrs.y||0,b=this.attrs.offsetX||0,T=this.attrs.offsetY||0;c.translate(m-b,E-T)}return c.dirty=!1,c}getAbsoluteScale(l){for(var c=this;c;)c._isUnderCache&&(l=c),c=c.getParent();const f=this.getAbsoluteTransform(l).decompose();return{x:f.scaleX,y:f.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Re,this._getTransform)}_getTransform(){var l,c,f=this._cache.get(Re)||new O;f.reset();var m=this.x(),E=this.y(),b=v.getAngle(this.rotation()),T=(l=this.attrs.scaleX)!==null&&l!==void 0?l:1,$=(c=this.attrs.scaleY)!==null&&c!==void 0?c:1,B=this.attrs.skewX||0,Y=this.attrs.skewY||0,Z=this.attrs.offsetX||0,ie=this.attrs.offsetY||0;return m===0&&E===0||f.translate(m,E),b!==0&&f.rotate(b),B===0&&Y===0||f.skew(B,Y),T===1&&$===1||f.scale(T,$),Z===0&&ie===0||f.translate(-1*Z,-1*ie),f.dirty=!1,f}clone(l){var c,f,m,E,b,T=_.cloneObject(this.attrs);for(c in l)T[c]=l[c];var $=new this.constructor(T);for(c in this.eventListeners)for(m=(f=this.eventListeners[c]).length,E=0;E<m;E++)(b=f[E]).name.indexOf("konva")<0&&($.eventListeners[c]||($.eventListeners[c]=[]),$.eventListeners[c].push(b));return $}_toKonvaCanvas(l){l=l||{};var c=this.getClientRect(),f=this.getStage(),m=l.x!==void 0?l.x:Math.floor(c.x),E=l.y!==void 0?l.y:Math.floor(c.y),b=l.pixelRatio||1,T=new Q({width:l.width||Math.ceil(c.width)||(f?f.width():0),height:l.height||Math.ceil(c.height)||(f?f.height():0),pixelRatio:b}),$=T.getContext();return $.save(),(m||E)&&$.translate(-1*m,-1*E),this.drawScene(T),$.restore(),T}toCanvas(l){return this._toKonvaCanvas(l)._canvas}toDataURL(l){var c=(l=l||{}).mimeType||null,f=l.quality||null,m=this._toKonvaCanvas(l).toDataURL(c,f);return l.callback&&l.callback(m),m}toImage(l){if(!l||!l.callback)throw"callback required for toImage method config argument";var c=l.callback;delete l.callback,_._urlToImage(this.toDataURL(l),function(f){c(f)})}setSize(l){return this.width(l.width),this.height(l.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():v.dragDistance}_off(l,c,f){var m,E,b,T=this.eventListeners[l];for(m=0;m<T.length;m++)if(E=T[m].name,b=T[m].handler,!(E==="konva"&&c!=="konva"||c&&E!==c||f&&f!==b)){if(T.splice(m,1),T.length===0){delete this.eventListeners[l];break}m--}}_fireChangeEvent(l,c,f){this._fire(l+"Change",{oldVal:c,newVal:f})}addName(l){if(!this.hasName(l)){var c=this.name(),f=c?c+" "+l:l;this.name(f)}return this}hasName(l){if(!l)return!1;const c=this.name();return!!c&&(c||"").split(/\s/g).indexOf(l)!==-1}removeName(l){var c=(this.name()||"").split(/\s/g),f=c.indexOf(l);return f!==-1&&(c.splice(f,1),this.name(c.join(" "))),this}setAttr(l,c){var f=this["set"+_._capitalize(l)];return _._isFunction(f)?f.call(this,c):this._setAttr(l,c),this}_requestDraw(){if(v.autoDrawEnabled){const l=this.getLayer()||this.getStage();l==null||l.batchDraw()}}_setAttr(l,c){var f=this.attrs[l];(f!==c||_.isObject(c))&&(c==null?delete this.attrs[l]:this.attrs[l]=c,this._shouldFireChangeEvents&&this._fireChangeEvent(l,f,c),this._requestDraw())}_setComponentAttr(l,c,f){var m;f!==void 0&&((m=this.attrs[l])||(this.attrs[l]=this.getAttr(l)),this.attrs[l][c]=f,this._fireChangeEvent(l,m,f))}_fireAndBubble(l,c,f){if(c&&this.nodeType===Ye&&(c.target=this),l!==Ge&&l!==qe||!(f&&(this===f||this.isAncestorOf&&this.isAncestorOf(f))||this.nodeType==="Stage"&&!f)){this._fire(l,c);var m=(l===Ge||l===qe)&&f&&f.isAncestorOf&&f.isAncestorOf(this)&&!f.isAncestorOf(this.parent);(c&&!c.cancelBubble||!c)&&this.parent&&this.parent.isListening()&&!m&&(f&&f.parent?this._fireAndBubble.call(this.parent,l,c,f):this._fireAndBubble.call(this.parent,l,c))}}_getProtoListeners(l){let c=this._cache.get(le);if(!c){c={};let m=Object.getPrototypeOf(this);for(;m;)if(m.eventListeners){for(var f in m.eventListeners){const E=m.eventListeners[f],b=c[f]||[];c[f]=E.concat(b)}m=Object.getPrototypeOf(m)}else m=Object.getPrototypeOf(m);this._cache.set(le,c)}return c[l]}_fire(l,c){(c=c||{}).currentTarget=this,c.type=l;const f=this._getProtoListeners(l);if(f)for(var m=0;m<f.length;m++)f[m].handler.call(this,c);const E=this.eventListeners[l];if(E)for(m=0;m<E.length;m++)E[m].handler.call(this,c)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(l){var c=l?l.pointerId:void 0,f=this.getStage(),m=this.getAbsolutePosition(),E=f._getPointerById(c)||f._changedPointerPositions[0]||m;J._dragElements.set(this._id,{node:this,startPointerPos:E,offset:{x:E.x-m.x,y:E.y-m.y},dragStatus:"ready",pointerId:c})}startDrag(l,c=!0){J._dragElements.has(this._id)||this._createDragElement(l),J._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:l&&l.evt},c)}_setDragPosition(l,c){const f=this.getStage()._getPointerById(c.pointerId);if(f){var m={x:f.x-c.offset.x,y:f.y-c.offset.y},E=this.dragBoundFunc();if(E!==void 0){const b=E.call(this,m,l);b?m=b:_.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===m.x&&this._lastPos.y===m.y||(this.setAbsolutePosition(m),this._requestDraw()),this._lastPos=m}}stopDrag(l){const c=J._dragElements.get(this._id);c&&(c.dragStatus="stopped"),J._endDragBefore(l),J._endDragAfter(l)}setDraggable(l){this._setAttr("draggable",l),this._dragChange()}isDragging(){const l=J._dragElements.get(this._id);return!!l&&l.dragStatus==="dragging"}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(l){if((l.evt.button===void 0||v.dragButtons.indexOf(l.evt.button)>=0)&&!this.isDragging()){var c=!1;J._dragElements.forEach(f=>{this.isAncestorOf(f.node)&&(c=!0)}),c||this._createDragElement(l)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const l=J._dragElements.get(this._id),c=l&&l.dragStatus==="dragging",f=l&&l.dragStatus==="ready";c?this.stopDrag():f&&J._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(l={x:0,y:0}){const c=this.getStage();if(!c)return!1;const f={x:-l.x,y:-l.y,width:c.width()+2*l.x,height:c.height()+2*l.y};return _.haveIntersection(f,this.getClientRect())}static create(l,c){return _._isString(l)&&(l=JSON.parse(l)),this._createNode(l,c)}static _createNode(l,c){var f,m,E,b=pe.prototype.getClassName.call(l),T=l.children;if(c&&(l.attrs.container=c),v[b]||(_.warn('Can not find a node with class name "'+b+'". Fallback to "Shape".'),b="Shape"),f=new v[b](l.attrs),T)for(m=T.length,E=0;E<m;E++)f.add(pe._createNode(T[E]));return f}}pe.prototype.nodeType="Node",pe.prototype._attrsAffectingSize=[],pe.prototype.eventListeners={},pe.prototype.on.call(pe.prototype,Me,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(Re),this._clearSelfAndDescendantCache(de))}),pe.prototype.on.call(pe.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Vt)}),pe.prototype.on.call(pe.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(ke)}),pe.prototype.on.call(pe.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(re)});const Ee=I.addGetterSetter;Ee(pe,"zIndex"),Ee(pe,"absolutePosition"),Ee(pe,"position"),Ee(pe,"x",0,N()),Ee(pe,"y",0,N()),Ee(pe,"globalCompositeOperation","source-over",V()),Ee(pe,"opacity",1,N()),Ee(pe,"name","",V()),Ee(pe,"id","",V()),Ee(pe,"rotation",0,N()),I.addComponentsGetterSetter(pe,"scale",["x","y"]),Ee(pe,"scaleX",1,N()),Ee(pe,"scaleY",1,N()),I.addComponentsGetterSetter(pe,"skew",["x","y"]),Ee(pe,"skewX",0,N()),Ee(pe,"skewY",0,N()),I.addComponentsGetterSetter(pe,"offset",["x","y"]),Ee(pe,"offsetX",0,N()),Ee(pe,"offsetY",0,N()),Ee(pe,"dragDistance",null,N()),Ee(pe,"width",0,N()),Ee(pe,"height",0,N()),Ee(pe,"listening",!0,U()),Ee(pe,"preventDefault",!0,U()),Ee(pe,"filters",null,function(y){return this._filterUpToDate=!1,y}),Ee(pe,"visible",!0,U()),Ee(pe,"transformsEnabled","all",V()),Ee(pe,"size"),Ee(pe,"dragBoundFunc"),Ee(pe,"draggable",!1,U()),I.backCompat(pe,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class ot extends pe{constructor(){super(...arguments),this.children=[]}getChildren(l){if(!l)return this.children||[];const c=this.children||[];var f=[];return c.forEach(function(m){l(m)&&f.push(m)}),f}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(l=>{l.parent=null,l.index=0,l.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(l=>{l.parent=null,l.index=0,l.destroy()}),this.children=[],this._requestDraw(),this}add(...l){if(arguments.length>1){for(var c=0;c<arguments.length;c++)this.add(arguments[c]);return this}var f=l[0];return f.getParent()?(f.moveTo(this),this):(this._validateAdd(f),f.index=this.getChildren().length,f.parent=this,f._clearCaches(),this.getChildren().push(f),this._fire("add",{child:f}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(l){return this._generalFind(l,!1)}findOne(l){var c=this._generalFind(l,!0);return c.length>0?c[0]:void 0}_generalFind(l,c){var f=[];return this._descendants(m=>{const E=m._isMatch(l);return E&&f.push(m),!(!E||!c)}),f}_descendants(l){let c=!1;const f=this.getChildren();for(const m of f)if(c=l(m),c||m.hasChildren()&&(c=m._descendants(l),c))return!0;return!1}toObject(){var l=pe.prototype.toObject.call(this);return l.children=[],this.getChildren().forEach(c=>{l.children.push(c.toObject())}),l}isAncestorOf(l){for(var c=l.getParent();c;){if(c._id===this._id)return!0;c=c.getParent()}return!1}clone(l){var c=pe.prototype.clone.call(this,l);return this.getChildren().forEach(function(f){c.add(f.clone())}),c}getAllIntersections(l){var c=[];return this.find("Shape").forEach(function(f){f.isVisible()&&f.intersects(l)&&c.push(f)}),c}_clearSelfAndDescendantCache(l){var c;super._clearSelfAndDescendantCache(l),this.isCached()||(c=this.children)===null||c===void 0||c.forEach(function(f){f._clearSelfAndDescendantCache(l)})}_setChildrenIndices(){var l;(l=this.children)===null||l===void 0||l.forEach(function(c,f){c.index=f}),this._requestDraw()}drawScene(l,c){var f=this.getLayer(),m=l||f&&f.getCanvas(),E=m&&m.getContext(),b=this._getCanvasCache(),T=b&&b.scene,$=m&&m.isCache;if(!this.isVisible()&&!$)return this;if(T){E.save();var B=this.getAbsoluteTransform(c).getMatrix();E.transform(B[0],B[1],B[2],B[3],B[4],B[5]),this._drawCachedSceneCanvas(E),E.restore()}else this._drawChildren("drawScene",m,c);return this}drawHit(l,c){if(!this.shouldDrawHit(c))return this;var f=this.getLayer(),m=l||f&&f.hitCanvas,E=m&&m.getContext(),b=this._getCanvasCache();if(b&&b.hit){E.save();var T=this.getAbsoluteTransform(c).getMatrix();E.transform(T[0],T[1],T[2],T[3],T[4],T[5]),this._drawCachedHitCanvas(E),E.restore()}else this._drawChildren("drawHit",m,c);return this}_drawChildren(l,c,f){var m,E=c&&c.getContext(),b=this.clipWidth(),T=this.clipHeight(),$=this.clipFunc(),B=b&&T||$;const Y=f===this;if(B){E.save();var Z=this.getAbsoluteTransform(f),ie=Z.getMatrix();if(E.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]),E.beginPath(),$)$.call(this,E,this);else{var oe=this.clipX(),ee=this.clipY();E.rect(oe,ee,b,T)}E.clip(),ie=Z.copy().invert().getMatrix(),E.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5])}var fe=!Y&&this.globalCompositeOperation()!=="source-over"&&l==="drawScene";fe&&(E.save(),E._applyGlobalCompositeOperation(this)),(m=this.children)===null||m===void 0||m.forEach(function(st){st[l](c,f)}),fe&&E.restore(),B&&E.restore()}getClientRect(l){var c,f,m,E,b,T,$=(l=l||{}).skipTransform,B=l.relativeTo,Y=this;(c=this.children)===null||c===void 0||c.forEach(function(ee){if(ee.visible()){var fe=ee.getClientRect({relativeTo:Y,skipShadow:l.skipShadow,skipStroke:l.skipStroke});fe.width===0&&fe.height===0||(f===void 0?(f=fe.x,m=fe.y,E=fe.x+fe.width,b=fe.y+fe.height):(f=Math.min(f,fe.x),m=Math.min(m,fe.y),E=Math.max(E,fe.x+fe.width),b=Math.max(b,fe.y+fe.height)))}});for(var Z=this.find("Shape"),ie=!1,oe=0;oe<Z.length;oe++)if(Z[oe]._isVisible(this)){ie=!0;break}return T=ie&&f!==void 0?{x:f,y:m,width:E-f,height:b-m}:{x:0,y:0,width:0,height:0},$?T:this._transformedRect(T,B)}}I.addComponentsGetterSetter(ot,"clip",["x","y","width","height"]),I.addGetterSetter(ot,"clipX",void 0,N()),I.addGetterSetter(ot,"clipY",void 0,N()),I.addGetterSetter(ot,"clipWidth",void 0,N()),I.addGetterSetter(ot,"clipHeight",void 0,N()),I.addGetterSetter(ot,"clipFunc");const Kt=new Map,Qr=v._global.PointerEvent!==void 0;function Yn(y){return Kt.get(y)}function ce(y){return{evt:y,pointerId:y.pointerId}}function we(y,l){return Kt.get(y)===l}function Pe(y,l){Le(y),l.getStage()&&(Kt.set(y,l),Qr&&l._fire("gotpointercapture",ce(new PointerEvent("gotpointercapture"))))}function Le(y,l){const c=Kt.get(y);if(!c)return;const f=c.getStage();f&&f.content,Kt.delete(y),Qr&&c._fire("lostpointercapture",ce(new PointerEvent("lostpointercapture")))}var ve="mouseleave",Ie="mouseover",Te="mouseenter",Se="mousemove",nt="mousedown",In="mouseup",yr="pointermove",Gt="pointerdown",Nr="pointerup",bi="pointercancel",ls="pointerout",us="pointerleave",cs="pointerover",Ci="pointerenter",hs="contextmenu",ja="touchstart",lo="touchend",Yu="touchmove",uo="touchcancel",ds="wheel",$a=[[Te,"_pointerenter"],[nt,"_pointerdown"],[Se,"_pointermove"],[In,"_pointerup"],[ve,"_pointerleave"],[ja,"_pointerdown"],[Yu,"_pointermove"],[lo,"_pointerup"],[uo,"_pointercancel"],[Ie,"_pointerover"],[ds,"_wheel"],[hs,"_contextmenu"],[Gt,"_pointerdown"],[yr,"_pointermove"],[Nr,"_pointerup"],[bi,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const Fa={mouse:{[ls]:"mouseout",[us]:ve,[cs]:Ie,[Ci]:Te,[yr]:Se,[Gt]:nt,[Nr]:In,[bi]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[ls]:"touchout",[us]:"touchleave",[cs]:"touchover",[Ci]:"touchenter",[yr]:Yu,[Gt]:ja,[Nr]:lo,[bi]:uo,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[ls]:ls,[us]:us,[cs]:cs,[Ci]:Ci,[yr]:yr,[Gt]:Gt,[Nr]:Nr,[bi]:bi,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},fs=y=>y.indexOf("pointer")>=0?"pointer":y.indexOf("touch")>=0?"touch":"mouse",_i=y=>{const l=fs(y);return l==="pointer"?v.pointerEventsEnabled&&Fa.pointer:l==="touch"?Fa.touch:l==="mouse"?Fa.mouse:void 0};function Xu(y={}){return(y.clipFunc||y.clipWidth||y.clipHeight)&&_.warn("Stage does not support clipping. Please use clip for Layers or Groups."),y}const co=[];class ho extends ot{constructor(l){super(Xu(l)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),co.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Xu(this.attrs)}),this._checkVisibility()}_validateAdd(l){const c=l.getType()==="Layer",f=l.getType()==="FastLayer";c||f||_.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const l=this.visible()?"":"none";this.content.style.display=l}setContainer(l){if(typeof l=="string"){if(l.charAt(0)==="."){var c=l.slice(1);l=document.getElementsByClassName(c)[0]}else{var f;f=l.charAt(0)!=="#"?l:l.slice(1),l=document.getElementById(f)}if(!l)throw"Can not find container in document with id "+f}return this._setAttr("container",l),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),l.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var l,c=this.children,f=c.length;for(l=0;l<f;l++)c[l].clear();return this}clone(l){return l||(l={}),l.container=typeof document<"u"&&document.createElement("div"),ot.prototype.clone.call(this,l)}destroy(){super.destroy();var l=this.content;l&&_._isInDocument(l)&&this.container().removeChild(l);var c=co.indexOf(this);return c>-1&&co.splice(c,1),this}getPointerPosition(){const l=this._pointerPositions[0]||this._changedPointerPositions[0];return l?{x:l.x,y:l.y}:(_.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(l){return this._pointerPositions.find(c=>c.id===l)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(l){(l=l||{}).x=l.x||0,l.y=l.y||0,l.width=l.width||this.width(),l.height=l.height||this.height();var c=new Q({width:l.width,height:l.height,pixelRatio:l.pixelRatio||1}),f=c.getContext()._context,m=this.children;return(l.x||l.y)&&f.translate(-1*l.x,-1*l.y),m.forEach(function(E){if(E.isVisible()){var b=E._toKonvaCanvas(l);f.drawImage(b._canvas,l.x,l.y,b.getWidth()/b.getPixelRatio(),b.getHeight()/b.getPixelRatio())}}),c}getIntersection(l){if(!l)return null;var c,f=this.children;for(c=f.length-1;c>=0;c--){const m=f[c].getIntersection(l);if(m)return m}return null}_resizeDOM(){var l=this.width(),c=this.height();this.content&&(this.content.style.width=l+"px",this.content.style.height=c+"px"),this.bufferCanvas.setSize(l,c),this.bufferHitCanvas.setSize(l,c),this.children.forEach(f=>{f.setSize({width:l,height:c}),f.draw()})}add(l,...c){if(arguments.length>1){for(var f=0;f<arguments.length;f++)this.add(arguments[f]);return this}super.add(l);var m=this.children.length;return m>5&&_.warn("The stage has "+m+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),l.setSize({width:this.width(),height:this.height()}),l.draw(),v.isBrowser&&this.content.appendChild(l.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(l){return we(l,this)}setPointerCapture(l){Pe(l,this)}releaseCapture(l){Le(l)}getLayers(){return this.children}_bindContentEvents(){v.isBrowser&&$a.forEach(([l,c])=>{this.content.addEventListener(l,f=>{this[c](f)})})}_pointerenter(l){this.setPointersPositions(l);const c=_i(l.type);this._fire(c.pointerenter,{evt:l,target:this,currentTarget:this})}_pointerover(l){this.setPointersPositions(l);const c=_i(l.type);this._fire(c.pointerover,{evt:l,target:this,currentTarget:this})}_getTargetShape(l){let c=this[l+"targetShape"];return c&&!c.getStage()&&(c=null),c}_pointerleave(l){const c=_i(l.type),f=fs(l.type);if(c){this.setPointersPositions(l);var m=this._getTargetShape(f),E=!J.isDragging||v.hitOnDragEnabled;m&&E?(m._fireAndBubble(c.pointerout,{evt:l}),m._fireAndBubble(c.pointerleave,{evt:l}),this._fire(c.pointerleave,{evt:l,target:this,currentTarget:this}),this[f+"targetShape"]=null):E&&(this._fire(c.pointerleave,{evt:l,target:this,currentTarget:this}),this._fire(c.pointerout,{evt:l,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(l){const c=_i(l.type),f=fs(l.type);if(c){this.setPointersPositions(l);var m=!1;this._changedPointerPositions.forEach(E=>{var b=this.getIntersection(E);if(J.justDragged=!1,v["_"+f+"ListenClick"]=!0,!b||!b.isListening())return;v.capturePointerEventsEnabled&&b.setPointerCapture(E.id),this[f+"ClickStartShape"]=b,b._fireAndBubble(c.pointerdown,{evt:l,pointerId:E.id}),m=!0;const T=l.type.indexOf("touch")>=0;b.preventDefault()&&l.cancelable&&T&&l.preventDefault()}),m||this._fire(c.pointerdown,{evt:l,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(l){const c=_i(l.type),f=fs(l.type);if(!c||(J.isDragging&&J.node.preventDefault()&&l.cancelable&&l.preventDefault(),this.setPointersPositions(l),J.isDragging&&!v.hitOnDragEnabled))return;var m={};let E=!1;var b=this._getTargetShape(f);this._changedPointerPositions.forEach(T=>{const $=Yn(T.id)||this.getIntersection(T),B=T.id,Y={evt:l,pointerId:B};var Z=b!==$;if(Z&&b&&(b._fireAndBubble(c.pointerout,Object.assign({},Y),$),b._fireAndBubble(c.pointerleave,Object.assign({},Y),$)),$){if(m[$._id])return;m[$._id]=!0}$&&$.isListening()?(E=!0,Z&&($._fireAndBubble(c.pointerover,Object.assign({},Y),b),$._fireAndBubble(c.pointerenter,Object.assign({},Y),b),this[f+"targetShape"]=$),$._fireAndBubble(c.pointermove,Object.assign({},Y))):b&&(this._fire(c.pointerover,{evt:l,target:this,currentTarget:this,pointerId:B}),this[f+"targetShape"]=null)}),E||this._fire(c.pointermove,{evt:l,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(l){const c=_i(l.type),f=fs(l.type);if(!c)return;this.setPointersPositions(l);const m=this[f+"ClickStartShape"],E=this[f+"ClickEndShape"];var b={};let T=!1;this._changedPointerPositions.forEach($=>{const B=Yn($.id)||this.getIntersection($);if(B){if(B.releaseCapture($.id),b[B._id])return;b[B._id]=!0}const Y=$.id,Z={evt:l,pointerId:Y};let ie=!1;v["_"+f+"InDblClickWindow"]?(ie=!0,clearTimeout(this[f+"DblTimeout"])):J.justDragged||(v["_"+f+"InDblClickWindow"]=!0,clearTimeout(this[f+"DblTimeout"])),this[f+"DblTimeout"]=setTimeout(function(){v["_"+f+"InDblClickWindow"]=!1},v.dblClickWindow),B&&B.isListening()?(T=!0,this[f+"ClickEndShape"]=B,B._fireAndBubble(c.pointerup,Object.assign({},Z)),v["_"+f+"ListenClick"]&&m&&m===B&&(B._fireAndBubble(c.pointerclick,Object.assign({},Z)),ie&&E&&E===B&&B._fireAndBubble(c.pointerdblclick,Object.assign({},Z)))):(this[f+"ClickEndShape"]=null,v["_"+f+"ListenClick"]&&this._fire(c.pointerclick,{evt:l,target:this,currentTarget:this,pointerId:Y}),ie&&this._fire(c.pointerdblclick,{evt:l,target:this,currentTarget:this,pointerId:Y}))}),T||this._fire(c.pointerup,{evt:l,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),v["_"+f+"ListenClick"]=!1,l.cancelable&&l.preventDefault()}_contextmenu(l){this.setPointersPositions(l);var c=this.getIntersection(this.getPointerPosition());c&&c.isListening()?c._fireAndBubble(hs,{evt:l}):this._fire(hs,{evt:l,target:this,currentTarget:this})}_wheel(l){this.setPointersPositions(l);var c=this.getIntersection(this.getPointerPosition());c&&c.isListening()?c._fireAndBubble(ds,{evt:l}):this._fire(ds,{evt:l,target:this,currentTarget:this})}_pointercancel(l){this.setPointersPositions(l);const c=Yn(l.pointerId)||this.getIntersection(this.getPointerPosition());c&&c._fireAndBubble(Nr,ce(l)),Le(l.pointerId)}_lostpointercapture(l){Le(l.pointerId)}setPointersPositions(l){var c=this._getContentPosition(),f=null,m=null;(l=l||window.event).touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(l.touches,E=>{this._pointerPositions.push({id:E.identifier,x:(E.clientX-c.left)/c.scaleX,y:(E.clientY-c.top)/c.scaleY})}),Array.prototype.forEach.call(l.changedTouches||l.touches,E=>{this._changedPointerPositions.push({id:E.identifier,x:(E.clientX-c.left)/c.scaleX,y:(E.clientY-c.top)/c.scaleY})})):(f=(l.clientX-c.left)/c.scaleX,m=(l.clientY-c.top)/c.scaleY,this.pointerPos={x:f,y:m},this._pointerPositions=[{x:f,y:m,id:_._getFirstPointerId(l)}],this._changedPointerPositions=[{x:f,y:m,id:_._getFirstPointerId(l)}])}_setPointerPosition(l){_.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(l)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var l=this.content.getBoundingClientRect();return{top:l.top,left:l.left,scaleX:l.width/this.content.clientWidth||1,scaleY:l.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Q({width:this.width(),height:this.height()}),this.bufferHitCanvas=new te({pixelRatio:1,width:this.width(),height:this.height()}),v.isBrowser){var l=this.container();if(!l)throw"Stage has no container. A container is required.";l.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),l.appendChild(this.content),this._resizeDOM()}}cache(){return _.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(l){l.batchDraw()}),this}}ho.prototype.nodeType="Stage",w(ho),I.addGetterSetter(ho,"container");var fo="hasShadow",Qu="shadowRGBA",po="patternImage",go="linearGradient",Ju="radialGradient";let ft;function Tt(){return ft||(ft=_.createCanvasElement().getContext("2d"),ft)}const Jr={};class ue extends pe{constructor(l){let c;for(super(l);c=_.getRandomColor(),!c||c in Jr;);this.colorKey=c,Jr[c]=this}getContext(){return _.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return _.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(fo,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(po,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const l=Tt().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(l&&l.setTransform){const c=new O;c.translate(this.fillPatternX(),this.fillPatternY()),c.rotate(v.getAngle(this.fillPatternRotation())),c.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),c.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const f=c.getMatrix(),m=typeof DOMMatrix>"u"?{a:f[0],b:f[1],c:f[2],d:f[3],e:f[4],f:f[5]}:new DOMMatrix(f);l.setTransform(m)}return l}}_getLinearGradient(){return this._getCache(go,this.__getLinearGradient)}__getLinearGradient(){var l=this.fillLinearGradientColorStops();if(l){for(var c=Tt(),f=this.fillLinearGradientStartPoint(),m=this.fillLinearGradientEndPoint(),E=c.createLinearGradient(f.x,f.y,m.x,m.y),b=0;b<l.length;b+=2)E.addColorStop(l[b],l[b+1]);return E}}_getRadialGradient(){return this._getCache(Ju,this.__getRadialGradient)}__getRadialGradient(){var l=this.fillRadialGradientColorStops();if(l){for(var c=Tt(),f=this.fillRadialGradientStartPoint(),m=this.fillRadialGradientEndPoint(),E=c.createRadialGradient(f.x,f.y,this.fillRadialGradientStartRadius(),m.x,m.y,this.fillRadialGradientEndRadius()),b=0;b<l.length;b+=2)E.addColorStop(l[b],l[b+1]);return E}}getShadowRGBA(){return this._getCache(Qu,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var l=_.colorToRGBA(this.shadowColor());return"rgba("+l.r+","+l.g+","+l.b+","+l.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const l=this.hitStrokeWidth();return l==="auto"?this.hasStroke():this.strokeEnabled()&&!!l}intersects(l){var c=this.getStage().bufferHitCanvas;return c.getContext().clear(),this.drawHit(c,null,!0),c.context.getImageData(Math.round(l.x),Math.round(l.y),1,1).data[3]>0}destroy(){return pe.prototype.destroy.call(this),delete Jr[this.colorKey],delete this.colorKey,this}_useBufferCanvas(l){var c;if(!this.getStage()||(c=this.attrs.perfectDrawEnabled)!==null&&c!==void 0&&!c)return!1;const f=l||this.hasFill(),m=this.hasStroke(),E=this.getAbsoluteOpacity()!==1;if(f&&m&&E)return!0;const b=this.hasShadow(),T=this.shadowForStrokeEnabled();return!!(f&&m&&b&&T)}setStrokeHitEnabled(l){_.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),l?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var l=this.size();return{x:this._centroid?-l.width/2:0,y:this._centroid?-l.height/2:0,width:l.width,height:l.height}}getClientRect(l={}){const c=l.skipTransform,f=l.relativeTo,m=this.getSelfRect(),E=!l.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,b=m.width+E,T=m.height+E,$=!l.skipShadow&&this.hasShadow(),B=$?this.shadowOffsetX():0,Y=$?this.shadowOffsetY():0,Z=b+Math.abs(B),ie=T+Math.abs(Y),oe=$&&this.shadowBlur()||0,ee={width:Z+2*oe,height:ie+2*oe,x:-(E/2+oe)+Math.min(B,0)+m.x,y:-(E/2+oe)+Math.min(Y,0)+m.y};return c?ee:this._transformedRect(ee,f)}drawScene(l,c){var f,m,E=this.getLayer(),b=l||E.getCanvas(),T=b.getContext(),$=this._getCanvasCache(),B=this.getSceneFunc(),Y=this.hasShadow(),Z=b.isCache,ie=c===this;if(!this.isVisible()&&!ie)return this;if($){T.save();var oe=this.getAbsoluteTransform(c).getMatrix();return T.transform(oe[0],oe[1],oe[2],oe[3],oe[4],oe[5]),this._drawCachedSceneCanvas(T),T.restore(),this}if(!B)return this;if(T.save(),this._useBufferCanvas()&&!Z){(m=(f=this.getStage().bufferCanvas).getContext()).clear(),m.save(),m._applyLineJoin(this);var ee=this.getAbsoluteTransform(c).getMatrix();m.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),B.call(this,m,this),m.restore();var fe=f.pixelRatio;Y&&T._applyShadow(this),T._applyOpacity(this),T._applyGlobalCompositeOperation(this),T.drawImage(f._canvas,0,0,f.width/fe,f.height/fe)}else T._applyLineJoin(this),ie||(ee=this.getAbsoluteTransform(c).getMatrix(),T.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),T._applyOpacity(this),T._applyGlobalCompositeOperation(this)),Y&&T._applyShadow(this),B.call(this,T,this);return T.restore(),this}drawHit(l,c,f=!1){if(!this.shouldDrawHit(c,f))return this;var m=this.getLayer(),E=l||m.hitCanvas,b=E&&E.getContext(),T=this.hitFunc()||this.sceneFunc(),$=this._getCanvasCache(),B=$&&$.hit;if(this.colorKey||_.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),B){b.save();var Y=this.getAbsoluteTransform(c).getMatrix();return b.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),this._drawCachedHitCanvas(b),b.restore(),this}if(!T)return this;if(b.save(),b._applyLineJoin(this),this!==c){var Z=this.getAbsoluteTransform(c).getMatrix();b.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5])}return T.call(this,b,this),b.restore(),this}drawHitFromCache(l=0){var c,f,m,E,b,T=this._getCanvasCache(),$=this._getCachedSceneCanvas(),B=T.hit,Y=B.getContext(),Z=B.getWidth(),ie=B.getHeight();Y.clear(),Y.drawImage($._canvas,0,0,Z,ie);try{for(m=(f=(c=Y.getImageData(0,0,Z,ie)).data).length,E=_._hexToRgb(this.colorKey),b=0;b<m;b+=4)f[b+3]>l?(f[b]=E.r,f[b+1]=E.g,f[b+2]=E.b,f[b+3]=255):f[b+3]=0;Y.putImageData(c,0,0)}catch(oe){_.error("Unable to draw hit graph from cached scene canvas. "+oe.message)}return this}hasPointerCapture(l){return we(l,this)}setPointerCapture(l){Pe(l,this)}releaseCapture(l){Le(l)}}ue.prototype._fillFunc=function(y){y.fill()},ue.prototype._strokeFunc=function(y){y.stroke()},ue.prototype._fillFuncHit=function(y){y.fill()},ue.prototype._strokeFuncHit=function(y){y.stroke()},ue.prototype._centroid=!1,ue.prototype.nodeType="Shape",w(ue),ue.prototype.eventListeners={},ue.prototype.on.call(ue.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(fo)}),ue.prototype.on.call(ue.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(Qu)}),ue.prototype.on.call(ue.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function(){this._clearCache(po)}),ue.prototype.on.call(ue.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function(){this._clearCache(go)}),ue.prototype.on.call(ue.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function(){this._clearCache(Ju)}),I.addGetterSetter(ue,"stroke",void 0,X()),I.addGetterSetter(ue,"strokeWidth",2,N()),I.addGetterSetter(ue,"fillAfterStrokeEnabled",!1),I.addGetterSetter(ue,"hitStrokeWidth","auto",function(){if(v.isUnminified)return function(y,l){return _._isNumber(y)||y==="auto"||_.warn(F(y)+' is a not valid value for "'+l+'" attribute. The value should be a number or "auto".'),y}}()),I.addGetterSetter(ue,"strokeHitEnabled",!0,U()),I.addGetterSetter(ue,"perfectDrawEnabled",!0,U()),I.addGetterSetter(ue,"shadowForStrokeEnabled",!0,U()),I.addGetterSetter(ue,"lineJoin"),I.addGetterSetter(ue,"lineCap"),I.addGetterSetter(ue,"sceneFunc"),I.addGetterSetter(ue,"hitFunc"),I.addGetterSetter(ue,"dash"),I.addGetterSetter(ue,"dashOffset",0,N()),I.addGetterSetter(ue,"shadowColor",void 0,V()),I.addGetterSetter(ue,"shadowBlur",0,N()),I.addGetterSetter(ue,"shadowOpacity",1,N()),I.addComponentsGetterSetter(ue,"shadowOffset",["x","y"]),I.addGetterSetter(ue,"shadowOffsetX",0,N()),I.addGetterSetter(ue,"shadowOffsetY",0,N()),I.addGetterSetter(ue,"fillPatternImage"),I.addGetterSetter(ue,"fill",void 0,X()),I.addGetterSetter(ue,"fillPatternX",0,N()),I.addGetterSetter(ue,"fillPatternY",0,N()),I.addGetterSetter(ue,"fillLinearGradientColorStops"),I.addGetterSetter(ue,"strokeLinearGradientColorStops"),I.addGetterSetter(ue,"fillRadialGradientStartRadius",0),I.addGetterSetter(ue,"fillRadialGradientEndRadius",0),I.addGetterSetter(ue,"fillRadialGradientColorStops"),I.addGetterSetter(ue,"fillPatternRepeat","repeat"),I.addGetterSetter(ue,"fillEnabled",!0),I.addGetterSetter(ue,"strokeEnabled",!0),I.addGetterSetter(ue,"shadowEnabled",!0),I.addGetterSetter(ue,"dashEnabled",!0),I.addGetterSetter(ue,"strokeScaleEnabled",!0),I.addGetterSetter(ue,"fillPriority","color"),I.addComponentsGetterSetter(ue,"fillPatternOffset",["x","y"]),I.addGetterSetter(ue,"fillPatternOffsetX",0,N()),I.addGetterSetter(ue,"fillPatternOffsetY",0,N()),I.addComponentsGetterSetter(ue,"fillPatternScale",["x","y"]),I.addGetterSetter(ue,"fillPatternScaleX",1,N()),I.addGetterSetter(ue,"fillPatternScaleY",1,N()),I.addComponentsGetterSetter(ue,"fillLinearGradientStartPoint",["x","y"]),I.addComponentsGetterSetter(ue,"strokeLinearGradientStartPoint",["x","y"]),I.addGetterSetter(ue,"fillLinearGradientStartPointX",0),I.addGetterSetter(ue,"strokeLinearGradientStartPointX",0),I.addGetterSetter(ue,"fillLinearGradientStartPointY",0),I.addGetterSetter(ue,"strokeLinearGradientStartPointY",0),I.addComponentsGetterSetter(ue,"fillLinearGradientEndPoint",["x","y"]),I.addComponentsGetterSetter(ue,"strokeLinearGradientEndPoint",["x","y"]),I.addGetterSetter(ue,"fillLinearGradientEndPointX",0),I.addGetterSetter(ue,"strokeLinearGradientEndPointX",0),I.addGetterSetter(ue,"fillLinearGradientEndPointY",0),I.addGetterSetter(ue,"strokeLinearGradientEndPointY",0),I.addComponentsGetterSetter(ue,"fillRadialGradientStartPoint",["x","y"]),I.addGetterSetter(ue,"fillRadialGradientStartPointX",0),I.addGetterSetter(ue,"fillRadialGradientStartPointY",0),I.addComponentsGetterSetter(ue,"fillRadialGradientEndPoint",["x","y"]),I.addGetterSetter(ue,"fillRadialGradientEndPointX",0),I.addGetterSetter(ue,"fillRadialGradientEndPointY",0),I.addGetterSetter(ue,"fillPatternRotation",0),I.backCompat(ue,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var lr=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],nT=lr.length;class ps extends ot{constructor(l){super(l),this.canvas=new Q,this.hitCanvas=new te({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(l){return this.getContext().clear(l),this.getHitCanvas().getContext().clear(l),this}setZIndex(l){super.setZIndex(l);var c=this.getStage();return c&&c.content&&(c.content.removeChild(this.getNativeCanvasElement()),l<c.children.length-1?c.content.insertBefore(this.getNativeCanvasElement(),c.children[l+1].getCanvas()._canvas):c.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){pe.prototype.moveToTop.call(this);var l=this.getStage();return l&&l.content&&(l.content.removeChild(this.getNativeCanvasElement()),l.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!pe.prototype.moveUp.call(this))return!1;var l=this.getStage();return!(!l||!l.content||(l.content.removeChild(this.getNativeCanvasElement()),this.index<l.children.length-1?l.content.insertBefore(this.getNativeCanvasElement(),l.children[this.index+1].getCanvas()._canvas):l.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(pe.prototype.moveDown.call(this)){var l=this.getStage();if(l){var c=l.children;l.content&&(l.content.removeChild(this.getNativeCanvasElement()),l.content.insertBefore(this.getNativeCanvasElement(),c[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(pe.prototype.moveToBottom.call(this)){var l=this.getStage();if(l){var c=l.children;l.content&&(l.content.removeChild(this.getNativeCanvasElement()),l.content.insertBefore(this.getNativeCanvasElement(),c[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var l=this.getNativeCanvasElement();return pe.prototype.remove.call(this),l&&l.parentNode&&_._isInDocument(l)&&l.parentNode.removeChild(l),this}getStage(){return this.parent}setSize({width:l,height:c}){return this.canvas.setSize(l,c),this.hitCanvas.setSize(l,c),this._setSmoothEnabled(),this}_validateAdd(l){var c=l.getType();c!=="Group"&&c!=="Shape"&&_.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(l){return(l=l||{}).width=l.width||this.getWidth(),l.height=l.height||this.getHeight(),l.x=l.x!==void 0?l.x:this.x(),l.y=l.y!==void 0?l.y:this.y(),pe.prototype._toKonvaCanvas.call(this,l)}_checkVisibility(){const l=this.visible();this.canvas._canvas.style.display=l?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){_.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){_.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,_.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(l){if(!this.isListening()||!this.isVisible())return null;for(var c=1,f=!1;;){for(let m=0;m<nT;m++){const E=lr[m],b=this._getIntersection({x:l.x+E.x*c,y:l.y+E.y*c}),T=b.shape;if(T)return T;if(f=!!b.antialiased,!b.antialiased)break}if(!f)return null;c+=1}}_getIntersection(l){const c=this.hitCanvas.pixelRatio,f=this.hitCanvas.context.getImageData(Math.round(l.x*c),Math.round(l.y*c),1,1).data,m=f[3];if(m===255){const E=_._rgbToHex(f[0],f[1],f[2]),b=Jr["#"+E];return b?{shape:b}:{antialiased:!0}}return m>0?{antialiased:!0}:{}}drawScene(l,c){var f=this.getLayer(),m=l||f&&f.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&m.getContext().clear(),ot.prototype.drawScene.call(this,m,c),this._fire("draw",{node:this}),this}drawHit(l,c){var f=this.getLayer(),m=l||f&&f.hitCanvas;return f&&f.clearBeforeDraw()&&f.getHitCanvas().getContext().clear(),ot.prototype.drawHit.call(this,m,c),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(l){_.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(l)}getHitGraphEnabled(l){return _.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var l=this.parent;this.hitCanvas._canvas.parentNode?l.content.removeChild(this.hitCanvas._canvas):l.content.appendChild(this.hitCanvas._canvas)}}}ps.prototype.nodeType="Layer",w(ps),I.addGetterSetter(ps,"imageSmoothingEnabled",!0),I.addGetterSetter(ps,"clearBeforeDraw",!0),I.addGetterSetter(ps,"hitGraphEnabled",!0,U());class Tf extends ps{constructor(l){super(l),this.listening(!1),_.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Tf.prototype.nodeType="FastLayer",w(Tf);class If extends ot{_validateAdd(l){var c=l.getType();c!=="Group"&&c!=="Shape"&&_.throw("You may only add groups and shapes to groups.")}}If.prototype.nodeType="Group",w(If);var Pf=g.performance&&g.performance.now?function(){return g.performance.now()}:function(){return new Date().getTime()};class wr{constructor(l,c){this.id=wr.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Pf(),frameRate:0},this.func=l,this.setLayers(c)}setLayers(l){var c;return c=l?l.length>0?l:[l]:[],this.layers=c,this}getLayers(){return this.layers}addLayer(l){var c,f=this.layers,m=f.length;for(c=0;c<m;c++)if(f[c]._id===l._id)return!1;return this.layers.push(l),!0}isRunning(){var l,c=wr.animations,f=c.length;for(l=0;l<f;l++)if(c[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Pf(),wr._addAnimation(this),this}stop(){return wr._removeAnimation(this),this}_updateFrameObject(l){this.frame.timeDiff=l-this.frame.lastTime,this.frame.lastTime=l,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(l){this.animations.push(l),this._handleAnimation()}static _removeAnimation(l){var c,f=l.id,m=this.animations,E=m.length;for(c=0;c<E;c++)if(m[c].id===f){this.animations.splice(c,1);break}}static _runFrames(){var l,c,f,m,E,b,T,$,B={},Y=this.animations;for(m=0;m<Y.length;m++)if(c=(l=Y[m]).layers,f=l.func,l._updateFrameObject(Pf()),b=c.length,!f||f.call(l,l.frame)!==!1)for(E=0;E<b;E++)(T=c[E])._id!==void 0&&(B[T._id]=T);for($ in B)B.hasOwnProperty($)&&B[$].batchDraw()}static _animationLoop(){var l=wr;l.animations.length?(l._runFrames(),_.requestAnimFrame(l._animationLoop)):l.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,_.requestAnimFrame(this._animationLoop))}}wr.animations=[],wr.animIdCounter=0,wr.animRunning=!1;var rT={node:1,duration:1,easing:1,onFinish:1,yoyo:1},iT=0,t0=["fill","stroke","shadowColor"];class sT{constructor(l,c,f,m,E,b,T){this.prop=l,this.propFunc=c,this.begin=m,this._pos=m,this.duration=b,this._change=0,this.prevPos=0,this.yoyo=T,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=f,this._change=E-this.begin,this.pause()}fire(l){var c=this[l];c&&c()}setTime(l){l>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():l<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=l,this.update())}getTime(){return this._time}setPosition(l){this.prevPos=this._pos,this.propFunc(l),this._pos=l}getPosition(l){return l===void 0&&(l=this._time),this.func(l,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(l){this.pause(),this._time=l,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var l=this.getTimer()-this._startTime;this.state===2?this.setTime(l):this.state===3&&this.setTime(this.duration-l)}pause(){this.state=1,this.fire("onPause")}getTimer(){return new Date().getTime()}}class It{constructor(l){var c,f,m=this,E=l.node,b=E._id,T=l.easing||Ua.Linear,$=!!l.yoyo;c=l.duration===void 0?.3:l.duration===0?.001:l.duration,this.node=E,this._id=iT++;var B=E.getLayer()||(E instanceof v.Stage?E.getLayers():null);for(f in B||_.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new wr(function(){m.tween.onEnterFrame()},B),this.tween=new sT(f,function(Y){m._tweenFunc(Y)},T,0,1,1e3*c,$),this._addListeners(),It.attrs[b]||(It.attrs[b]={}),It.attrs[b][this._id]||(It.attrs[b][this._id]={}),It.tweens[b]||(It.tweens[b]={}),l)rT[f]===void 0&&this._addAttr(f,l[f]);this.reset(),this.onFinish=l.onFinish,this.onReset=l.onReset,this.onUpdate=l.onUpdate}_addAttr(l,c){var f,m,E,b,T,$,B,Y,Z=this.node,ie=Z._id;if((E=It.tweens[ie][l])&&delete It.attrs[ie][E][l],f=Z.getAttr(l),_._isArray(c))if(m=[],T=Math.max(c.length,f.length),l==="points"&&c.length!==f.length&&(c.length>f.length?(B=f,f=_._prepareArrayForTween(f,c,Z.closed())):($=c,c=_._prepareArrayForTween(c,f,Z.closed()))),l.indexOf("fill")===0)for(b=0;b<T;b++)if(b%2==0)m.push(c[b]-f[b]);else{var oe=_.colorToRGBA(f[b]);Y=_.colorToRGBA(c[b]),f[b]=oe,m.push({r:Y.r-oe.r,g:Y.g-oe.g,b:Y.b-oe.b,a:Y.a-oe.a})}else for(b=0;b<T;b++)m.push(c[b]-f[b]);else t0.indexOf(l)!==-1?(f=_.colorToRGBA(f),m={r:(Y=_.colorToRGBA(c)).r-f.r,g:Y.g-f.g,b:Y.b-f.b,a:Y.a-f.a}):m=c-f;It.attrs[ie][this._id][l]={start:f,diff:m,end:c,trueEnd:$,trueStart:B},It.tweens[ie][l]=this._id}_tweenFunc(l){var c,f,m,E,b,T,$,B,Y=this.node,Z=It.attrs[Y._id][this._id];for(c in Z){if(m=(f=Z[c]).start,E=f.diff,B=f.end,_._isArray(m))if(b=[],$=Math.max(m.length,B.length),c.indexOf("fill")===0)for(T=0;T<$;T++)T%2==0?b.push((m[T]||0)+E[T]*l):b.push("rgba("+Math.round(m[T].r+E[T].r*l)+","+Math.round(m[T].g+E[T].g*l)+","+Math.round(m[T].b+E[T].b*l)+","+(m[T].a+E[T].a*l)+")");else for(T=0;T<$;T++)b.push((m[T]||0)+E[T]*l);else b=t0.indexOf(c)!==-1?"rgba("+Math.round(m.r+E.r*l)+","+Math.round(m.g+E.g*l)+","+Math.round(m.b+E.b*l)+","+(m.a+E.a*l)+")":m+E*l;Y.setAttr(c,b)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var l=this.node,c=It.attrs[l._id][this._id];c.points&&c.points.trueEnd&&l.setAttr("points",c.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var l=this.node,c=It.attrs[l._id][this._id];c.points&&c.points.trueStart&&l.points(c.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(l){return this.tween.seek(1e3*l),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var l,c=this.node._id,f=this._id,m=It.tweens[c];for(l in this.pause(),m)delete It.tweens[c][l];delete It.attrs[c][f]}}It.attrs={},It.tweens={},pe.prototype.to=function(y){var l=y.onFinish;y.node=this,y.onFinish=function(){this.destroy(),l&&l()},new It(y).play()};const Ua={BackEaseIn(y,l,c,f){var m=1.70158;return c*(y/=f)*y*((m+1)*y-m)+l},BackEaseOut(y,l,c,f){var m=1.70158;return c*((y=y/f-1)*y*((m+1)*y+m)+1)+l},BackEaseInOut(y,l,c,f){var m=1.70158;return(y/=f/2)<1?c/2*(y*y*((1+(m*=1.525))*y-m))+l:c/2*((y-=2)*y*((1+(m*=1.525))*y+m)+2)+l},ElasticEaseIn(y,l,c,f,m,E){var b=0;return y===0?l:(y/=f)==1?l+c:(E||(E=.3*f),!m||m<Math.abs(c)?(m=c,b=E/4):b=E/(2*Math.PI)*Math.asin(c/m),-m*Math.pow(2,10*(y-=1))*Math.sin((y*f-b)*(2*Math.PI)/E)+l)},ElasticEaseOut(y,l,c,f,m,E){var b=0;return y===0?l:(y/=f)==1?l+c:(E||(E=.3*f),!m||m<Math.abs(c)?(m=c,b=E/4):b=E/(2*Math.PI)*Math.asin(c/m),m*Math.pow(2,-10*y)*Math.sin((y*f-b)*(2*Math.PI)/E)+c+l)},ElasticEaseInOut(y,l,c,f,m,E){var b=0;return y===0?l:(y/=f/2)==2?l+c:(E||(E=f*(.3*1.5)),!m||m<Math.abs(c)?(m=c,b=E/4):b=E/(2*Math.PI)*Math.asin(c/m),y<1?m*Math.pow(2,10*(y-=1))*Math.sin((y*f-b)*(2*Math.PI)/E)*-.5+l:m*Math.pow(2,-10*(y-=1))*Math.sin((y*f-b)*(2*Math.PI)/E)*.5+c+l)},BounceEaseOut:(y,l,c,f)=>(y/=f)<1/2.75?c*(7.5625*y*y)+l:y<2/2.75?c*(7.5625*(y-=1.5/2.75)*y+.75)+l:y<2.5/2.75?c*(7.5625*(y-=2.25/2.75)*y+.9375)+l:c*(7.5625*(y-=2.625/2.75)*y+.984375)+l,BounceEaseIn:(y,l,c,f)=>c-Ua.BounceEaseOut(f-y,0,c,f)+l,BounceEaseInOut:(y,l,c,f)=>y<f/2?.5*Ua.BounceEaseIn(2*y,0,c,f)+l:.5*Ua.BounceEaseOut(2*y-f,0,c,f)+.5*c+l,EaseIn:(y,l,c,f)=>c*(y/=f)*y+l,EaseOut:(y,l,c,f)=>-c*(y/=f)*(y-2)+l,EaseInOut:(y,l,c,f)=>(y/=f/2)<1?c/2*y*y+l:-c/2*(--y*(y-2)-1)+l,StrongEaseIn:(y,l,c,f)=>c*(y/=f)*y*y*y*y+l,StrongEaseOut:(y,l,c,f)=>c*((y=y/f-1)*y*y*y*y+1)+l,StrongEaseInOut:(y,l,c,f)=>(y/=f/2)<1?c/2*y*y*y*y*y+l:c/2*((y-=2)*y*y*y*y+2)+l,Linear:(y,l,c,f)=>c*y/f+l},Zr=_._assign(v,{Util:_,Transform:O,Node:pe,Container:ot,Stage:ho,stages:co,Layer:ps,FastLayer:Tf,Group:If,DD:J,Shape:ue,shapes:Jr,Animation:wr,Tween:It,Easings:Ua,Context:L,Canvas:K});var oT=o(918),n0=o.n(oT),aT=o(303),lT=o.n(aT);class Or extends ue{constructor(l){super(l),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const l=this.image();l&&l.complete||l&&l.readyState===4||l&&l.addEventListener&&l.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(l){const c=this.getWidth(),f=this.getHeight(),m=this.attrs.image;let E;if(m){const b=this.attrs.cropWidth,T=this.attrs.cropHeight;E=b&&T?[m,this.cropX(),this.cropY(),b,T,0,0,c,f]:[m,0,0,c,f]}(this.hasFill()||this.hasStroke())&&(l.beginPath(),l.rect(0,0,c,f),l.closePath(),l.fillStrokeShape(this)),m&&l.drawImage.apply(l,E)}_hitFunc(l){var c=this.width(),f=this.height();l.beginPath(),l.rect(0,0,c,f),l.closePath(),l.fillStrokeShape(this)}getWidth(){var l,c;return(l=this.attrs.width)!==null&&l!==void 0?l:(c=this.image())===null||c===void 0?void 0:c.width}getHeight(){var l,c;return(l=this.attrs.height)!==null&&l!==void 0?l:(c=this.image())===null||c===void 0?void 0:c.height}static fromURL(l,c,f=null){var m=_.createImageElement();m.onload=function(){var E=new Or({image:m});c(E)},m.onerror=f,m.crossOrigin="Anonymous",m.src=l}}Or.prototype.className="Image",w(Or),I.addGetterSetter(Or,"image"),I.addComponentsGetterSetter(Or,"crop",["x","y","width","height"]),I.addGetterSetter(Or,"cropX",0,N()),I.addGetterSetter(Or,"cropY",0,N()),I.addGetterSetter(Or,"cropWidth",0,N()),I.addGetterSetter(Or,"cropHeight",0,N());class Ba extends ue{_sceneFunc(l){l.beginPath(),l.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),l.closePath(),l.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(l){this.radius()!==l/2&&this.radius(l/2)}setHeight(l){this.radius()!==l/2&&this.radius(l/2)}}Ba.prototype._centroid=!0,Ba.prototype.className="Circle",Ba.prototype._attrsAffectingSize=["radius"],w(Ba),I.addGetterSetter(Ba,"radius",0,N());class Rf extends ue{_sceneFunc(l){var c=this.cornerRadius(),f=this.width(),m=this.height();if(l.beginPath(),c){let E=0,b=0,T=0,$=0;typeof c=="number"?E=b=T=$=Math.min(c,f/2,m/2):(E=Math.min(c[0]||0,f/2,m/2),b=Math.min(c[1]||0,f/2,m/2),$=Math.min(c[2]||0,f/2,m/2),T=Math.min(c[3]||0,f/2,m/2)),l.moveTo(E,0),l.lineTo(f-b,0),l.arc(f-b,b,b,3*Math.PI/2,0,!1),l.lineTo(f,m-$),l.arc(f-$,m-$,$,0,Math.PI/2,!1),l.lineTo(T,m),l.arc(T,m-T,T,Math.PI/2,Math.PI,!1),l.lineTo(0,E),l.arc(E,E,E,Math.PI,3*Math.PI/2,!1)}else l.rect(0,0,f,m);l.closePath(),l.fillStrokeShape(this)}}Rf.prototype.className="Rect",w(Rf),I.addGetterSetter(Rf,"cornerRadius",0,function(y){if(v.isUnminified)return function(l,c){let f=_._isNumber(l),m=_._isArray(l)&&l.length==4;return f||m||_.warn(F(l)+' is a not valid value for "'+c+'" attribute. The value should be a number or Array<number>(4)'),l}}());class Pn extends ue{constructor(l){super(l),this.dataArray=[],this.pathLength=0,this.dataArray=Pn.parsePathData(this.data()),this.pathLength=0;for(var c=0;c<this.dataArray.length;++c)this.pathLength+=this.dataArray[c].pathLength;this.on("dataChange.konva",function(){this.dataArray=Pn.parsePathData(this.data()),this.pathLength=0;for(var f=0;f<this.dataArray.length;++f)this.pathLength+=this.dataArray[f].pathLength})}_sceneFunc(l){var c=this.dataArray;l.beginPath();for(var f=!1,m=0;m<c.length;m++){var E=c[m].command,b=c[m].points;switch(E){case"L":l.lineTo(b[0],b[1]);break;case"M":l.moveTo(b[0],b[1]);break;case"C":l.bezierCurveTo(b[0],b[1],b[2],b[3],b[4],b[5]);break;case"Q":l.quadraticCurveTo(b[0],b[1],b[2],b[3]);break;case"A":var T=b[0],$=b[1],B=b[2],Y=b[3],Z=b[4],ie=b[5],oe=b[6],ee=b[7],fe=B>Y?B:Y,st=B>Y?1:B/Y,Yt=B>Y?Y/B:1;l.translate(T,$),l.rotate(oe),l.scale(st,Yt),l.arc(0,0,fe,Z,Z+ie,1-ee),l.scale(1/st,1/Yt),l.rotate(-oe),l.translate(-T,-$);break;case"z":f=!0,l.closePath()}}f||this.hasFill()?l.fillStrokeShape(this):l.strokeShape(this)}getSelfRect(){var l=[];this.dataArray.forEach(function(B){if(B.command==="A"){var Y=B.points[4],Z=B.points[5],ie=B.points[4]+Z,oe=Math.PI/180;if(Math.abs(Y-ie)<oe&&(oe=Math.abs(Y-ie)),Z<0)for(let ee=Y-oe;ee>ie;ee-=oe){const fe=Pn.getPointOnEllipticalArc(B.points[0],B.points[1],B.points[2],B.points[3],ee,0);l.push(fe.x,fe.y)}else for(let ee=Y+oe;ee<ie;ee+=oe){const fe=Pn.getPointOnEllipticalArc(B.points[0],B.points[1],B.points[2],B.points[3],ee,0);l.push(fe.x,fe.y)}}else if(B.command==="C")for(let ee=0;ee<=1;ee+=.01){const fe=Pn.getPointOnCubicBezier(ee,B.start.x,B.start.y,B.points[0],B.points[1],B.points[2],B.points[3],B.points[4],B.points[5]);l.push(fe.x,fe.y)}else l=l.concat(B.points)});for(var c,f,m=l[0],E=l[0],b=l[1],T=l[1],$=0;$<l.length/2;$++)c=l[2*$],f=l[2*$+1],isNaN(c)||(m=Math.min(m,c),E=Math.max(E,c)),isNaN(f)||(b=Math.min(b,f),T=Math.max(T,f));return{x:m,y:b,width:E-m,height:T-b}}getLength(){return this.pathLength}getPointAtLength(l){var c,f=0,m=this.dataArray.length;if(!m)return null;for(;f<m&&l>this.dataArray[f].pathLength;)l-=this.dataArray[f].pathLength,++f;if(f===m)return{x:(c=this.dataArray[f-1].points.slice(-2))[0],y:c[1]};if(l<.01)return{x:(c=this.dataArray[f].points.slice(0,2))[0],y:c[1]};var E=this.dataArray[f],b=E.points;switch(E.command){case"L":return Pn.getPointOnLine(l,E.start.x,E.start.y,b[0],b[1]);case"C":return Pn.getPointOnCubicBezier(l/E.pathLength,E.start.x,E.start.y,b[0],b[1],b[2],b[3],b[4],b[5]);case"Q":return Pn.getPointOnQuadraticBezier(l/E.pathLength,E.start.x,E.start.y,b[0],b[1],b[2],b[3]);case"A":var T=b[0],$=b[1],B=b[2],Y=b[3],Z=b[4],ie=b[5],oe=b[6];return Z+=ie*l/E.pathLength,Pn.getPointOnEllipticalArc(T,$,B,Y,Z,oe)}return null}static getLineLength(l,c,f,m){return Math.sqrt((f-l)*(f-l)+(m-c)*(m-c))}static getPointOnLine(l,c,f,m,E,b,T){b===void 0&&(b=c),T===void 0&&(T=f);var $=(E-f)/(m-c+1e-8),B=Math.sqrt(l*l/(1+$*$));m<c&&(B*=-1);var Y,Z=$*B;if(m===c)Y={x:b,y:T+Z};else if((T-f)/(b-c+1e-8)===$)Y={x:b+B,y:T+Z};else{var ie,oe,ee=this.getLineLength(c,f,m,E),fe=(b-c)*(m-c)+(T-f)*(E-f);ie=c+(fe/=ee*ee)*(m-c),oe=f+fe*(E-f);var st=this.getLineLength(b,T,ie,oe),Yt=Math.sqrt(l*l-st*st);B=Math.sqrt(Yt*Yt/(1+$*$)),m<c&&(B*=-1),Y={x:ie+B,y:oe+(Z=$*B)}}return Y}static getPointOnCubicBezier(l,c,f,m,E,b,T,$,B){function Y(ee){return ee*ee*ee}function Z(ee){return 3*ee*ee*(1-ee)}function ie(ee){return 3*ee*(1-ee)*(1-ee)}function oe(ee){return(1-ee)*(1-ee)*(1-ee)}return{x:$*Y(l)+b*Z(l)+m*ie(l)+c*oe(l),y:B*Y(l)+T*Z(l)+E*ie(l)+f*oe(l)}}static getPointOnQuadraticBezier(l,c,f,m,E,b,T){function $(Z){return Z*Z}function B(Z){return 2*Z*(1-Z)}function Y(Z){return(1-Z)*(1-Z)}return{x:b*$(l)+m*B(l)+c*Y(l),y:T*$(l)+E*B(l)+f*Y(l)}}static getPointOnEllipticalArc(l,c,f,m,E,b){var T=Math.cos(b),$=Math.sin(b),B=f*Math.cos(E),Y=m*Math.sin(E);return{x:l+(B*T-Y*$),y:c+(B*$+Y*T)}}static parsePathData(l){if(!l)return[];var c=l,f=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];c=c.replace(new RegExp(" ","g"),",");for(var m=0;m<f.length;m++)c=c.replace(new RegExp(f[m],"g"),"|"+f[m]);var E,b=c.split("|"),T=[],$=[],B=0,Y=0,Z=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(m=1;m<b.length;m++){var ie=b[m],oe=ie.charAt(0);for(ie=ie.slice(1),$.length=0;E=Z.exec(ie);)$.push(E[0]);for(var ee=[],fe=0,st=$.length;fe<st;fe++)if($[fe]!=="00"){var Yt=parseFloat($[fe]);isNaN(Yt)?ee.push(0):ee.push(Yt)}else ee.push(0,0);for(;ee.length>0&&!isNaN(ee[0]);){var Pt,Dt,Rt,Lr,ei,xr,Sr,vn,Mt,_e,Ue=null,Be=[],gs=B,ec=Y;switch(oe){case"l":B+=ee.shift(),Y+=ee.shift(),Ue="L",Be.push(B,Y);break;case"L":B=ee.shift(),Y=ee.shift(),Be.push(B,Y);break;case"m":var tc=ee.shift(),za=ee.shift();if(B+=tc,Y+=za,Ue="M",T.length>2&&T[T.length-1].command==="z"){for(var ms=T.length-2;ms>=0;ms--)if(T[ms].command==="M"){B=T[ms].points[0]+tc,Y=T[ms].points[1]+za;break}}Be.push(B,Y),oe="l";break;case"M":B=ee.shift(),Y=ee.shift(),Ue="M",Be.push(B,Y),oe="L";break;case"h":B+=ee.shift(),Ue="L",Be.push(B,Y);break;case"H":B=ee.shift(),Ue="L",Be.push(B,Y);break;case"v":Y+=ee.shift(),Ue="L",Be.push(B,Y);break;case"V":Y=ee.shift(),Ue="L",Be.push(B,Y);break;case"C":Be.push(ee.shift(),ee.shift(),ee.shift(),ee.shift()),B=ee.shift(),Y=ee.shift(),Be.push(B,Y);break;case"c":Be.push(B+ee.shift(),Y+ee.shift(),B+ee.shift(),Y+ee.shift()),B+=ee.shift(),Y+=ee.shift(),Ue="C",Be.push(B,Y);break;case"S":Dt=B,Rt=Y,(Pt=T[T.length-1]).command==="C"&&(Dt=B+(B-Pt.points[2]),Rt=Y+(Y-Pt.points[3])),Be.push(Dt,Rt,ee.shift(),ee.shift()),B=ee.shift(),Y=ee.shift(),Ue="C",Be.push(B,Y);break;case"s":Dt=B,Rt=Y,(Pt=T[T.length-1]).command==="C"&&(Dt=B+(B-Pt.points[2]),Rt=Y+(Y-Pt.points[3])),Be.push(Dt,Rt,B+ee.shift(),Y+ee.shift()),B+=ee.shift(),Y+=ee.shift(),Ue="C",Be.push(B,Y);break;case"Q":Be.push(ee.shift(),ee.shift()),B=ee.shift(),Y=ee.shift(),Be.push(B,Y);break;case"q":Be.push(B+ee.shift(),Y+ee.shift()),B+=ee.shift(),Y+=ee.shift(),Ue="Q",Be.push(B,Y);break;case"T":Dt=B,Rt=Y,(Pt=T[T.length-1]).command==="Q"&&(Dt=B+(B-Pt.points[0]),Rt=Y+(Y-Pt.points[1])),B=ee.shift(),Y=ee.shift(),Ue="Q",Be.push(Dt,Rt,B,Y);break;case"t":Dt=B,Rt=Y,(Pt=T[T.length-1]).command==="Q"&&(Dt=B+(B-Pt.points[0]),Rt=Y+(Y-Pt.points[1])),B+=ee.shift(),Y+=ee.shift(),Ue="Q",Be.push(Dt,Rt,B,Y);break;case"A":Lr=ee.shift(),ei=ee.shift(),xr=ee.shift(),Sr=ee.shift(),vn=ee.shift(),Mt=B,_e=Y,B=ee.shift(),Y=ee.shift(),Ue="A",Be=this.convertEndpointToCenterParameterization(Mt,_e,B,Y,Sr,vn,Lr,ei,xr);break;case"a":Lr=ee.shift(),ei=ee.shift(),xr=ee.shift(),Sr=ee.shift(),vn=ee.shift(),Mt=B,_e=Y,B+=ee.shift(),Y+=ee.shift(),Ue="A",Be=this.convertEndpointToCenterParameterization(Mt,_e,B,Y,Sr,vn,Lr,ei,xr)}T.push({command:Ue||oe,points:Be,start:{x:gs,y:ec},pathLength:this.calcLength(gs,ec,Ue||oe,Be)})}oe!=="z"&&oe!=="Z"||T.push({command:"z",points:[],start:void 0,pathLength:0})}return T}static calcLength(l,c,f,m){var E,b,T,$,B=Pn;switch(f){case"L":return B.getLineLength(l,c,m[0],m[1]);case"C":for(E=0,b=B.getPointOnCubicBezier(0,l,c,m[0],m[1],m[2],m[3],m[4],m[5]),$=.01;$<=1;$+=.01)T=B.getPointOnCubicBezier($,l,c,m[0],m[1],m[2],m[3],m[4],m[5]),E+=B.getLineLength(b.x,b.y,T.x,T.y),b=T;return E;case"Q":for(E=0,b=B.getPointOnQuadraticBezier(0,l,c,m[0],m[1],m[2],m[3]),$=.01;$<=1;$+=.01)T=B.getPointOnQuadraticBezier($,l,c,m[0],m[1],m[2],m[3]),E+=B.getLineLength(b.x,b.y,T.x,T.y),b=T;return E;case"A":E=0;var Y=m[4],Z=m[5],ie=m[4]+Z,oe=Math.PI/180;if(Math.abs(Y-ie)<oe&&(oe=Math.abs(Y-ie)),b=B.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],Y,0),Z<0)for($=Y-oe;$>ie;$-=oe)T=B.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],$,0),E+=B.getLineLength(b.x,b.y,T.x,T.y),b=T;else for($=Y+oe;$<ie;$+=oe)T=B.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],$,0),E+=B.getLineLength(b.x,b.y,T.x,T.y),b=T;return T=B.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],ie,0),E+B.getLineLength(b.x,b.y,T.x,T.y)}return 0}static convertEndpointToCenterParameterization(l,c,f,m,E,b,T,$,B){var Y=B*(Math.PI/180),Z=Math.cos(Y)*(l-f)/2+Math.sin(Y)*(c-m)/2,ie=-1*Math.sin(Y)*(l-f)/2+Math.cos(Y)*(c-m)/2,oe=Z*Z/(T*T)+ie*ie/($*$);oe>1&&(T*=Math.sqrt(oe),$*=Math.sqrt(oe));var ee=Math.sqrt((T*T*($*$)-T*T*(ie*ie)-$*$*(Z*Z))/(T*T*(ie*ie)+$*$*(Z*Z)));E===b&&(ee*=-1),isNaN(ee)&&(ee=0);var fe=ee*T*ie/$,st=ee*-$*Z/T,Yt=(l+f)/2+Math.cos(Y)*fe-Math.sin(Y)*st,Pt=(c+m)/2+Math.sin(Y)*fe+Math.cos(Y)*st,Dt=function(Mt){return Math.sqrt(Mt[0]*Mt[0]+Mt[1]*Mt[1])},Rt=function(Mt,_e){return(Mt[0]*_e[0]+Mt[1]*_e[1])/(Dt(Mt)*Dt(_e))},Lr=function(Mt,_e){return(Mt[0]*_e[1]<Mt[1]*_e[0]?-1:1)*Math.acos(Rt(Mt,_e))},ei=Lr([1,0],[(Z-fe)/T,(ie-st)/$]),xr=[(Z-fe)/T,(ie-st)/$],Sr=[(-1*Z-fe)/T,(-1*ie-st)/$],vn=Lr(xr,Sr);return Rt(xr,Sr)<=-1&&(vn=Math.PI),Rt(xr,Sr)>=1&&(vn=0),b===0&&vn>0&&(vn-=2*Math.PI),b===1&&vn<0&&(vn+=2*Math.PI),[Yt,Pt,T,$,ei,vn,Y,b]}}function r0(y){return(r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(y)}function i0(y,l){var c=Object.keys(y);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(y);l&&(f=f.filter(function(m){return Object.getOwnPropertyDescriptor(y,m).enumerable})),c.push.apply(c,f)}return c}function Zu(y){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?i0(Object(c),!0).forEach(function(f){o0(y,f,c[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(c)):i0(Object(c)).forEach(function(f){Object.defineProperty(y,f,Object.getOwnPropertyDescriptor(c,f))})}return y}function uT(y,l){for(var c=0;c<l.length;c++){var f=l[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(y,f.key,f)}}function s0(y,l){return(s0=Object.setPrototypeOf||function(c,f){return c.__proto__=f,c})(y,l)}function cT(y,l){return!l||r0(l)!=="object"&&typeof l!="function"?Af(y):l}function Af(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function Nf(y){return(Nf=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(y)}function o0(y,l,c){return l in y?Object.defineProperty(y,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):y[l]=c,y}Pn.prototype.className="Path",Pn.prototype._attrsAffectingSize=["data"],w(Pn),I.addGetterSetter(Pn,"data");var a0=function(y){(function(T,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create($&&$.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),$&&s0(T,$)})(b,y);var l,c,f,m,E=(f=b,m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}(),function(){var T,$=Nf(f);if(m){var B=Nf(this).constructor;T=Reflect.construct($,arguments,B)}else T=$.apply(this,arguments);return cT(this,T)});function b(T){var $;(function(Z,ie){if(!(Z instanceof ie))throw new TypeError("Cannot call a class as a function")})(this,b);var B=($=E.call(this,T)).generateHash("avatar_container"),Y=$.generateHash("avatar_loader");return $.onFileLoad=$.onFileLoad.bind(Af($)),$.onCloseClick=$.onCloseClick.bind(Af($)),$.state={imgWidth:0,imgHeight:0,scale:1,containerId:B,loaderId:Y,lastMouseY:0,showLoader:!($.props.src||$.props.img)},$}return l=b,(c=[{key:"generateHash",value:function(T){var $=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return T+"-"+$()+"-"+$()+"-"+$()}},{key:"onCloseCallback",value:function(){this.props.onClose()}},{key:"onCropCallback",value:function(T){this.props.onCrop(T)}},{key:"onFileLoadCallback",value:function(T){this.props.onFileLoad(T)}},{key:"onBeforeFileLoadCallback",value:function(T){this.props.onBeforeFileLoad(T)}},{key:"onImageLoadCallback",value:function(T){this.props.onImageLoad(T)}},{key:"componentDidMount",value:function(){var T=this;if(!this.state.showLoader){var $=this.props.img||new Image;$.crossOrigin="Anonymous",!this.props.img&&this.props.src&&($.src=this.props.src),this.setState({image:$},function(){if(T.image.complete)return T.init();T.image.onload=function(){T.onImageLoadCallback(T.image),T.init()}})}}},{key:"componentDidUpdate",value:function(T,$){T.src!==this.props.src&&(this.image.src=this.props.src)}},{key:"onFileLoad",value:function(T){if(T.preventDefault(),this.onBeforeFileLoadCallback(T),T.target.value){var $=T.target.files[0];this.onFileLoadCallback($);var B=this;n0().getData($,function(){var Y=n0().getTag(this,"Orientation");lT()($,function(Z,ie){B.setState({image:Z,file:$,showLoader:!1},function(){B.init()})},{orientation:Y,meta:!0})})}}},{key:"onCloseClick",value:function(){var T=this;this.setState({showLoader:!0},function(){return T.onCloseCallback()})}},{key:"init",value:function(){var T,$,B=this.props,Y=B.height,Z=B.minCropRadius,ie=B.cropRadius,oe=this.image.width,ee=this.image.height,fe=ee/oe,st=this.props,Yt=st.imageWidth,Pt=st.imageHeight;Pt&&Yt&&console.warn("The imageWidth and imageHeight properties can not be set together, using only imageWidth."),Pt&&!Yt?$=(T=Pt||ee)/fe:Yt?T=($=Yt)*fe||ee:$=(T=Y||ee)/fe;var Dt=T/ee,Rt=Math.max(Z,ie||Math.min($,T)/3);this.setState({imgWidth:$,imgHeight:T,scale:Dt,cropRadius:Rt},this.initCanvas)}},{key:"initCanvas",value:function(){var T=this,$=this.initStage(),B=this.initBackground(),Y=this.initShading(),Z=this.initCrop(),ie=this.initCropStroke(),oe=this.initResize(),ee=this.initResizeIcon(),fe=new Zr.Layer;fe.add(B),fe.add(Y),fe.add(ie),fe.add(Z),fe.add(oe),fe.add(ee),$.add(fe);var st=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Z.radius()-_e},Yt=function(_e){return Z.x()-st(_e)<0},Pt=function(_e){return Z.y()-st(_e)<0},Dt=function(_e){return Z.x()+st(_e)>$.width()},Rt=function(_e){return Z.y()+st(_e)>$.height()},Lr=function(_e){return st(_e)>=T.minCropRadius?_e:Z.radius()-T.minCropRadius},ei=function(_e){return _e+.86*Z.radius()},xr=function(_e){return _e-.5*Z.radius()},Sr=function(_e,Ue){oe.x(ei(_e)-8),oe.y(xr(Ue)-8),ee.x(ei(_e)-8),ee.y(xr(Ue)-10)},vn=function(){if(T.props.exportAsSquare){var _e=new Zr.Image({image:T.image}),Ue=_e.width()/B.width(),Be=_e.height()/B.height(),gs=2*Z.radius()*Ue,ec=2*Z.radius()*Be,tc=T.props.exportSize?T.props.exportSize/gs:void 0;return _e.toDataURL({x:(Z.x()-Z.radius())*Ue,y:(Z.y()-Z.radius())*Be,width:gs,height:ec,pixelRatio:tc,mimeType:T.props.exportMimeType,quality:T.props.exportQuality})}var za=2*Z.radius(),ms=2*Z.radius(),dT=T.props.exportSize?T.props.exportSize/za:void 0;return Z.toDataURL({x:Z.x()-Z.radius(),y:Z.y()-Z.radius(),width:za,height:ms,pixelRatio:dT,mimeType:T.props.exportMimeType,quality:T.props.exportQuality})},Mt=function(_e){var Ue=_e>0||function(Be){return!(Yt(Be)||Dt(Be)||Rt(Be)||Pt(Be))}(_e)?_e:0;ie.radius(ie.radius()-Lr(Ue)),Z.radius(Z.radius()-Lr(Ue)),oe.fire("resize")};this.onCropCallback(vn()),Z.on("dragmove",function(){return Z.fire("resize")}),Z.on("dragend",function(){return T.onCropCallback(vn())}),Z.on("resize",function(){var _e=Yt()?Z.radius()+1:Dt()?$.width()-Z.radius()-1:Z.x(),Ue=Pt()?Z.radius()+1:Rt()?$.height()-Z.radius()-1:Z.y();Sr(_e,Ue),Z.setFillPatternOffset({x:_e/T.scale,y:Ue/T.scale}),Z.x(_e),ie.x(_e),Z.y(Ue),ie.y(Ue)}),Z.on("mouseenter",function(){return $.container().style.cursor="move"}),Z.on("mouseleave",function(){return $.container().style.cursor="default"}),Z.on("dragstart",function(){return $.container().style.cursor="move"}),Z.on("dragend",function(){return $.container().style.cursor="default"}),oe.on("touchstart",function(_e){oe.on("dragmove",function(Ue){if(Ue.evt.type==="touchmove"){var Be=Ue.evt.changedTouches[0].pageY-_e.evt.changedTouches[0].pageY||0;Mt(Be*T.mobileScaleSpeed)}})}),oe.on("dragmove",function(_e){if(_e.evt.type!=="touchmove"){var Ue=_e.evt.y,Be=Ue?Ue-T.state.lastMouseY:void 0,gs=_e.evt.movementY||Be||0;T.setState({lastMouseY:Ue}),Mt(gs)}}),oe.on("dragend",function(){return T.onCropCallback(vn())}),oe.on("resize",function(){return Sr(Z.x(),Z.y())}),oe.on("mouseenter",function(){return $.container().style.cursor="nesw-resize"}),oe.on("mouseleave",function(){return $.container().style.cursor="default"}),oe.on("dragstart",function(_e){T.setState({lastMouseY:_e.evt.y}),$.container().style.cursor="nesw-resize"}),oe.on("dragend",function(){return $.container().style.cursor="default"})}},{key:"initStage",value:function(){return new Zr.Stage({container:this.containerId,width:this.width,height:this.height})}},{key:"initBackground",value:function(){return new Zr.Image({x:0,y:0,width:this.width,height:this.height,image:this.image})}},{key:"initShading",value:function(){return new Zr.Rect({x:0,y:0,width:this.width,height:this.height,fill:this.shadingColor,strokeWidth:4,opacity:this.shadingOpacity})}},{key:"initCrop",value:function(){return new Zr.Circle({x:this.halfWidth,y:this.halfHeight,radius:this.cropRadius,fillPatternImage:this.image,fillPatternOffset:{x:this.halfWidth/this.scale,y:this.halfHeight/this.scale},fillPatternScale:{x:this.scale,y:this.scale},opacity:1,draggable:!0,dashEnabled:!0,dash:[10,5]})}},{key:"initCropStroke",value:function(){return new Zr.Circle({x:this.halfWidth,y:this.halfHeight,radius:this.cropRadius,stroke:this.cropColor,strokeWidth:this.lineWidth,strokeScaleEnabled:!0,dashEnabled:!0,dash:[10,5]})}},{key:"initResize",value:function(){return new Zr.Rect({x:this.halfWidth+.86*this.cropRadius-8,y:this.halfHeight+-.5*this.cropRadius-8,width:16,height:16,draggable:!0,dragBoundFunc:function(T){return{x:this.getAbsolutePosition().x,y:T.y}}})}},{key:"initResizeIcon",value:function(){return new Zr.Path({x:this.halfWidth+.86*this.cropRadius-8,y:this.halfHeight+-.5*this.cropRadius-10,data:"M47.624,0.124l12.021,9.73L44.5,24.5l10,10l14.661-15.161l9.963,12.285v-31.5H47.624z M24.5,44.5   L9.847,59.653L0,47.5V79h31.5l-12.153-9.847L34.5,54.5L24.5,44.5z",fill:this.cropColor,scale:{x:.2,y:.2}})}},{key:"render",value:function(){var T=this,$=this.props,B=$.width,Y=$.height,Z={display:"flex",justifyContent:"center",backgroundColor:this.backgroundColor,width:B||this.width,position:"relative"},ie=this.props.label,oe=Zu(Zu({},this.props.labelStyle),{lineHeight:(Y||200)+"px"}),ee=Zu(Zu({},this.props.borderStyle),{width:B||200,height:Y||200});return h().createElement("div",null,this.state.showLoader?h().createElement("div",{style:ee},h().createElement("input",{onChange:function(fe){return T.onFileLoad(fe)},name:this.loaderId,type:"file",id:this.loaderId,style:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},accept:this.mimeTypes}),h().createElement("label",{htmlFor:this.loaderId,style:oe},ie)):h().createElement("div",{style:Z},h().createElement("svg",{onClick:this.onCloseClick,style:{position:"absolute",zIndex:999,cursor:"pointer",left:"10px",top:"10px"},viewBox:"0 0 475.2 475.2",width:"20px",height:"20px"},h().createElement("g",null,h().createElement("path",{d:"M405.6,69.6C360.7,24.7,301.1,0,237.6,0s-123.1,24.7-168,69.6S0,174.1,0,237.6s24.7,123.1,69.6,168s104.5,69.6,168,69.6    s123.1-24.7,168-69.6s69.6-104.5,69.6-168S450.5,114.5,405.6,69.6z M386.5,386.5c-39.8,39.8-92.7,61.7-148.9,61.7    s-109.1-21.9-148.9-61.7c-82.1-82.1-82.1-215.7,0-297.8C128.5,48.9,181.4,27,237.6,27s109.1,21.9,148.9,61.7    C468.6,170.8,468.6,304.4,386.5,386.5z",fill:this.closeIconColor}),h().createElement("path",{d:"M342.3,132.9c-5.3-5.3-13.8-5.3-19.1,0l-85.6,85.6L152,132.9c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1    l85.6,85.6l-85.6,85.6c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4l85.6-85.6l85.6,85.6c2.6,2.6,6.1,4,9.5,4    c3.5,0,6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1l-85.4-85.6l85.6-85.6C347.6,146.7,347.6,138.2,342.3,132.9z",fill:this.closeIconColor}))),h().createElement("div",{id:this.containerId})))}},{key:"lineWidth",get:function(){return this.props.lineWidth}},{key:"containerId",get:function(){return this.state.containerId}},{key:"closeIconColor",get:function(){return this.props.closeIconColor}},{key:"cropColor",get:function(){return this.props.cropColor}},{key:"loaderId",get:function(){return this.state.loaderId}},{key:"mimeTypes",get:function(){return this.props.mimeTypes}},{key:"backgroundColor",get:function(){return this.props.backgroundColor}},{key:"shadingColor",get:function(){return this.props.shadingColor}},{key:"shadingOpacity",get:function(){return this.props.shadingOpacity}},{key:"mobileScaleSpeed",get:function(){return this.props.mobileScaleSpeed}},{key:"cropRadius",get:function(){return this.state.cropRadius}},{key:"minCropRadius",get:function(){return this.props.minCropRadius}},{key:"scale",get:function(){return this.state.scale}},{key:"width",get:function(){return this.state.imgWidth}},{key:"halfWidth",get:function(){return this.state.imgWidth/2}},{key:"height",get:function(){return this.state.imgHeight}},{key:"halfHeight",get:function(){return this.state.imgHeight/2}},{key:"image",get:function(){return this.state.image}}])&&uT(l.prototype,c),b}(h().Component);o0(a0,"defaultProps",{shadingColor:"grey",shadingOpacity:.6,cropColor:"white",closeIconColor:"white",lineWidth:4,minCropRadius:30,backgroundColor:"grey",mimeTypes:"image/jpeg,image/png",exportAsSquare:!1,exportSize:void 0,exportMimeType:"image/png",exportQuality:1,mobileScaleSpeed:.5,onClose:function(){},onCrop:function(){},onFileLoad:function(){},onImageLoad:function(){},onBeforeFileLoad:function(){},label:"Choose a file",labelStyle:{fontSize:"1.25em",fontWeight:"700",color:"black",display:"inline-block",fontFamily:"sans-serif",cursor:"pointer"},borderStyle:{border:"2px solid #979797",borderStyle:"dashed",borderRadius:"8px",textAlign:"center"}});const hT=a0})(),a})()})})(d5);const f5={black:"#000",white:"#fff"},du=f5,p5={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},yo=p5,g5={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},wo=g5,m5={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},xo=m5,v5={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},So=v5,y5={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},bo=y5,w5={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Za=w5,x5={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},S5=x5;function ne(){return ne=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ne.apply(this,arguments)}function bs(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function gk(t){if(!bs(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=gk(t[r])}),e}function hi(t,e,r={clone:!0}){const i=r.clone?ne({},t):t;return bs(t)&&bs(e)&&Object.keys(e).forEach(s=>{s!=="__proto__"&&(bs(e[s])&&s in t&&bs(t[s])?i[s]=hi(t[s],e[s],r):r.clone?i[s]=bs(e[s])?gk(e[s]):e[s]:i[s]=e[s])}),i}var Tp={exports:{}},Ip,Jw;function b5(){if(Jw)return Ip;Jw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ip=t,Ip}var Pp,Zw;function C5(){if(Zw)return Pp;Zw=1;var t=b5();function e(){}function r(){}return r.resetWarningCache=e,Pp=function(){function i(a,u,h,d,g,v){if(v!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},Pp}var ex;function mk(){return ex||(ex=1,Tp.exports=C5()()),Tp.exports}mk();function va(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function xt(t){if(typeof t!="string")throw new Error(va(7));return t.charAt(0).toUpperCase()+t.slice(1)}function tx(...t){return t.reduce((e,r)=>r==null?e:function(...s){e.apply(this,s),r.apply(this,s)},()=>{})}function pr(t){return t&&t.ownerDocument||document}function My(t){return pr(t).defaultView||window}function um(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const _5=typeof window<"u"?D.useLayoutEffect:D.useEffect,ed=_5;function E5({controlled:t,default:e,name:r,state:i="value"}){const{current:s}=D.useRef(t!==void 0),[o,a]=D.useState(e),u=s?t:o,h=D.useCallback(d=>{s||a(d)},[]);return[u,h]}function li(t){const e=D.useRef(t);return ed(()=>{e.current=t}),D.useCallback((...r)=>(0,e.current)(...r),[])}function yi(...t){return D.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{um(r,e)})},t)}let tf=!0,cm=!1,nx;const k5={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function T5(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&k5[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function I5(t){t.metaKey||t.altKey||t.ctrlKey||(tf=!0)}function Rp(){tf=!1}function P5(){this.visibilityState==="hidden"&&cm&&(tf=!0)}function R5(t){t.addEventListener("keydown",I5,!0),t.addEventListener("mousedown",Rp,!0),t.addEventListener("pointerdown",Rp,!0),t.addEventListener("touchstart",Rp,!0),t.addEventListener("visibilitychange",P5,!0)}function A5(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return tf||T5(e)}function vk(){const t=D.useCallback(s=>{s!=null&&R5(s.ownerDocument)},[]),e=D.useRef(!1);function r(){return e.current?(cm=!0,window.clearTimeout(nx),nx=window.setTimeout(()=>{cm=!1},100),e.current=!1,!0):!1}function i(s){return A5(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:i,onBlur:r,ref:t}}function N5(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}const O5={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},L5=O5;function jy(t,e){const r=ne({},e);return Object.keys(t).forEach(i=>{if(i.toString().match(/^(components|slots)$/))r[i]=ne({},t[i],r[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const s=t[i]||{},o=e[i];r[i]={},!o||!Object.keys(o)?r[i]=s:!s||!Object.keys(s)?r[i]=o:(r[i]=ne({},o),Object.keys(s).forEach(a=>{r[i][a]=jy(s[a],o[a])}))}else r[i]===void 0&&(r[i]=t[i])}),r}function Hu(t,e,r=void 0){const i={};return Object.keys(t).forEach(s=>{i[s]=t[s].reduce((o,a)=>{if(a){const u=e(a);u!==""&&o.push(u),r&&r[a]&&o.push(r[a])}return o},[]).join(" ")}),i}const rx=t=>t,D5=()=>{let t=rx;return{configure(e){t=e},generate(e){return t(e)},reset(){t=rx}}},M5=D5(),yk=M5,j5={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Oa(t,e,r="Mui"){const i=j5[e];return i?`${r}-${i}`:`${yk.generate(t)}-${e}`}function La(t,e,r="Mui"){const i={};return e.forEach(s=>{i[s]=Oa(t,s,r)}),i}const nf="$$material";function zt(t,e){if(t==null)return{};var r={},i=Object.keys(t),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function wk(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var $5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,F5=wk(function(t){return $5.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function U5(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function B5(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var z5=function(){function t(r){var i=this;this._insertTag=function(s){var o;i.tags.length===0?i.insertionPoint?o=i.insertionPoint.nextSibling:i.prepend?o=i.container.firstChild:o=i.before:o=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,o),i.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(B5(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=U5(s);try{o.insertRule(i,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},t}(),xn="-ms-",td="-moz-",Qe="-webkit-",xk="comm",$y="rule",Fy="decl",V5="@import",Sk="@keyframes",G5="@layer",H5=Math.abs,rf=String.fromCharCode,W5=Object.assign;function q5(t,e){return un(t,0)^45?(((e<<2^un(t,0))<<2^un(t,1))<<2^un(t,2))<<2^un(t,3):0}function bk(t){return t.trim()}function K5(t,e){return(t=e.exec(t))?t[0]:t}function Je(t,e,r){return t.replace(e,r)}function hm(t,e){return t.indexOf(e)}function un(t,e){return t.charCodeAt(e)|0}function fu(t,e,r){return t.slice(e,r)}function Ur(t){return t.length}function Uy(t){return t.length}function Ic(t,e){return e.push(t),t}function Y5(t,e){return t.map(e).join("")}var sf=1,ya=1,Ck=0,qn=0,Ft=0,Da="";function of(t,e,r,i,s,o,a){return{value:t,root:e,parent:r,type:i,props:s,children:o,line:sf,column:ya,length:a,return:""}}function el(t,e){return W5(of("",null,null,"",null,null,0),t,{length:-t.length},e)}function X5(){return Ft}function Q5(){return Ft=qn>0?un(Da,--qn):0,ya--,Ft===10&&(ya=1,sf--),Ft}function nr(){return Ft=qn<Ck?un(Da,qn++):0,ya++,Ft===10&&(ya=1,sf++),Ft}function Yr(){return un(Da,qn)}function th(){return qn}function Wu(t,e){return fu(Da,t,e)}function pu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _k(t){return sf=ya=1,Ck=Ur(Da=t),qn=0,[]}function Ek(t){return Da="",t}function nh(t){return bk(Wu(qn-1,dm(t===91?t+2:t===40?t+1:t)))}function J5(t){for(;(Ft=Yr())&&Ft<33;)nr();return pu(t)>2||pu(Ft)>3?"":" "}function Z5(t,e){for(;--e&&nr()&&!(Ft<48||Ft>102||Ft>57&&Ft<65||Ft>70&&Ft<97););return Wu(t,th()+(e<6&&Yr()==32&&nr()==32))}function dm(t){for(;nr();)switch(Ft){case t:return qn;case 34:case 39:t!==34&&t!==39&&dm(Ft);break;case 40:t===41&&dm(t);break;case 92:nr();break}return qn}function ej(t,e){for(;nr()&&t+Ft!==47+10;)if(t+Ft===42+42&&Yr()===47)break;return"/*"+Wu(e,qn-1)+"*"+rf(t===47?t:nr())}function tj(t){for(;!pu(Yr());)nr();return Wu(t,qn)}function nj(t){return Ek(rh("",null,null,null,[""],t=_k(t),0,[0],t))}function rh(t,e,r,i,s,o,a,u,h){for(var d=0,g=0,v=a,w=0,O=0,S=0,R=1,M=1,x=1,C=0,k="",A=s,_=o,F=i,N=k;M;)switch(S=C,C=nr()){case 40:if(S!=108&&un(N,v-1)==58){hm(N+=Je(nh(C),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:N+=nh(C);break;case 9:case 10:case 13:case 32:N+=J5(S);break;case 92:N+=Z5(th()-1,7);continue;case 47:switch(Yr()){case 42:case 47:Ic(rj(ej(nr(),th()),e,r),h);break;default:N+="/"}break;case 123*R:u[d++]=Ur(N)*x;case 125*R:case 59:case 0:switch(C){case 0:case 125:M=0;case 59+g:x==-1&&(N=Je(N,/\f/g,"")),O>0&&Ur(N)-v&&Ic(O>32?sx(N+";",i,r,v-1):sx(Je(N," ","")+";",i,r,v-2),h);break;case 59:N+=";";default:if(Ic(F=ix(N,e,r,d,g,s,u,k,A=[],_=[],v),o),C===123)if(g===0)rh(N,e,F,F,A,o,v,u,_);else switch(w===99&&un(N,3)===110?100:w){case 100:case 108:case 109:case 115:rh(t,F,F,i&&Ic(ix(t,F,F,0,0,s,u,k,s,A=[],v),_),s,_,v,u,i?A:_);break;default:rh(N,F,F,F,[""],_,0,u,_)}}d=g=O=0,R=x=1,k=N="",v=a;break;case 58:v=1+Ur(N),O=S;default:if(R<1){if(C==123)--R;else if(C==125&&R++==0&&Q5()==125)continue}switch(N+=rf(C),C*R){case 38:x=g>0?1:(N+="\f",-1);break;case 44:u[d++]=(Ur(N)-1)*x,x=1;break;case 64:Yr()===45&&(N+=nh(nr())),w=Yr(),g=v=Ur(k=N+=tj(th())),C++;break;case 45:S===45&&Ur(N)==2&&(R=0)}}return o}function ix(t,e,r,i,s,o,a,u,h,d,g){for(var v=s-1,w=s===0?o:[""],O=Uy(w),S=0,R=0,M=0;S<i;++S)for(var x=0,C=fu(t,v+1,v=H5(R=a[S])),k=t;x<O;++x)(k=bk(R>0?w[x]+" "+C:Je(C,/&\f/g,w[x])))&&(h[M++]=k);return of(t,e,r,s===0?$y:u,h,d,g)}function rj(t,e,r){return of(t,e,r,xk,rf(X5()),fu(t,2,-2),0)}function sx(t,e,r,i){return of(t,e,r,Fy,fu(t,0,i),fu(t,i+1,-1),i)}function Qo(t,e){for(var r="",i=Uy(t),s=0;s<i;s++)r+=e(t[s],s,t,e)||"";return r}function ij(t,e,r,i){switch(t.type){case G5:if(t.children.length)break;case V5:case Fy:return t.return=t.return||t.value;case xk:return"";case Sk:return t.return=t.value+"{"+Qo(t.children,i)+"}";case $y:t.value=t.props.join(",")}return Ur(r=Qo(t.children,i))?t.return=t.value+"{"+r+"}":""}function sj(t){var e=Uy(t);return function(r,i,s,o){for(var a="",u=0;u<e;u++)a+=t[u](r,i,s,o)||"";return a}}function oj(t){return function(e){e.root||(e=e.return)&&t(e)}}var aj=function(e,r,i){for(var s=0,o=0;s=o,o=Yr(),s===38&&o===12&&(r[i]=1),!pu(o);)nr();return Wu(e,qn)},lj=function(e,r){var i=-1,s=44;do switch(pu(s)){case 0:s===38&&Yr()===12&&(r[i]=1),e[i]+=aj(qn-1,r,i);break;case 2:e[i]+=nh(s);break;case 4:if(s===44){e[++i]=Yr()===58?"&\f":"",r[i]=e[i].length;break}default:e[i]+=rf(s)}while(s=nr());return e},uj=function(e,r){return Ek(lj(_k(e),r))},ox=new WeakMap,cj=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,i=e.parent,s=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!ox.get(i))&&!s){ox.set(e,!0);for(var o=[],a=uj(r,o),u=i.props,h=0,d=0;h<a.length;h++)for(var g=0;g<u.length;g++,d++)e.props[d]=o[h]?a[h].replace(/&\f/g,u[g]):u[g]+" "+a[h]}}},hj=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function kk(t,e){switch(q5(t,e)){case 5103:return Qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+t+td+t+xn+t+t;case 6828:case 4268:return Qe+t+xn+t+t;case 6165:return Qe+t+xn+"flex-"+t+t;case 5187:return Qe+t+Je(t,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+xn+"flex-$1$2")+t;case 5443:return Qe+t+xn+"flex-item-"+Je(t,/flex-|-self/,"")+t;case 4675:return Qe+t+xn+"flex-line-pack"+Je(t,/align-content|flex-|-self/,"")+t;case 5548:return Qe+t+xn+Je(t,"shrink","negative")+t;case 5292:return Qe+t+xn+Je(t,"basis","preferred-size")+t;case 6060:return Qe+"box-"+Je(t,"-grow","")+Qe+t+xn+Je(t,"grow","positive")+t;case 4554:return Qe+Je(t,/([^-])(transform)/g,"$1"+Qe+"$2")+t;case 6187:return Je(Je(Je(t,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),t,"")+t;case 5495:case 3959:return Je(t,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return Je(Je(t,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+xn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+t+t;case 4095:case 3583:case 4068:case 2532:return Je(t,/(.+)-inline(.+)/,Qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ur(t)-1-e>6)switch(un(t,e+1)){case 109:if(un(t,e+4)!==45)break;case 102:return Je(t,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+td+(un(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~hm(t,"stretch")?kk(Je(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(un(t,e+1)!==115)break;case 6444:switch(un(t,Ur(t)-3-(~hm(t,"!important")&&10))){case 107:return Je(t,":",":"+Qe)+t;case 101:return Je(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qe+(un(t,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+xn+"$2box$3")+t}break;case 5936:switch(un(t,e+11)){case 114:return Qe+t+xn+Je(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Qe+t+xn+Je(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Qe+t+xn+Je(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Qe+t+xn+t+t}return t}var dj=function(e,r,i,s){if(e.length>-1&&!e.return)switch(e.type){case Fy:e.return=kk(e.value,e.length);break;case Sk:return Qo([el(e,{value:Je(e.value,"@","@"+Qe)})],s);case $y:if(e.length)return Y5(e.props,function(o){switch(K5(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qo([el(e,{props:[Je(o,/:(read-\w+)/,":"+td+"$1")]})],s);case"::placeholder":return Qo([el(e,{props:[Je(o,/:(plac\w+)/,":"+Qe+"input-$1")]}),el(e,{props:[Je(o,/:(plac\w+)/,":"+td+"$1")]}),el(e,{props:[Je(o,/:(plac\w+)/,xn+"input-$1")]})],s)}return""})}},fj=[dj],pj=function(e){var r=e.key;if(r==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(R){var M=R.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var s=e.stylisPlugins||fj,o={},a,u=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(R){for(var M=R.getAttribute("data-emotion").split(" "),x=1;x<M.length;x++)o[M[x]]=!0;u.push(R)});var h,d=[cj,hj];{var g,v=[ij,oj(function(R){g.insert(R)})],w=sj(d.concat(s,v)),O=function(M){return Qo(nj(M),w)};h=function(M,x,C,k){g=C,O(M?M+"{"+x.styles+"}":x.styles),k&&(S.inserted[x.name]=!0)}}var S={key:r,sheet:new z5({key:r,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:h};return S.sheet.hydrate(u),S},Tk={exports:{}},it={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sn=typeof Symbol=="function"&&Symbol.for,By=sn?Symbol.for("react.element"):60103,zy=sn?Symbol.for("react.portal"):60106,af=sn?Symbol.for("react.fragment"):60107,lf=sn?Symbol.for("react.strict_mode"):60108,uf=sn?Symbol.for("react.profiler"):60114,cf=sn?Symbol.for("react.provider"):60109,hf=sn?Symbol.for("react.context"):60110,Vy=sn?Symbol.for("react.async_mode"):60111,df=sn?Symbol.for("react.concurrent_mode"):60111,ff=sn?Symbol.for("react.forward_ref"):60112,pf=sn?Symbol.for("react.suspense"):60113,gj=sn?Symbol.for("react.suspense_list"):60120,gf=sn?Symbol.for("react.memo"):60115,mf=sn?Symbol.for("react.lazy"):60116,mj=sn?Symbol.for("react.block"):60121,vj=sn?Symbol.for("react.fundamental"):60117,yj=sn?Symbol.for("react.responder"):60118,wj=sn?Symbol.for("react.scope"):60119;function ar(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case By:switch(t=t.type,t){case Vy:case df:case af:case uf:case lf:case pf:return t;default:switch(t=t&&t.$$typeof,t){case hf:case ff:case mf:case gf:case cf:return t;default:return e}}case zy:return e}}}function Ik(t){return ar(t)===df}it.AsyncMode=Vy;it.ConcurrentMode=df;it.ContextConsumer=hf;it.ContextProvider=cf;it.Element=By;it.ForwardRef=ff;it.Fragment=af;it.Lazy=mf;it.Memo=gf;it.Portal=zy;it.Profiler=uf;it.StrictMode=lf;it.Suspense=pf;it.isAsyncMode=function(t){return Ik(t)||ar(t)===Vy};it.isConcurrentMode=Ik;it.isContextConsumer=function(t){return ar(t)===hf};it.isContextProvider=function(t){return ar(t)===cf};it.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===By};it.isForwardRef=function(t){return ar(t)===ff};it.isFragment=function(t){return ar(t)===af};it.isLazy=function(t){return ar(t)===mf};it.isMemo=function(t){return ar(t)===gf};it.isPortal=function(t){return ar(t)===zy};it.isProfiler=function(t){return ar(t)===uf};it.isStrictMode=function(t){return ar(t)===lf};it.isSuspense=function(t){return ar(t)===pf};it.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===af||t===df||t===uf||t===lf||t===pf||t===gj||typeof t=="object"&&t!==null&&(t.$$typeof===mf||t.$$typeof===gf||t.$$typeof===cf||t.$$typeof===hf||t.$$typeof===ff||t.$$typeof===vj||t.$$typeof===yj||t.$$typeof===wj||t.$$typeof===mj)};it.typeOf=ar;Tk.exports=it;var xj=Tk.exports,Pk=xj,Sj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Rk={};Rk[Pk.ForwardRef]=Sj;Rk[Pk.Memo]=bj;var Cj=!0;function _j(t,e,r){var i="";return r.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):i+=s+" "}),i}var Ak=function(e,r,i){var s=e.key+"-"+r.name;(i===!1||Cj===!1)&&e.registered[s]===void 0&&(e.registered[s]=r.styles)},Ej=function(e,r,i){Ak(e,r,i);var s=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var o=r;do e.insert(r===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function kj(t){for(var e=0,r,i=0,s=t.length;s>=4;++i,s-=4)r=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Tj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ij=/[A-Z]|^ms/g,Pj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Nk=function(e){return e.charCodeAt(1)===45},ax=function(e){return e!=null&&typeof e!="boolean"},Ap=wk(function(t){return Nk(t)?t:t.replace(Ij,"-$&").toLowerCase()}),lx=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Pj,function(i,s,o){return Br={name:s,styles:o,next:Br},s})}return Tj[e]!==1&&!Nk(e)&&typeof r=="number"&&r!==0?r+"px":r};function gu(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Br={name:r.name,styles:r.styles,next:Br},r.name;if(r.styles!==void 0){var i=r.next;if(i!==void 0)for(;i!==void 0;)Br={name:i.name,styles:i.styles,next:Br},i=i.next;var s=r.styles+";";return s}return Rj(t,e,r)}case"function":{if(t!==void 0){var o=Br,a=r(t);return Br=o,gu(t,e,a)}break}}if(e==null)return r;var u=e[r];return u!==void 0?u:r}function Rj(t,e,r){var i="";if(Array.isArray(r))for(var s=0;s<r.length;s++)i+=gu(t,e,r[s])+";";else for(var o in r){var a=r[o];if(typeof a!="object")e!=null&&e[a]!==void 0?i+=o+"{"+e[a]+"}":ax(a)&&(i+=Ap(o)+":"+lx(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var u=0;u<a.length;u++)ax(a[u])&&(i+=Ap(o)+":"+lx(o,a[u])+";");else{var h=gu(t,e,a);switch(o){case"animation":case"animationName":{i+=Ap(o)+":"+h+";";break}default:i+=o+"{"+h+"}"}}}return i}var ux=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Br,Ok=function(e,r,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,o="";Br=void 0;var a=e[0];a==null||a.raw===void 0?(s=!1,o+=gu(i,r,a)):o+=a[0];for(var u=1;u<e.length;u++)o+=gu(i,r,e[u]),s&&(o+=a[u]);ux.lastIndex=0;for(var h="",d;(d=ux.exec(o))!==null;)h+="-"+d[1];var g=kj(o)+h;return{name:g,styles:o,next:Br}},Aj=function(e){return e()},Nj=jp["useInsertionEffect"]?jp["useInsertionEffect"]:!1,Oj=Nj||Aj,Lk=D.createContext(typeof HTMLElement<"u"?pj({key:"css"}):null);Lk.Provider;var Lj=function(e){return D.forwardRef(function(r,i){var s=D.useContext(Lk);return e(r,s,i)})},Dk=D.createContext({});function Dj(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ok(e)}var Gy=function(){var e=Dj.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Mj=F5,jj=function(e){return e!=="theme"},cx=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Mj:jj},hx=function(e,r,i){var s;if(r){var o=r.shouldForwardProp;s=e.__emotion_forwardProp&&o?function(a){return e.__emotion_forwardProp(a)&&o(a)}:o}return typeof s!="function"&&i&&(s=e.__emotion_forwardProp),s},$j=function(e){var r=e.cache,i=e.serialized,s=e.isStringTag;return Ak(r,i,s),Oj(function(){return Ej(r,i,s)}),null},Fj=function t(e,r){var i=e.__emotion_real===e,s=i&&e.__emotion_base||e,o,a;r!==void 0&&(o=r.label,a=r.target);var u=hx(e,r,i),h=u||cx(s),d=!h("as");return function(){var g=arguments,v=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&v.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)v.push.apply(v,g);else{v.push(g[0][0]);for(var w=g.length,O=1;O<w;O++)v.push(g[O],g[0][O])}var S=Lj(function(R,M,x){var C=d&&R.as||s,k="",A=[],_=R;if(R.theme==null){_={};for(var F in R)_[F]=R[F];_.theme=D.useContext(Dk)}typeof R.className=="string"?k=_j(M.registered,A,R.className):R.className!=null&&(k=R.className+" ");var N=Ok(v.concat(A),M.registered,_);k+=M.key+"-"+N.name,a!==void 0&&(k+=" "+a);var V=d&&u===void 0?cx(C):h,X={};for(var U in R)d&&U==="as"||V(U)&&(X[U]=R[U]);return X.className=k,X.ref=x,D.createElement(D.Fragment,null,D.createElement($j,{cache:M,serialized:N,isStringTag:typeof C=="string"}),D.createElement(C,X))});return S.displayName=o!==void 0?o:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=s,S.__emotion_styles=v,S.__emotion_forwardProp=u,Object.defineProperty(S,"toString",{value:function(){return"."+a}}),S.withComponent=function(R,M){return t(R,ne({},r,M,{shouldForwardProp:hx(S,M,!0)})).apply(void 0,v)},S}},Uj=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],fm=Fj.bind();Uj.forEach(function(t){fm[t]=fm(t)});/**
 * @mui/styled-engine v5.14.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Mk(t,e){return fm(t,e)}const Bj=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},zj=["values","unit","step"],Vj=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,i)=>r.val-i.val),e.reduce((r,i)=>ne({},r,{[i.key]:i.val}),{})};function Gj(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:i=5}=t,s=zt(t,zj),o=Vj(e),a=Object.keys(o);function u(w){return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${r})`}function h(w){return`@media (max-width:${(typeof e[w]=="number"?e[w]:w)-i/100}${r})`}function d(w,O){const S=a.indexOf(O);return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${r}) and (max-width:${(S!==-1&&typeof e[a[S]]=="number"?e[a[S]]:O)-i/100}${r})`}function g(w){return a.indexOf(w)+1<a.length?d(w,a[a.indexOf(w)+1]):u(w)}function v(w){const O=a.indexOf(w);return O===0?u(a[1]):O===a.length-1?h(a[O]):d(w,a[a.indexOf(w)+1]).replace("@media","@media not all and")}return ne({keys:a,values:o,up:u,down:h,between:d,only:g,not:v,unit:r},s)}const Hj={borderRadius:4},Wj=Hj;function Il(t,e){return e?hi(t,e,{clone:!1}):t}const Hy={xs:0,sm:600,md:900,lg:1200,xl:1536},dx={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Hy[t]}px)`};function wi(t,e,r){const i=t.theme||{};if(Array.isArray(e)){const o=i.breakpoints||dx;return e.reduce((a,u,h)=>(a[o.up(o.keys[h])]=r(e[h]),a),{})}if(typeof e=="object"){const o=i.breakpoints||dx;return Object.keys(e).reduce((a,u)=>{if(Object.keys(o.values||Hy).indexOf(u)!==-1){const h=o.up(u);a[h]=r(e[u],u)}else{const h=u;a[h]=e[h]}return a},{})}return r(e)}function qj(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((i,s)=>{const o=t.up(s);return i[o]={},i},{}))||{}}function Kj(t,e){return t.reduce((r,i)=>{const s=r[i];return(!s||Object.keys(s).length===0)&&delete r[i],r},e)}function vf(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const i=`vars.${e}`.split(".").reduce((s,o)=>s&&s[o]?s[o]:null,t);if(i!=null)return i}return e.split(".").reduce((i,s)=>i&&i[s]!=null?i[s]:null,t)}function nd(t,e,r,i=r){let s;return typeof t=="function"?s=t(r):Array.isArray(t)?s=t[r]||i:s=vf(t,r)||i,e&&(s=e(s,i,t)),s}function tt(t){const{prop:e,cssProperty:r=t.prop,themeKey:i,transform:s}=t,o=a=>{if(a[e]==null)return null;const u=a[e],h=a.theme,d=vf(h,i)||{};return wi(a,u,v=>{let w=nd(d,s,v);return v===w&&typeof v=="string"&&(w=nd(d,s,`${e}${v==="default"?"":xt(v)}`,v)),r===!1?w:{[r]:w}})};return o.propTypes={},o.filterProps=[e],o}function Yj(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const Xj={m:"margin",p:"padding"},Qj={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},fx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Jj=Yj(t=>{if(t.length>2)if(fx[t])t=fx[t];else return[t];const[e,r]=t.split(""),i=Xj[e],s=Qj[r]||"";return Array.isArray(s)?s.map(o=>i+o):[i+s]}),Wy=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],qy=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Wy,...qy];function qu(t,e,r,i){var s;const o=(s=vf(t,e,!1))!=null?s:r;return typeof o=="number"?a=>typeof a=="string"?a:o*a:Array.isArray(o)?a=>typeof a=="string"?a:o[a]:typeof o=="function"?o:()=>{}}function jk(t){return qu(t,"spacing",8)}function Ku(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),i=t(r);return e>=0?i:typeof i=="number"?-i:`-${i}`}function Zj(t,e){return r=>t.reduce((i,s)=>(i[s]=Ku(e,r),i),{})}function e4(t,e,r,i){if(e.indexOf(r)===-1)return null;const s=Jj(r),o=Zj(s,i),a=t[r];return wi(t,a,o)}function $k(t,e){const r=jk(t.theme);return Object.keys(t).map(i=>e4(t,e,i,r)).reduce(Il,{})}function Ct(t){return $k(t,Wy)}Ct.propTypes={};Ct.filterProps=Wy;function _t(t){return $k(t,qy)}_t.propTypes={};_t.filterProps=qy;function t4(t=8){if(t.mui)return t;const e=jk({spacing:t}),r=(...i)=>(i.length===0?[1]:i).map(o=>{const a=e(o);return typeof a=="number"?`${a}px`:a}).join(" ");return r.mui=!0,r}function yf(...t){const e=t.reduce((i,s)=>(s.filterProps.forEach(o=>{i[o]=s}),i),{}),r=i=>Object.keys(i).reduce((s,o)=>e[o]?Il(s,e[o](i)):s,{});return r.propTypes={},r.filterProps=t.reduce((i,s)=>i.concat(s.filterProps),[]),r}function Vr(t){return typeof t!="number"?t:`${t}px solid`}const n4=tt({prop:"border",themeKey:"borders",transform:Vr}),r4=tt({prop:"borderTop",themeKey:"borders",transform:Vr}),i4=tt({prop:"borderRight",themeKey:"borders",transform:Vr}),s4=tt({prop:"borderBottom",themeKey:"borders",transform:Vr}),o4=tt({prop:"borderLeft",themeKey:"borders",transform:Vr}),a4=tt({prop:"borderColor",themeKey:"palette"}),l4=tt({prop:"borderTopColor",themeKey:"palette"}),u4=tt({prop:"borderRightColor",themeKey:"palette"}),c4=tt({prop:"borderBottomColor",themeKey:"palette"}),h4=tt({prop:"borderLeftColor",themeKey:"palette"}),wf=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=qu(t.theme,"shape.borderRadius",4),r=i=>({borderRadius:Ku(e,i)});return wi(t,t.borderRadius,r)}return null};wf.propTypes={};wf.filterProps=["borderRadius"];yf(n4,r4,i4,s4,o4,a4,l4,u4,c4,h4,wf);const xf=t=>{if(t.gap!==void 0&&t.gap!==null){const e=qu(t.theme,"spacing",8),r=i=>({gap:Ku(e,i)});return wi(t,t.gap,r)}return null};xf.propTypes={};xf.filterProps=["gap"];const Sf=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=qu(t.theme,"spacing",8),r=i=>({columnGap:Ku(e,i)});return wi(t,t.columnGap,r)}return null};Sf.propTypes={};Sf.filterProps=["columnGap"];const bf=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=qu(t.theme,"spacing",8),r=i=>({rowGap:Ku(e,i)});return wi(t,t.rowGap,r)}return null};bf.propTypes={};bf.filterProps=["rowGap"];const d4=tt({prop:"gridColumn"}),f4=tt({prop:"gridRow"}),p4=tt({prop:"gridAutoFlow"}),g4=tt({prop:"gridAutoColumns"}),m4=tt({prop:"gridAutoRows"}),v4=tt({prop:"gridTemplateColumns"}),y4=tt({prop:"gridTemplateRows"}),w4=tt({prop:"gridTemplateAreas"}),x4=tt({prop:"gridArea"});yf(xf,Sf,bf,d4,f4,p4,g4,m4,v4,y4,w4,x4);function Jo(t,e){return e==="grey"?e:t}const S4=tt({prop:"color",themeKey:"palette",transform:Jo}),b4=tt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Jo}),C4=tt({prop:"backgroundColor",themeKey:"palette",transform:Jo});yf(S4,b4,C4);function Jn(t){return t<=1&&t!==0?`${t*100}%`:t}const _4=tt({prop:"width",transform:Jn}),Ky=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var i,s;const o=((i=t.theme)==null||(i=i.breakpoints)==null||(i=i.values)==null?void 0:i[r])||Hy[r];return o?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Jn(r)}};return wi(t,t.maxWidth,e)}return null};Ky.filterProps=["maxWidth"];const E4=tt({prop:"minWidth",transform:Jn}),k4=tt({prop:"height",transform:Jn}),T4=tt({prop:"maxHeight",transform:Jn}),I4=tt({prop:"minHeight",transform:Jn});tt({prop:"size",cssProperty:"width",transform:Jn});tt({prop:"size",cssProperty:"height",transform:Jn});const P4=tt({prop:"boxSizing"});yf(_4,Ky,E4,k4,T4,I4,P4);const R4={border:{themeKey:"borders",transform:Vr},borderTop:{themeKey:"borders",transform:Vr},borderRight:{themeKey:"borders",transform:Vr},borderBottom:{themeKey:"borders",transform:Vr},borderLeft:{themeKey:"borders",transform:Vr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wf},color:{themeKey:"palette",transform:Jo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Jo},backgroundColor:{themeKey:"palette",transform:Jo},p:{style:_t},pt:{style:_t},pr:{style:_t},pb:{style:_t},pl:{style:_t},px:{style:_t},py:{style:_t},padding:{style:_t},paddingTop:{style:_t},paddingRight:{style:_t},paddingBottom:{style:_t},paddingLeft:{style:_t},paddingX:{style:_t},paddingY:{style:_t},paddingInline:{style:_t},paddingInlineStart:{style:_t},paddingInlineEnd:{style:_t},paddingBlock:{style:_t},paddingBlockStart:{style:_t},paddingBlockEnd:{style:_t},m:{style:Ct},mt:{style:Ct},mr:{style:Ct},mb:{style:Ct},ml:{style:Ct},mx:{style:Ct},my:{style:Ct},margin:{style:Ct},marginTop:{style:Ct},marginRight:{style:Ct},marginBottom:{style:Ct},marginLeft:{style:Ct},marginX:{style:Ct},marginY:{style:Ct},marginInline:{style:Ct},marginInlineStart:{style:Ct},marginInlineEnd:{style:Ct},marginBlock:{style:Ct},marginBlockStart:{style:Ct},marginBlockEnd:{style:Ct},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:xf},rowGap:{style:bf},columnGap:{style:Sf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Jn},maxWidth:{style:Ky},minWidth:{transform:Jn},height:{transform:Jn},maxHeight:{transform:Jn},minHeight:{transform:Jn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Cf=R4;function A4(...t){const e=t.reduce((i,s)=>i.concat(Object.keys(s)),[]),r=new Set(e);return t.every(i=>r.size===Object.keys(i).length)}function N4(t,e){return typeof t=="function"?t(e):t}function O4(){function t(r,i,s,o){const a={[r]:i,theme:s},u=o[r];if(!u)return{[r]:i};const{cssProperty:h=r,themeKey:d,transform:g,style:v}=u;if(i==null)return null;if(d==="typography"&&i==="inherit")return{[r]:i};const w=vf(s,d)||{};return v?v(a):wi(a,i,S=>{let R=nd(w,g,S);return S===R&&typeof S=="string"&&(R=nd(w,g,`${r}${S==="default"?"":xt(S)}`,S)),h===!1?R:{[h]:R}})}function e(r){var i;const{sx:s,theme:o={}}=r||{};if(!s)return null;const a=(i=o.unstable_sxConfig)!=null?i:Cf;function u(h){let d=h;if(typeof h=="function")d=h(o);else if(typeof h!="object")return h;if(!d)return null;const g=qj(o.breakpoints),v=Object.keys(g);let w=g;return Object.keys(d).forEach(O=>{const S=N4(d[O],o);if(S!=null)if(typeof S=="object")if(a[O])w=Il(w,t(O,S,o,a));else{const R=wi({theme:o},S,M=>({[O]:M}));A4(R,S)?w[O]=e({sx:S,theme:o}):w=Il(w,R)}else w=Il(w,t(O,S,o,a))}),Kj(v,w)}return Array.isArray(s)?s.map(u):u(s)}return e}const Fk=O4();Fk.filterProps=["sx"];const _f=Fk,L4=["breakpoints","palette","spacing","shape"];function Yy(t={},...e){const{breakpoints:r={},palette:i={},spacing:s,shape:o={}}=t,a=zt(t,L4),u=Gj(r),h=t4(s);let d=hi({breakpoints:u,direction:"ltr",components:{},palette:ne({mode:"light"},i),spacing:h,shape:ne({},Wj,o)},a);return d=e.reduce((g,v)=>hi(g,v),d),d.unstable_sxConfig=ne({},Cf,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(v){return _f({sx:v,theme:this})},d}function D4(t){return Object.keys(t).length===0}function M4(t=null){const e=D.useContext(Dk);return!e||D4(e)?t:e}const j4=Yy();function Xy(t=j4){return M4(t)}const $4=["sx"],F4=t=>{var e,r;const i={systemProps:{},otherProps:{}},s=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:Cf;return Object.keys(t).forEach(o=>{s[o]?i.systemProps[o]=t[o]:i.otherProps[o]=t[o]}),i};function U4(t){const{sx:e}=t,r=zt(t,$4),{systemProps:i,otherProps:s}=F4(r);let o;return Array.isArray(e)?o=[i,...e]:typeof e=="function"?o=(...a)=>{const u=e(...a);return bs(u)?ne({},i,u):i}:o=ne({},i,e),ne({},s,{sx:o})}function Uk(t){var e,r,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Uk(t[e]))&&(i&&(i+=" "),i+=r);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function gt(){for(var t,e,r=0,i="";r<arguments.length;)(t=arguments[r++])&&(e=Uk(t))&&(i&&(i+=" "),i+=e);return i}const B4=["className","component"];function z4(t={}){const{themeId:e,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:s}=t,o=Mk("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(_f);return D.forwardRef(function(h,d){const g=Xy(r),v=U4(h),{className:w,component:O="div"}=v,S=zt(v,B4);return p.jsx(o,ne({as:O,ref:d,className:gt(w,s?s(i):i),theme:e&&g[e]||g},S))})}const V4=["variant"];function px(t){return t.length===0}function Bk(t){const{variant:e}=t,r=zt(t,V4);let i=e||"";return Object.keys(r).sort().forEach(s=>{s==="color"?i+=px(i)?t[s]:xt(t[s]):i+=`${px(i)?s:xt(s)}${xt(t[s].toString())}`}),i}const G4=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function H4(t){return Object.keys(t).length===0}function W4(t){return typeof t=="string"&&t.charCodeAt(0)>96}const q4=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,K4=(t,e)=>{let r=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(r=e.components[t].variants);const i={};return r.forEach(s=>{const o=Bk(s.props);i[o]=s.style}),i},Y4=(t,e,r,i)=>{var s;const{ownerState:o={}}=t,a=[],u=r==null||(s=r.components)==null||(s=s[i])==null?void 0:s.variants;return u&&u.forEach(h=>{let d=!0;Object.keys(h.props).forEach(g=>{o[g]!==h.props[g]&&t[g]!==h.props[g]&&(d=!1)}),d&&a.push(e[Bk(h.props)])}),a};function Pl(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const X4=Yy(),Q4=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function tl({defaultTheme:t,theme:e,themeId:r}){return H4(e)?t:e[r]||e}function J4(t){return t?(e,r)=>r[t]:null}function Z4(t={}){const{themeId:e,defaultTheme:r=X4,rootShouldForwardProp:i=Pl,slotShouldForwardProp:s=Pl}=t,o=a=>_f(ne({},a,{theme:tl(ne({},a,{defaultTheme:r,themeId:e}))}));return o.__mui_systemSx=!0,(a,u={})=>{Bj(a,A=>A.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:h,slot:d,skipVariantsResolver:g,skipSx:v,overridesResolver:w=J4(Q4(d))}=u,O=zt(u,G4),S=g!==void 0?g:d&&d!=="Root"&&d!=="root"||!1,R=v||!1;let M,x=Pl;d==="Root"||d==="root"?x=i:d?x=s:W4(a)&&(x=void 0);const C=Mk(a,ne({shouldForwardProp:x,label:M},O)),k=(A,..._)=>{const F=_?_.map(U=>typeof U=="function"&&U.__emotion_real!==U?W=>U(ne({},W,{theme:tl(ne({},W,{defaultTheme:r,themeId:e}))})):U):[];let N=A;h&&w&&F.push(U=>{const W=tl(ne({},U,{defaultTheme:r,themeId:e})),H=q4(h,W);if(H){const I={};return Object.entries(H).forEach(([z,G])=>{I[z]=typeof G=="function"?G(ne({},U,{theme:W})):G}),w(U,I)}return null}),h&&!S&&F.push(U=>{const W=tl(ne({},U,{defaultTheme:r,themeId:e}));return Y4(U,K4(h,W),W,h)}),R||F.push(o);const V=F.length-_.length;if(Array.isArray(A)&&V>0){const U=new Array(V).fill("");N=[...A,...U],N.raw=[...A.raw,...U]}else typeof A=="function"&&A.__emotion_real!==A&&(N=U=>A(ne({},U,{theme:tl(ne({},U,{defaultTheme:r,themeId:e}))})));const X=C(N,...F);return a.muiName&&(X.muiName=a.muiName),X};return C.withConfig&&(k.withConfig=C.withConfig),k}}function e$(t){const{theme:e,name:r,props:i}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?i:jy(e.components[r].defaultProps,i)}function t$({props:t,name:e,defaultTheme:r,themeId:i}){let s=Xy(r);return i&&(s=s[i]||s),e$({theme:s,name:e,props:t})}function Qy(t,e=0,r=1){return Math.min(Math.max(e,t),r)}function n$(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(i=>i+i)),r?`rgb${r.length===4?"a":""}(${r.map((i,s)=>s<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function eo(t){if(t.type)return t;if(t.charAt(0)==="#")return eo(n$(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(va(9,t));let i=t.substring(e+1,t.length-1),s;if(r==="color"){if(i=i.split(" "),s=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(va(10,s))}else i=i.split(",");return i=i.map(o=>parseFloat(o)),{type:r,values:i,colorSpace:s}}function Ef(t){const{type:e,colorSpace:r}=t;let{values:i}=t;return e.indexOf("rgb")!==-1?i=i.map((s,o)=>o<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.indexOf("color")!==-1?i=`${r} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function r$(t){t=eo(t);const{values:e}=t,r=e[0],i=e[1]/100,s=e[2]/100,o=i*Math.min(s,1-s),a=(d,g=(d+r/30)%12)=>s-o*Math.max(Math.min(g-3,9-g,1),-1);let u="rgb";const h=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(u+="a",h.push(e[3])),Ef({type:u,values:h})}function gx(t){t=eo(t);let e=t.type==="hsl"||t.type==="hsla"?eo(r$(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function i$(t,e){const r=gx(t),i=gx(e);return(Math.max(r,i)+.05)/(Math.min(r,i)+.05)}function Uo(t,e){return t=eo(t),e=Qy(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Ef(t)}function zk(t,e){if(t=eo(t),e=Qy(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return Ef(t)}function Vk(t,e){if(t=eo(t),e=Qy(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return Ef(t)}function s$(t,e){return ne({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const o$=["mode","contrastThreshold","tonalOffset"],mx={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:du.white,default:du.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Np={text:{primary:du.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:du.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function vx(t,e,r,i){const s=i.light||i,o=i.dark||i*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=Vk(t.main,s):e==="dark"&&(t.dark=zk(t.main,o)))}function a$(t="light"){return t==="dark"?{main:xo[200],light:xo[50],dark:xo[400]}:{main:xo[700],light:xo[400],dark:xo[800]}}function l$(t="light"){return t==="dark"?{main:wo[200],light:wo[50],dark:wo[400]}:{main:wo[500],light:wo[300],dark:wo[700]}}function u$(t="light"){return t==="dark"?{main:yo[500],light:yo[300],dark:yo[700]}:{main:yo[700],light:yo[400],dark:yo[800]}}function c$(t="light"){return t==="dark"?{main:So[400],light:So[300],dark:So[700]}:{main:So[700],light:So[500],dark:So[900]}}function h$(t="light"){return t==="dark"?{main:bo[400],light:bo[300],dark:bo[700]}:{main:bo[800],light:bo[500],dark:bo[900]}}function d$(t="light"){return t==="dark"?{main:Za[400],light:Za[300],dark:Za[700]}:{main:"#ed6c02",light:Za[500],dark:Za[900]}}function f$(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:i=.2}=t,s=zt(t,o$),o=t.primary||a$(e),a=t.secondary||l$(e),u=t.error||u$(e),h=t.info||c$(e),d=t.success||h$(e),g=t.warning||d$(e);function v(R){return i$(R,Np.text.primary)>=r?Np.text.primary:mx.text.primary}const w=({color:R,name:M,mainShade:x=500,lightShade:C=300,darkShade:k=700})=>{if(R=ne({},R),!R.main&&R[x]&&(R.main=R[x]),!R.hasOwnProperty("main"))throw new Error(va(11,M?` (${M})`:"",x));if(typeof R.main!="string")throw new Error(va(12,M?` (${M})`:"",JSON.stringify(R.main)));return vx(R,"light",C,i),vx(R,"dark",k,i),R.contrastText||(R.contrastText=v(R.main)),R},O={dark:Np,light:mx};return hi(ne({common:ne({},du),mode:e,primary:w({color:o,name:"primary"}),secondary:w({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:w({color:u,name:"error"}),warning:w({color:g,name:"warning"}),info:w({color:h,name:"info"}),success:w({color:d,name:"success"}),grey:S5,contrastThreshold:r,getContrastText:v,augmentColor:w,tonalOffset:i},O[e]),s)}const p$=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function g$(t){return Math.round(t*1e5)/1e5}const yx={textTransform:"uppercase"},wx='"Roboto", "Helvetica", "Arial", sans-serif';function m$(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:i=wx,fontSize:s=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:g,pxToRem:v}=r,w=zt(r,p$),O=s/14,S=v||(x=>`${x/d*O}rem`),R=(x,C,k,A,_)=>ne({fontFamily:i,fontWeight:x,fontSize:S(C),lineHeight:k},i===wx?{letterSpacing:`${g$(A/C)}em`}:{},_,g),M={h1:R(o,96,1.167,-1.5),h2:R(o,60,1.2,-.5),h3:R(a,48,1.167,0),h4:R(a,34,1.235,.25),h5:R(a,24,1.334,0),h6:R(u,20,1.6,.15),subtitle1:R(a,16,1.75,.15),subtitle2:R(u,14,1.57,.1),body1:R(a,16,1.5,.15),body2:R(a,14,1.43,.15),button:R(u,14,1.75,.4,yx),caption:R(a,12,1.66,.4),overline:R(a,12,2.66,1,yx),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return hi(ne({htmlFontSize:d,pxToRem:S,fontFamily:i,fontSize:s,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:u,fontWeightBold:h},M),w,{clone:!1})}const v$=.2,y$=.14,w$=.12;function pt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${v$})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${y$})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${w$})`].join(",")}const x$=["none",pt(0,2,1,-1,0,1,1,0,0,1,3,0),pt(0,3,1,-2,0,2,2,0,0,1,5,0),pt(0,3,3,-2,0,3,4,0,0,1,8,0),pt(0,2,4,-1,0,4,5,0,0,1,10,0),pt(0,3,5,-1,0,5,8,0,0,1,14,0),pt(0,3,5,-1,0,6,10,0,0,1,18,0),pt(0,4,5,-2,0,7,10,1,0,2,16,1),pt(0,5,5,-3,0,8,10,1,0,3,14,2),pt(0,5,6,-3,0,9,12,1,0,3,16,2),pt(0,6,6,-3,0,10,14,1,0,4,18,3),pt(0,6,7,-4,0,11,15,1,0,4,20,3),pt(0,7,8,-4,0,12,17,2,0,5,22,4),pt(0,7,8,-4,0,13,19,2,0,5,24,4),pt(0,7,9,-4,0,14,21,2,0,5,26,4),pt(0,8,9,-5,0,15,22,2,0,6,28,5),pt(0,8,10,-5,0,16,24,2,0,6,30,5),pt(0,8,11,-5,0,17,26,2,0,6,32,5),pt(0,9,11,-5,0,18,28,2,0,7,34,6),pt(0,9,12,-6,0,19,29,2,0,7,36,6),pt(0,10,13,-6,0,20,31,3,0,8,38,7),pt(0,10,13,-6,0,21,33,3,0,8,40,7),pt(0,10,14,-6,0,22,35,3,0,8,42,7),pt(0,11,14,-7,0,23,36,3,0,9,44,8),pt(0,11,15,-7,0,24,38,3,0,9,46,8)],S$=x$,b$=["duration","easing","delay"],C$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function xx(t){return`${Math.round(t)}ms`}function E$(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function k$(t){const e=ne({},C$,t.easing),r=ne({},_$,t.duration);return ne({getAutoHeightDuration:E$,create:(s=["all"],o={})=>{const{duration:a=r.standard,easing:u=e.easeInOut,delay:h=0}=o;return zt(o,b$),(Array.isArray(s)?s:[s]).map(d=>`${d} ${typeof a=="string"?a:xx(a)} ${u} ${typeof h=="string"?h:xx(h)}`).join(",")}},t,{easing:e,duration:r})}const T$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},I$=T$,P$=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Gk(t={},...e){const{mixins:r={},palette:i={},transitions:s={},typography:o={}}=t,a=zt(t,P$);if(t.vars)throw new Error(va(18));const u=f$(i),h=Yy(t);let d=hi(h,{mixins:s$(h.breakpoints,r),palette:u,shadows:S$.slice(),typography:m$(u,o),transitions:k$(s),zIndex:ne({},I$)});return d=hi(d,a),d=e.reduce((g,v)=>hi(g,v),d),d.unstable_sxConfig=ne({},Cf,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(v){return _f({sx:v,theme:this})},d}const R$=Gk(),Jy=R$;function Hk(){const t=Xy(Jy);return t[nf]||t}function Ma({props:t,name:e}){return t$({props:t,name:e,defaultTheme:Jy,themeId:nf})}const Wk=t=>Pl(t)&&t!=="classes",qk=Pl,A$=Z4({themeId:nf,defaultTheme:Jy,rootShouldForwardProp:Wk}),Tn=A$;function pm(t,e){return pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},pm(t,e)}function Kk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pm(t,e)}const Sx={disabled:!1},rd=Zt.createContext(null);var N$=function(e){return e.scrollTop},dl="unmounted",xs="exited",Ss="entering",_o="entered",gm="exiting",Si=function(t){Kk(e,t);function e(i,s){var o;o=t.call(this,i,s)||this;var a=s,u=a&&!a.isMounting?i.enter:i.appear,h;return o.appearStatus=null,i.in?u?(h=xs,o.appearStatus=Ss):h=_o:i.unmountOnExit||i.mountOnEnter?h=dl:h=xs,o.state={status:h},o.nextCallback=null,o}e.getDerivedStateFromProps=function(s,o){var a=s.in;return a&&o.status===dl?{status:xs}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var o=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==Ss&&a!==_o&&(o=Ss):(a===Ss||a===_o)&&(o=gm)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,o,a,u;return o=a=u=s,s!=null&&typeof s!="number"&&(o=s.exit,a=s.enter,u=s.appear!==void 0?s.appear:a),{exit:o,enter:a,appear:u}},r.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===Ss){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:wc.findDOMNode(this);a&&N$(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xs&&this.setState({status:dl})},r.performEnter=function(s){var o=this,a=this.props.enter,u=this.context?this.context.isMounting:s,h=this.props.nodeRef?[u]:[wc.findDOMNode(this),u],d=h[0],g=h[1],v=this.getTimeouts(),w=u?v.appear:v.enter;if(!s&&!a||Sx.disabled){this.safeSetState({status:_o},function(){o.props.onEntered(d)});return}this.props.onEnter(d,g),this.safeSetState({status:Ss},function(){o.props.onEntering(d,g),o.onTransitionEnd(w,function(){o.safeSetState({status:_o},function(){o.props.onEntered(d,g)})})})},r.performExit=function(){var s=this,o=this.props.exit,a=this.getTimeouts(),u=this.props.nodeRef?void 0:wc.findDOMNode(this);if(!o||Sx.disabled){this.safeSetState({status:xs},function(){s.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:gm},function(){s.props.onExiting(u),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:xs},function(){s.props.onExited(u)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},r.setNextCallback=function(s){var o=this,a=!0;return this.nextCallback=function(u){a&&(a=!1,o.nextCallback=null,s(u))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(s,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:wc.findDOMNode(this),u=s==null&&!this.props.addEndListener;if(!a||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=h[0],g=h[1];this.props.addEndListener(d,g)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===dl)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=zt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Zt.createElement(rd.Provider,{value:null},typeof a=="function"?a(s,u):Zt.cloneElement(Zt.Children.only(a),u))},e}(Zt.Component);Si.contextType=rd;Si.propTypes={};function Co(){}Si.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Co,onEntering:Co,onEntered:Co,onExit:Co,onExiting:Co,onExited:Co};Si.UNMOUNTED=dl;Si.EXITED=xs;Si.ENTERING=Ss;Si.ENTERED=_o;Si.EXITING=gm;const O$=Si;function L$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zy(t,e){var r=function(o){return e&&D.isValidElement(o)?e(o):o},i=Object.create(null);return t&&D.Children.map(t,function(s){return s}).forEach(function(s){i[s.key]=r(s)}),i}function D$(t,e){t=t||{},e=e||{};function r(g){return g in e?e[g]:t[g]}var i=Object.create(null),s=[];for(var o in t)o in e?s.length&&(i[o]=s,s=[]):s.push(o);var a,u={};for(var h in e){if(i[h])for(a=0;a<i[h].length;a++){var d=i[h][a];u[i[h][a]]=r(d)}u[h]=r(h)}for(a=0;a<s.length;a++)u[s[a]]=r(s[a]);return u}function Is(t,e,r){return r[e]!=null?r[e]:t.props[e]}function M$(t,e){return Zy(t.children,function(r){return D.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:Is(r,"appear",t),enter:Is(r,"enter",t),exit:Is(r,"exit",t)})})}function j$(t,e,r){var i=Zy(t.children),s=D$(e,i);return Object.keys(s).forEach(function(o){var a=s[o];if(D.isValidElement(a)){var u=o in e,h=o in i,d=e[o],g=D.isValidElement(d)&&!d.props.in;h&&(!u||g)?s[o]=D.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:Is(a,"exit",t),enter:Is(a,"enter",t)}):!h&&u&&!g?s[o]=D.cloneElement(a,{in:!1}):h&&u&&D.isValidElement(d)&&(s[o]=D.cloneElement(a,{onExited:r.bind(null,a),in:d.props.in,exit:Is(a,"exit",t),enter:Is(a,"enter",t)}))}}),s}var $$=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},F$={component:"div",childFactory:function(e){return e}},e0=function(t){Kk(e,t);function e(i,s){var o;o=t.call(this,i,s)||this;var a=o.handleExited.bind(L$(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,o){var a=o.children,u=o.handleExited,h=o.firstRender;return{children:h?M$(s,u):j$(s,a,u),firstRender:!1}},r.handleExited=function(s,o){var a=Zy(this.props.children);s.key in a||(s.props.onExited&&s.props.onExited(o),this.mounted&&this.setState(function(u){var h=ne({},u.children);return delete h[s.key],{children:h}}))},r.render=function(){var s=this.props,o=s.component,a=s.childFactory,u=zt(s,["component","childFactory"]),h=this.state.contextValue,d=$$(this.state.children).map(a);return delete u.appear,delete u.enter,delete u.exit,o===null?Zt.createElement(rd.Provider,{value:h},d):Zt.createElement(rd.Provider,{value:h},Zt.createElement(o,u,d))},e}(Zt.Component);e0.propTypes={};e0.defaultProps=F$;const U$=e0,B$=t=>t.scrollTop;function bx(t,e){var r,i;const{timeout:s,easing:o,style:a={}}=t;return{duration:(r=a.transitionDuration)!=null?r:typeof s=="number"?s:s[e.mode]||0,easing:(i=a.transitionTimingFunction)!=null?i:typeof o=="object"?o[e.mode]:o,delay:a.transitionDelay}}function z$(t){const{className:e,classes:r,pulsate:i=!1,rippleX:s,rippleY:o,rippleSize:a,in:u,onExited:h,timeout:d}=t,[g,v]=D.useState(!1),w=gt(e,r.ripple,r.rippleVisible,i&&r.ripplePulsate),O={width:a,height:a,top:-(a/2)+o,left:-(a/2)+s},S=gt(r.child,g&&r.childLeaving,i&&r.childPulsate);return!u&&!g&&v(!0),D.useEffect(()=>{if(!u&&h!=null){const R=setTimeout(h,d);return()=>{clearTimeout(R)}}},[h,u,d]),p.jsx("span",{className:w,style:O,children:p.jsx("span",{className:S})})}const V$=La("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ur=V$,G$=["center","classes","className"];let kf=t=>t,Cx,_x,Ex,kx;const mm=550,H$=80,W$=Gy(Cx||(Cx=kf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),q$=Gy(_x||(_x=kf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),K$=Gy(Ex||(Ex=kf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Y$=Tn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),X$=Tn(z$,{name:"MuiTouchRipple",slot:"Ripple"})(kx||(kx=kf`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ur.rippleVisible,W$,mm,({theme:t})=>t.transitions.easing.easeInOut,ur.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ur.child,ur.childLeaving,q$,mm,({theme:t})=>t.transitions.easing.easeInOut,ur.childPulsate,K$,({theme:t})=>t.transitions.easing.easeInOut),Q$=D.forwardRef(function(e,r){const i=Ma({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:o={},className:a}=i,u=zt(i,G$),[h,d]=D.useState([]),g=D.useRef(0),v=D.useRef(null);D.useEffect(()=>{v.current&&(v.current(),v.current=null)},[h]);const w=D.useRef(!1),O=D.useRef(0),S=D.useRef(null),R=D.useRef(null);D.useEffect(()=>()=>{O.current&&clearTimeout(O.current)},[]);const M=D.useCallback(A=>{const{pulsate:_,rippleX:F,rippleY:N,rippleSize:V,cb:X}=A;d(U=>[...U,p.jsx(X$,{classes:{ripple:gt(o.ripple,ur.ripple),rippleVisible:gt(o.rippleVisible,ur.rippleVisible),ripplePulsate:gt(o.ripplePulsate,ur.ripplePulsate),child:gt(o.child,ur.child),childLeaving:gt(o.childLeaving,ur.childLeaving),childPulsate:gt(o.childPulsate,ur.childPulsate)},timeout:mm,pulsate:_,rippleX:F,rippleY:N,rippleSize:V},g.current)]),g.current+=1,v.current=X},[o]),x=D.useCallback((A={},_={},F=()=>{})=>{const{pulsate:N=!1,center:V=s||_.pulsate,fakeElement:X=!1}=_;if((A==null?void 0:A.type)==="mousedown"&&w.current){w.current=!1;return}(A==null?void 0:A.type)==="touchstart"&&(w.current=!0);const U=X?null:R.current,W=U?U.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,I,z;if(V||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)H=Math.round(W.width/2),I=Math.round(W.height/2);else{const{clientX:G,clientY:q}=A.touches&&A.touches.length>0?A.touches[0]:A;H=Math.round(G-W.left),I=Math.round(q-W.top)}if(V)z=Math.sqrt((2*W.width**2+W.height**2)/3),z%2===0&&(z+=1);else{const G=Math.max(Math.abs((U?U.clientWidth:0)-H),H)*2+2,q=Math.max(Math.abs((U?U.clientHeight:0)-I),I)*2+2;z=Math.sqrt(G**2+q**2)}A!=null&&A.touches?S.current===null&&(S.current=()=>{M({pulsate:N,rippleX:H,rippleY:I,rippleSize:z,cb:F})},O.current=setTimeout(()=>{S.current&&(S.current(),S.current=null)},H$)):M({pulsate:N,rippleX:H,rippleY:I,rippleSize:z,cb:F})},[s,M]),C=D.useCallback(()=>{x({},{pulsate:!0})},[x]),k=D.useCallback((A,_)=>{if(clearTimeout(O.current),(A==null?void 0:A.type)==="touchend"&&S.current){S.current(),S.current=null,O.current=setTimeout(()=>{k(A,_)});return}S.current=null,d(F=>F.length>0?F.slice(1):F),v.current=_},[]);return D.useImperativeHandle(r,()=>({pulsate:C,start:x,stop:k}),[C,x,k]),p.jsx(Y$,ne({className:gt(ur.root,o.root,a),ref:R},u,{children:p.jsx(U$,{component:null,exit:!0,children:h})}))}),J$=Q$;function Z$(t){return Oa("MuiButtonBase",t)}const eF=La("MuiButtonBase",["root","disabled","focusVisible"]),tF=eF,nF=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],rF=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:i,classes:s}=t,a=Hu({root:["root",e&&"disabled",r&&"focusVisible"]},Z$,s);return r&&i&&(a.root+=` ${i}`),a},iF=Tn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${tF.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),sF=D.forwardRef(function(e,r){const i=Ma({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:o=!1,children:a,className:u,component:h="button",disabled:d=!1,disableRipple:g=!1,disableTouchRipple:v=!1,focusRipple:w=!1,LinkComponent:O="a",onBlur:S,onClick:R,onContextMenu:M,onDragLeave:x,onFocus:C,onFocusVisible:k,onKeyDown:A,onKeyUp:_,onMouseDown:F,onMouseLeave:N,onMouseUp:V,onTouchEnd:X,onTouchMove:U,onTouchStart:W,tabIndex:H=0,TouchRippleProps:I,touchRippleRef:z,type:G}=i,q=zt(i,nF),L=D.useRef(null),P=D.useRef(null),j=yi(P,z),{isFocusVisibleRef:K,onFocus:Q,onBlur:te,ref:J}=vk(),[re,le]=D.useState(!1);d&&re&&le(!1),D.useImperativeHandle(s,()=>({focusVisible:()=>{le(!0),L.current.focus()}}),[]);const[de,xe]=D.useState(!1);D.useEffect(()=>{xe(!0)},[]);const Ve=de&&!g&&!d;D.useEffect(()=>{re&&w&&!g&&de&&P.current.pulsate()},[g,w,re,de]);function ke(ve,Ie,Te=v){return li(Se=>(Ie&&Ie(Se),!Te&&P.current&&P.current[ve](Se),!0))}const Ge=ke("start",F),qe=ke("stop",M),Ye=ke("stop",x),He=ke("stop",V),$e=ke("stop",ve=>{re&&ve.preventDefault(),N&&N(ve)}),Re=ke("start",W),Vt=ke("stop",X),Me=ke("stop",U),ut=ke("stop",ve=>{te(ve),K.current===!1&&le(!1),S&&S(ve)},!1),pe=li(ve=>{L.current||(L.current=ve.currentTarget),Q(ve),K.current===!0&&(le(!0),k&&k(ve)),C&&C(ve)}),Ee=()=>{const ve=L.current;return h&&h!=="button"&&!(ve.tagName==="A"&&ve.href)},ot=D.useRef(!1),Kt=li(ve=>{w&&!ot.current&&re&&P.current&&ve.key===" "&&(ot.current=!0,P.current.stop(ve,()=>{P.current.start(ve)})),ve.target===ve.currentTarget&&Ee()&&ve.key===" "&&ve.preventDefault(),A&&A(ve),ve.target===ve.currentTarget&&Ee()&&ve.key==="Enter"&&!d&&(ve.preventDefault(),R&&R(ve))}),Qr=li(ve=>{w&&ve.key===" "&&P.current&&re&&!ve.defaultPrevented&&(ot.current=!1,P.current.stop(ve,()=>{P.current.pulsate(ve)})),_&&_(ve),R&&ve.target===ve.currentTarget&&Ee()&&ve.key===" "&&!ve.defaultPrevented&&R(ve)});let Yn=h;Yn==="button"&&(q.href||q.to)&&(Yn=O);const ce={};Yn==="button"?(ce.type=G===void 0?"button":G,ce.disabled=d):(!q.href&&!q.to&&(ce.role="button"),d&&(ce["aria-disabled"]=d));const we=yi(r,J,L),Pe=ne({},i,{centerRipple:o,component:h,disabled:d,disableRipple:g,disableTouchRipple:v,focusRipple:w,tabIndex:H,focusVisible:re}),Le=rF(Pe);return p.jsxs(iF,ne({as:Yn,className:gt(Le.root,u),ownerState:Pe,onBlur:ut,onClick:R,onContextMenu:qe,onFocus:pe,onKeyDown:Kt,onKeyUp:Qr,onMouseDown:Ge,onMouseLeave:$e,onMouseUp:He,onDragLeave:Ye,onTouchEnd:Vt,onTouchMove:Me,onTouchStart:Re,ref:we,tabIndex:d?-1:H,type:G},ce,q,{children:[a,Ve?p.jsx(J$,ne({ref:j,center:o},I)):null]}))}),oF=sF;function Rl(t){return typeof t=="string"}function aF(t,e,r){return t===void 0||Rl(t)?e:ne({},e,{ownerState:ne({},e.ownerState,r)})}function lF(t,e,r=(i,s)=>i===s){return t.length===e.length&&t.every((i,s)=>r(i,e[s]))}function Yk(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(i=>i.match(/^on[A-Z]/)&&typeof t[i]=="function"&&!e.includes(i)).forEach(i=>{r[i]=t[i]}),r}function uF(t,e,r){return typeof t=="function"?t(e,r):t}function Tx(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function cF(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:i,externalForwardedProps:s,className:o}=t;if(!e){const O=gt(s==null?void 0:s.className,i==null?void 0:i.className,o,r==null?void 0:r.className),S=ne({},r==null?void 0:r.style,s==null?void 0:s.style,i==null?void 0:i.style),R=ne({},r,s,i);return O.length>0&&(R.className=O),Object.keys(S).length>0&&(R.style=S),{props:R,internalRef:void 0}}const a=Yk(ne({},s,i)),u=Tx(i),h=Tx(s),d=e(a),g=gt(d==null?void 0:d.className,r==null?void 0:r.className,o,s==null?void 0:s.className,i==null?void 0:i.className),v=ne({},d==null?void 0:d.style,r==null?void 0:r.style,s==null?void 0:s.style,i==null?void 0:i.style),w=ne({},d,r,h,u);return g.length>0&&(w.className=g),Object.keys(v).length>0&&(w.style=v),{props:w,internalRef:d.ref}}const hF=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Fr(t){var e;const{elementType:r,externalSlotProps:i,ownerState:s,skipResolvingSlotProps:o=!1}=t,a=zt(t,hF),u=o?{}:uF(i,s),{props:h,internalRef:d}=cF(ne({},a,{externalSlotProps:u})),g=yi(d,u==null?void 0:u.ref,(e=t.additionalProps)==null?void 0:e.ref);return aF(r,ne({},h,{ref:g}),s)}const dF=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function fF(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function pF(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=i=>t.ownerDocument.querySelector(`input[type="radio"]${i}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function gF(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||pF(t))}function mF(t){const e=[],r=[];return Array.from(t.querySelectorAll(dF)).forEach((i,s)=>{const o=fF(i);o===-1||!gF(i)||(o===0?e.push(i):r.push({documentOrder:s,tabIndex:o,node:i}))}),r.sort((i,s)=>i.tabIndex===s.tabIndex?i.documentOrder-s.documentOrder:i.tabIndex-s.tabIndex).map(i=>i.node).concat(e)}function vF(){return!0}function yF(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:s=!1,getTabbable:o=mF,isEnabled:a=vF,open:u}=t,h=D.useRef(!1),d=D.useRef(null),g=D.useRef(null),v=D.useRef(null),w=D.useRef(null),O=D.useRef(!1),S=D.useRef(null),R=yi(e.ref,S),M=D.useRef(null);D.useEffect(()=>{!u||!S.current||(O.current=!r)},[r,u]),D.useEffect(()=>{if(!u||!S.current)return;const k=pr(S.current);return S.current.contains(k.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),O.current&&S.current.focus()),()=>{s||(v.current&&v.current.focus&&(h.current=!0,v.current.focus()),v.current=null)}},[u]),D.useEffect(()=>{if(!u||!S.current)return;const k=pr(S.current),A=N=>{const{current:V}=S;if(V!==null){if(!k.hasFocus()||i||!a()||h.current){h.current=!1;return}if(!V.contains(k.activeElement)){if(N&&w.current!==N.target||k.activeElement!==w.current)w.current=null;else if(w.current!==null)return;if(!O.current)return;let W=[];if((k.activeElement===d.current||k.activeElement===g.current)&&(W=o(S.current)),W.length>0){var X,U;const H=!!((X=M.current)!=null&&X.shiftKey&&((U=M.current)==null?void 0:U.key)==="Tab"),I=W[0],z=W[W.length-1];typeof I!="string"&&typeof z!="string"&&(H?z.focus():I.focus())}else V.focus()}}},_=N=>{M.current=N,!(i||!a()||N.key!=="Tab")&&k.activeElement===S.current&&N.shiftKey&&(h.current=!0,g.current&&g.current.focus())};k.addEventListener("focusin",A),k.addEventListener("keydown",_,!0);const F=setInterval(()=>{k.activeElement&&k.activeElement.tagName==="BODY"&&A(null)},50);return()=>{clearInterval(F),k.removeEventListener("focusin",A),k.removeEventListener("keydown",_,!0)}},[r,i,s,a,u,o]);const x=k=>{v.current===null&&(v.current=k.relatedTarget),O.current=!0,w.current=k.target;const A=e.props.onFocus;A&&A(k)},C=k=>{v.current===null&&(v.current=k.relatedTarget),O.current=!0};return p.jsxs(D.Fragment,{children:[p.jsx("div",{tabIndex:u?0:-1,onFocus:C,ref:d,"data-testid":"sentinelStart"}),D.cloneElement(e,{ref:R,onFocus:x}),p.jsx("div",{tabIndex:u?0:-1,onFocus:C,ref:g,"data-testid":"sentinelEnd"})]})}function wF(t){return typeof t=="function"?t():t}const xF=D.forwardRef(function(e,r){const{children:i,container:s,disablePortal:o=!1}=e,[a,u]=D.useState(null),h=yi(D.isValidElement(i)?i.ref:null,r);if(ed(()=>{o||u(wF(s)||document.body)},[s,o]),ed(()=>{if(a&&!o)return um(r,a),()=>{um(r,null)}},[r,a,o]),o){if(D.isValidElement(i)){const d={ref:h};return D.cloneElement(i,d)}return p.jsx(D.Fragment,{children:i})}return p.jsx(D.Fragment,{children:a&&dv.createPortal(i,a)})});function SF(t){const e=pr(t);return e.body===t?My(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Al(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Ix(t){return parseInt(My(t).getComputedStyle(t).paddingRight,10)||0}function bF(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,i=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||i}function Px(t,e,r,i,s){const o=[e,r,...i];[].forEach.call(t.children,a=>{const u=o.indexOf(a)===-1,h=!bF(a);u&&h&&Al(a,s)})}function Op(t,e){let r=-1;return t.some((i,s)=>e(i)?(r=s,!0):!1),r}function CF(t,e){const r=[],i=t.container;if(!e.disableScrollLock){if(SF(i)){const a=N5(pr(i));r.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${Ix(i)+a}px`;const u=pr(i).querySelectorAll(".mui-fixed");[].forEach.call(u,h=>{r.push({value:h.style.paddingRight,property:"padding-right",el:h}),h.style.paddingRight=`${Ix(h)+a}px`})}let o;if(i.parentNode instanceof DocumentFragment)o=pr(i).body;else{const a=i.parentElement,u=My(i);o=(a==null?void 0:a.nodeName)==="HTML"&&u.getComputedStyle(a).overflowY==="scroll"?a:i}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:a,property:u})=>{o?a.style.setProperty(u,o):a.style.removeProperty(u)})}}function _F(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class EF{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,r){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&Al(e.modalRef,!1);const s=_F(r);Px(r,e.mount,e.modalRef,s,!0);const o=Op(this.containers,a=>a.container===r);return o!==-1?(this.containers[o].modals.push(e),i):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:s}),i)}mount(e,r){const i=Op(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];s.restore||(s.restore=CF(s,r))}remove(e,r=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const s=Op(this.containers,a=>a.modals.indexOf(e)!==-1),o=this.containers[s];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(i,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Al(e.modalRef,r),Px(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(s,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&Al(a.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function kF(t){return typeof t=="function"?t():t}function TF(t){return t?t.props.hasOwnProperty("in"):!1}const IF=new EF;function PF(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:s=IF,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:u,children:h,onClose:d,open:g,rootRef:v}=t,w=D.useRef({}),O=D.useRef(null),S=D.useRef(null),R=yi(S,v),[M,x]=D.useState(!g),C=TF(h);let k=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(k=!1);const A=()=>pr(O.current),_=()=>(w.current.modalRef=S.current,w.current.mount=O.current,w.current),F=()=>{s.mount(_(),{disableScrollLock:i}),S.current&&(S.current.scrollTop=0)},N=li(()=>{const q=kF(e)||A().body;s.add(_(),q),S.current&&F()}),V=D.useCallback(()=>s.isTopModal(_()),[s]),X=li(q=>{O.current=q,q&&(g&&V()?F():S.current&&Al(S.current,k))}),U=D.useCallback(()=>{s.remove(_(),k)},[k,s]);D.useEffect(()=>()=>{U()},[U]),D.useEffect(()=>{g?N():(!C||!o)&&U()},[g,U,C,o,N]);const W=q=>L=>{var P;(P=q.onKeyDown)==null||P.call(q,L),!(L.key!=="Escape"||!V())&&(r||(L.stopPropagation(),d&&d(L,"escapeKeyDown")))},H=q=>L=>{var P;(P=q.onClick)==null||P.call(q,L),L.target===L.currentTarget&&d&&d(L,"backdropClick")};return{getRootProps:(q={})=>{const L=Yk(t);delete L.onTransitionEnter,delete L.onTransitionExited;const P=ne({},L,q);return ne({role:"presentation"},P,{onKeyDown:W(P),ref:R})},getBackdropProps:(q={})=>{const L=q;return ne({"aria-hidden":!0},L,{onClick:H(L),open:g})},getTransitionProps:()=>{const q=()=>{x(!1),a&&a()},L=()=>{x(!0),u&&u(),o&&U()};return{onEnter:tx(q,h.props.onEnter),onExited:tx(L,h.props.onExited)}},rootRef:R,portalRef:X,isTopModal:V,exited:M,hasTransition:C}}const RF=2;function Xk(t,e){return t-e}function nl(t,e,r){return t==null?e:Math.min(Math.max(e,t),r)}function Rx(t,e){var r;const{index:i}=(r=t.reduce((s,o,a)=>{const u=Math.abs(e-o);return s===null||u<s.distance||u===s.distance?{distance:u,index:a}:s},null))!=null?r:{};return i}function Pc(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let i=0;i<r.changedTouches.length;i+=1){const s=r.changedTouches[i];if(s.identifier===e.current)return{x:s.clientX,y:s.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function id(t,e,r){return(t-e)*100/(r-e)}function AF(t,e,r){return(r-e)*t+e}function NF(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),i=r[0].split(".")[1];return(i?i.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function OF(t,e,r){const i=Math.round((t-r)/e)*e+r;return Number(i.toFixed(NF(e)))}function Ax({values:t,newValue:e,index:r}){const i=t.slice();return i[r]=e,i.sort(Xk)}function Rc({sliderRef:t,activeIndex:e,setActive:r}){var i,s;const o=pr(t.current);if(!((i=t.current)!=null&&i.contains(o.activeElement))||Number(o==null||(s=o.activeElement)==null?void 0:s.getAttribute("data-index"))!==e){var a;(a=t.current)==null||a.querySelector(`[type="range"][data-index="${e}"]`).focus()}r&&r(e)}function Ac(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?lF(t,e):!1}const LF={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},DF=t=>t;let Nc;function Lp(){return Nc===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Nc=CSS.supports("touch-action","none"):Nc=!0),Nc}function MF(t){const{"aria-labelledby":e,defaultValue:r,disabled:i=!1,disableSwap:s=!1,isRtl:o=!1,marks:a=!1,max:u=100,min:h=0,name:d,onChange:g,onChangeCommitted:v,orientation:w="horizontal",rootRef:O,scale:S=DF,step:R=1,tabIndex:M,value:x}=t,C=D.useRef(),[k,A]=D.useState(-1),[_,F]=D.useState(-1),[N,V]=D.useState(!1),X=D.useRef(0),[U,W]=E5({controlled:x,default:r??h,name:"Slider"}),H=g&&((ce,we,Pe)=>{const Le=ce.nativeEvent||ce,ve=new Le.constructor(Le.type,Le);Object.defineProperty(ve,"target",{writable:!0,value:{value:we,name:d}}),g(ve,we,Pe)}),I=Array.isArray(U);let z=I?U.slice().sort(Xk):[U];z=z.map(ce=>nl(ce,h,u));const G=a===!0&&R!==null?[...Array(Math.floor((u-h)/R)+1)].map((ce,we)=>({value:h+R*we})):a||[],q=G.map(ce=>ce.value),{isFocusVisibleRef:L,onBlur:P,onFocus:j,ref:K}=vk(),[Q,te]=D.useState(-1),J=D.useRef(),re=yi(K,J),le=yi(O,re),de=ce=>we=>{var Pe;const Le=Number(we.currentTarget.getAttribute("data-index"));j(we),L.current===!0&&te(Le),F(Le),ce==null||(Pe=ce.onFocus)==null||Pe.call(ce,we)},xe=ce=>we=>{var Pe;P(we),L.current===!1&&te(-1),F(-1),ce==null||(Pe=ce.onBlur)==null||Pe.call(ce,we)};ed(()=>{if(i&&J.current.contains(document.activeElement)){var ce;(ce=document.activeElement)==null||ce.blur()}},[i]),i&&k!==-1&&A(-1),i&&Q!==-1&&te(-1);const Ve=ce=>we=>{var Pe;(Pe=ce.onChange)==null||Pe.call(ce,we);const Le=Number(we.currentTarget.getAttribute("data-index")),ve=z[Le],Ie=q.indexOf(ve);let Te=we.target.valueAsNumber;if(G&&R==null){const Se=q[q.length-1];Te>Se?Te=Se:Te<q[0]?Te=q[0]:Te=Te<ve?q[Ie-1]:q[Ie+1]}if(Te=nl(Te,h,u),I){s&&(Te=nl(Te,z[Le-1]||-1/0,z[Le+1]||1/0));const Se=Te;Te=Ax({values:z,newValue:Te,index:Le});let nt=Le;s||(nt=Te.indexOf(Se)),Rc({sliderRef:J,activeIndex:nt})}W(Te),te(Le),H&&!Ac(Te,U)&&H(we,Te,Le),v&&v(we,Te)},ke=D.useRef();let Ge=w;o&&w==="horizontal"&&(Ge+="-reverse");const qe=({finger:ce,move:we=!1})=>{const{current:Pe}=J,{width:Le,height:ve,bottom:Ie,left:Te}=Pe.getBoundingClientRect();let Se;Ge.indexOf("vertical")===0?Se=(Ie-ce.y)/ve:Se=(ce.x-Te)/Le,Ge.indexOf("-reverse")!==-1&&(Se=1-Se);let nt;if(nt=AF(Se,h,u),R)nt=OF(nt,R,h);else{const yr=Rx(q,nt);nt=q[yr]}nt=nl(nt,h,u);let In=0;if(I){we?In=ke.current:In=Rx(z,nt),s&&(nt=nl(nt,z[In-1]||-1/0,z[In+1]||1/0));const yr=nt;nt=Ax({values:z,newValue:nt,index:In}),s&&we||(In=nt.indexOf(yr),ke.current=In)}return{newValue:nt,activeIndex:In}},Ye=li(ce=>{const we=Pc(ce,C);if(!we)return;if(X.current+=1,ce.type==="mousemove"&&ce.buttons===0){He(ce);return}const{newValue:Pe,activeIndex:Le}=qe({finger:we,move:!0});Rc({sliderRef:J,activeIndex:Le,setActive:A}),W(Pe),!N&&X.current>RF&&V(!0),H&&!Ac(Pe,U)&&H(ce,Pe,Le)}),He=li(ce=>{const we=Pc(ce,C);if(V(!1),!we)return;const{newValue:Pe}=qe({finger:we,move:!0});A(-1),ce.type==="touchend"&&F(-1),v&&v(ce,Pe),C.current=void 0,Re()}),$e=li(ce=>{if(i)return;Lp()||ce.preventDefault();const we=ce.changedTouches[0];we!=null&&(C.current=we.identifier);const Pe=Pc(ce,C);if(Pe!==!1){const{newValue:ve,activeIndex:Ie}=qe({finger:Pe});Rc({sliderRef:J,activeIndex:Ie,setActive:A}),W(ve),H&&!Ac(ve,U)&&H(ce,ve,Ie)}X.current=0;const Le=pr(J.current);Le.addEventListener("touchmove",Ye),Le.addEventListener("touchend",He)}),Re=D.useCallback(()=>{const ce=pr(J.current);ce.removeEventListener("mousemove",Ye),ce.removeEventListener("mouseup",He),ce.removeEventListener("touchmove",Ye),ce.removeEventListener("touchend",He)},[He,Ye]);D.useEffect(()=>{const{current:ce}=J;return ce.addEventListener("touchstart",$e,{passive:Lp()}),()=>{ce.removeEventListener("touchstart",$e,{passive:Lp()}),Re()}},[Re,$e]),D.useEffect(()=>{i&&Re()},[i,Re]);const Vt=ce=>we=>{var Pe;if((Pe=ce.onMouseDown)==null||Pe.call(ce,we),i||we.defaultPrevented||we.button!==0)return;we.preventDefault();const Le=Pc(we,C);if(Le!==!1){const{newValue:Ie,activeIndex:Te}=qe({finger:Le});Rc({sliderRef:J,activeIndex:Te,setActive:A}),W(Ie),H&&!Ac(Ie,U)&&H(we,Ie,Te)}X.current=0;const ve=pr(J.current);ve.addEventListener("mousemove",Ye),ve.addEventListener("mouseup",He)},Me=id(I?z[0]:h,h,u),ut=id(z[z.length-1],h,u)-Me,pe=(ce={})=>{const we={onMouseDown:Vt(ce||{})},Pe=ne({},ce,we);return ne({ref:le},Pe)},Ee=ce=>we=>{var Pe;(Pe=ce.onMouseOver)==null||Pe.call(ce,we);const Le=Number(we.currentTarget.getAttribute("data-index"));F(Le)},ot=ce=>we=>{var Pe;(Pe=ce.onMouseLeave)==null||Pe.call(ce,we),F(-1)};return{active:k,axis:Ge,axisProps:LF,dragging:N,focusedThumbIndex:Q,getHiddenInputProps:(ce={})=>{var we;const Pe={onChange:Ve(ce||{}),onFocus:de(ce||{}),onBlur:xe(ce||{})},Le=ne({},ce,Pe);return ne({tabIndex:M,"aria-labelledby":e,"aria-orientation":w,"aria-valuemax":S(u),"aria-valuemin":S(h),name:d,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(we=t.step)!=null?we:void 0,disabled:i},Le,{style:ne({},L5,{direction:o?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:pe,getThumbProps:(ce={})=>{const we={onMouseOver:Ee(ce||{}),onMouseLeave:ot(ce||{})};return ne({},ce,we)},marks:G,open:_,range:I,rootRef:le,trackLeap:ut,trackOffset:Me,values:z,getThumbStyle:ce=>({pointerEvents:k!==-1&&k!==ce?"none":void 0})}}const jF=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],$F={entering:{opacity:1},entered:{opacity:1}},FF=D.forwardRef(function(e,r){const i=Hk(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:u,easing:h,in:d,onEnter:g,onEntered:v,onEntering:w,onExit:O,onExited:S,onExiting:R,style:M,timeout:x=s,TransitionComponent:C=O$}=e,k=zt(e,jF),A=D.useRef(null),_=yi(A,u.ref,r),F=z=>G=>{if(z){const q=A.current;G===void 0?z(q):z(q,G)}},N=F(w),V=F((z,G)=>{B$(z);const q=bx({style:M,timeout:x,easing:h},{mode:"enter"});z.style.webkitTransition=i.transitions.create("opacity",q),z.style.transition=i.transitions.create("opacity",q),g&&g(z,G)}),X=F(v),U=F(R),W=F(z=>{const G=bx({style:M,timeout:x,easing:h},{mode:"exit"});z.style.webkitTransition=i.transitions.create("opacity",G),z.style.transition=i.transitions.create("opacity",G),O&&O(z)}),H=F(S),I=z=>{o&&o(A.current,z)};return p.jsx(C,ne({appear:a,in:d,nodeRef:A,onEnter:V,onEntered:X,onEntering:N,onExit:W,onExited:H,onExiting:U,addEndListener:I,timeout:x},k,{children:(z,G)=>D.cloneElement(u,ne({style:ne({opacity:0,visibility:z==="exited"&&!d?"hidden":void 0},$F[z],M,u.props.style),ref:_},G))}))}),UF=FF;function BF(t){return Oa("MuiBackdrop",t)}La("MuiBackdrop",["root","invisible"]);const zF=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],VF=t=>{const{classes:e,invisible:r}=t;return Hu({root:["root",r&&"invisible"]},BF,e)},GF=Tn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})(({ownerState:t})=>ne({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),HF=D.forwardRef(function(e,r){var i,s,o;const a=Ma({props:e,name:"MuiBackdrop"}),{children:u,className:h,component:d="div",components:g={},componentsProps:v={},invisible:w=!1,open:O,slotProps:S={},slots:R={},TransitionComponent:M=UF,transitionDuration:x}=a,C=zt(a,zF),k=ne({},a,{component:d,invisible:w}),A=VF(k),_=(i=S.root)!=null?i:v.root;return p.jsx(M,ne({in:O,timeout:x},C,{children:p.jsx(GF,ne({"aria-hidden":!0},_,{as:(s=(o=R.root)!=null?o:g.Root)!=null?s:d,className:gt(A.root,h,_==null?void 0:_.className),ownerState:ne({},k,_==null?void 0:_.ownerState),classes:A,ref:r,children:u}))}))}),WF=HF,qF=Gk(),KF=z4({themeId:nf,defaultTheme:qF,defaultClassName:"MuiBox-root",generateClassName:yk.generate}),sd=KF;function YF(t){return Oa("MuiButton",t)}const XF=La("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Oc=XF,QF=D.createContext({}),JF=QF,ZF=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],e6=t=>{const{color:e,disableElevation:r,fullWidth:i,size:s,variant:o,classes:a}=t,u={root:["root",o,`${o}${xt(e)}`,`size${xt(s)}`,`${o}Size${xt(s)}`,e==="inherit"&&"colorInherit",r&&"disableElevation",i&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${xt(s)}`],endIcon:["endIcon",`iconSize${xt(s)}`]},h=Hu(u,YF,a);return ne({},a,h)},Qk=t=>ne({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),t6=Tn(oF,{shouldForwardProp:t=>Wk(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${xt(r.color)}`],e[`size${xt(r.size)}`],e[`${r.variant}Size${xt(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var r,i;const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return ne({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":ne({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Uo(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Uo(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Uo(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":ne({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Oc.focusVisible}`]:ne({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Oc.disabled}`]:ne({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Uo(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(r=(i=t.palette).getContrastText)==null?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Oc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Oc.disabled}`]:{boxShadow:"none"}}),n6=Tn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,e[`iconSize${xt(r.size)}`]]}})(({ownerState:t})=>ne({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},Qk(t))),r6=Tn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,e[`iconSize${xt(r.size)}`]]}})(({ownerState:t})=>ne({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},Qk(t))),i6=D.forwardRef(function(e,r){const i=D.useContext(JF),s=jy(i,e),o=Ma({props:s,name:"MuiButton"}),{children:a,color:u="primary",component:h="button",className:d,disabled:g=!1,disableElevation:v=!1,disableFocusRipple:w=!1,endIcon:O,focusVisibleClassName:S,fullWidth:R=!1,size:M="medium",startIcon:x,type:C,variant:k="text"}=o,A=zt(o,ZF),_=ne({},o,{color:u,component:h,disabled:g,disableElevation:v,disableFocusRipple:w,fullWidth:R,size:M,type:C,variant:k}),F=e6(_),N=x&&p.jsx(n6,{className:F.startIcon,ownerState:_,children:x}),V=O&&p.jsx(r6,{className:F.endIcon,ownerState:_,children:O});return p.jsxs(t6,ne({ownerState:_,className:gt(i.className,F.root,d),component:h,disabled:g,focusRipple:!w,focusVisibleClassName:gt(F.focusVisible,S),ref:r,type:C},A,{classes:F,children:[N,a,V]}))}),od=i6;function s6(t){return Oa("MuiModal",t)}La("MuiModal",["root","hidden","backdrop"]);const o6=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],a6=t=>{const{open:e,exited:r,classes:i}=t;return Hu({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},s6,i)},l6=Tn("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(({theme:t,ownerState:e})=>ne({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),u6=Tn(WF,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),c6=D.forwardRef(function(e,r){var i,s,o,a,u,h;const d=Ma({name:"MuiModal",props:e}),{BackdropComponent:g=u6,BackdropProps:v,className:w,closeAfterTransition:O=!1,children:S,container:R,component:M,components:x={},componentsProps:C={},disableAutoFocus:k=!1,disableEnforceFocus:A=!1,disableEscapeKeyDown:_=!1,disablePortal:F=!1,disableRestoreFocus:N=!1,disableScrollLock:V=!1,hideBackdrop:X=!1,keepMounted:U=!1,onBackdropClick:W,open:H,slotProps:I,slots:z}=d,G=zt(d,o6),q=ne({},d,{closeAfterTransition:O,disableAutoFocus:k,disableEnforceFocus:A,disableEscapeKeyDown:_,disablePortal:F,disableRestoreFocus:N,disableScrollLock:V,hideBackdrop:X,keepMounted:U}),{getRootProps:L,getBackdropProps:P,getTransitionProps:j,portalRef:K,isTopModal:Q,exited:te,hasTransition:J}=PF(ne({},q,{rootRef:r})),re=ne({},q,{exited:te}),le=a6(re),de={};if(S.props.tabIndex===void 0&&(de.tabIndex="-1"),J){const{onEnter:He,onExited:$e}=j();de.onEnter=He,de.onExited=$e}const xe=(i=(s=z==null?void 0:z.root)!=null?s:x.Root)!=null?i:l6,Ve=(o=(a=z==null?void 0:z.backdrop)!=null?a:x.Backdrop)!=null?o:g,ke=(u=I==null?void 0:I.root)!=null?u:C.root,Ge=(h=I==null?void 0:I.backdrop)!=null?h:C.backdrop,qe=Fr({elementType:xe,externalSlotProps:ke,externalForwardedProps:G,getSlotProps:L,additionalProps:{ref:r,as:M},ownerState:re,className:gt(w,ke==null?void 0:ke.className,le==null?void 0:le.root,!re.open&&re.exited&&(le==null?void 0:le.hidden))}),Ye=Fr({elementType:Ve,externalSlotProps:Ge,additionalProps:v,getSlotProps:He=>P(ne({},He,{onClick:$e=>{W&&W($e),He!=null&&He.onClick&&He.onClick($e)}})),className:gt(Ge==null?void 0:Ge.className,v==null?void 0:v.className,le==null?void 0:le.backdrop),ownerState:re});return!U&&!H&&(!J||te)?null:p.jsx(xF,{ref:K,container:R,disablePortal:F,children:p.jsxs(xe,ne({},qe,{children:[!X&&g?p.jsx(Ve,ne({},Ye)):null,p.jsx(yF,{disableEnforceFocus:A,disableAutoFocus:k,disableRestoreFocus:N,isEnabled:Q,open:H,children:D.cloneElement(S,de)})]}))})}),Jk=c6,h6=t=>!t||!Rl(t),d6=h6;function f6(t){return Oa("MuiSlider",t)}const p6=La("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Tr=p6,g6=t=>{const{open:e}=t;return{offset:gt(e&&Tr.valueLabelOpen),circle:Tr.valueLabelCircle,label:Tr.valueLabelLabel}};function m6(t){const{children:e,className:r,value:i}=t,s=g6(t);return e?D.cloneElement(e,{className:gt(e.props.className)},p.jsxs(D.Fragment,{children:[e.props.children,p.jsx("span",{className:gt(s.offset,r),"aria-hidden":!0,children:p.jsx("span",{className:s.circle,children:p.jsx("span",{className:s.label,children:i})})})]})):null}const v6=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Nx(t){return t}const y6=Tn("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${xt(r.color)}`],r.size!=="medium"&&e[`size${xt(r.size)}`],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(({theme:t,ownerState:e})=>ne({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(t.vars||t).palette[e.color].main,WebkitTapHighlightColor:"transparent"},e.orientation==="horizontal"&&ne({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},e.size==="small"&&{height:2},e.marked&&{marginBottom:20}),e.orientation==="vertical"&&ne({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},e.size==="small"&&{width:2},e.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${Tr.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Tr.dragging}`]:{[`& .${Tr.thumb}, & .${Tr.track}`]:{transition:"none"}}})),w6=Tn("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})(({ownerState:t})=>ne({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},t.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track==="inverted"&&{opacity:1})),x6=Tn("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?Vk(t.palette[e.color].main,.62):zk(t.palette[e.color].main,.5);return ne({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{border:"none"},e.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track===!1&&{display:"none"},e.track==="inverted"&&{backgroundColor:t.vars?t.vars.palette.Slider[`${e.color}Track`]:r,borderColor:t.vars?t.vars.palette.Slider[`${e.color}Track`]:r})}),S6=Tn("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e[`thumbColor${xt(r.color)}`],r.size!=="medium"&&e[`thumbSize${xt(r.size)}`]]}})(({theme:t,ownerState:e})=>ne({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{width:12,height:12},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":ne({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},e.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${Tr.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.16)`:Uo(t.palette[e.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Tr.active}`]:{boxShadow:`0px 0px 0px 14px ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.16)`:Uo(t.palette[e.color].main,.16)}`},[`&.${Tr.disabled}`]:{"&:hover":{boxShadow:"none"}}})),b6=Tn(m6,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t,ownerState:e})=>ne({[`&.${Tr.valueLabelOpen}`]:{transform:`${e.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),transform:`${e.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},e.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},e.orientation==="vertical"&&{right:e.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},e.size==="small"&&{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),C6=Tn("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>qk(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(({theme:t,ownerState:e,markActive:r})=>ne({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8})),_6=Tn("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>qk(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t,ownerState:e,markLabelActive:r})=>ne({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},e.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},e.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:(t.vars||t).palette.text.primary})),E6=t=>{const{disabled:e,dragging:r,marked:i,orientation:s,track:o,classes:a,color:u,size:h}=t,d={root:["root",e&&"disabled",r&&"dragging",i&&"marked",s==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",u&&`color${xt(u)}`,h&&`size${xt(h)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",h&&`thumbSize${xt(h)}`,u&&`thumbColor${xt(u)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Hu(d,f6,a)},k6=({children:t})=>t,T6=D.forwardRef(function(e,r){var i,s,o,a,u,h,d,g,v,w,O,S,R,M,x,C,k,A,_,F,N,V,X,U;const W=Ma({props:e,name:"MuiSlider"}),I=Hk().direction==="rtl",{"aria-label":z,"aria-valuetext":G,"aria-labelledby":q,component:L="span",components:P={},componentsProps:j={},color:K="primary",classes:Q,className:te,disableSwap:J=!1,disabled:re=!1,getAriaLabel:le,getAriaValueText:de,marks:xe=!1,max:Ve=100,min:ke=0,orientation:Ge="horizontal",size:qe="medium",step:Ye=1,scale:He=Nx,slotProps:$e,slots:Re,track:Vt="normal",valueLabelDisplay:Me="off",valueLabelFormat:ut=Nx}=W,pe=zt(W,v6),Ee=ne({},W,{isRtl:I,max:Ve,min:ke,classes:Q,disabled:re,disableSwap:J,orientation:Ge,marks:xe,color:K,size:qe,step:Ye,scale:He,track:Vt,valueLabelDisplay:Me,valueLabelFormat:ut}),{axisProps:ot,getRootProps:Kt,getHiddenInputProps:Qr,getThumbProps:Yn,open:ce,active:we,axis:Pe,focusedThumbIndex:Le,range:ve,dragging:Ie,marks:Te,values:Se,trackOffset:nt,trackLeap:In,getThumbStyle:yr}=MF(ne({},Ee,{rootRef:r}));Ee.marked=Te.length>0&&Te.some(ft=>ft.label),Ee.dragging=Ie,Ee.focusedThumbIndex=Le;const Gt=E6(Ee),Nr=(i=(s=Re==null?void 0:Re.root)!=null?s:P.Root)!=null?i:y6,bi=(o=(a=Re==null?void 0:Re.rail)!=null?a:P.Rail)!=null?o:w6,ls=(u=(h=Re==null?void 0:Re.track)!=null?h:P.Track)!=null?u:x6,us=(d=(g=Re==null?void 0:Re.thumb)!=null?g:P.Thumb)!=null?d:S6,cs=(v=(w=Re==null?void 0:Re.valueLabel)!=null?w:P.ValueLabel)!=null?v:b6,Ci=(O=(S=Re==null?void 0:Re.mark)!=null?S:P.Mark)!=null?O:C6,hs=(R=(M=Re==null?void 0:Re.markLabel)!=null?M:P.MarkLabel)!=null?R:_6,ja=(x=(C=Re==null?void 0:Re.input)!=null?C:P.Input)!=null?x:"input",lo=(k=$e==null?void 0:$e.root)!=null?k:j.root,Yu=(A=$e==null?void 0:$e.rail)!=null?A:j.rail,uo=(_=$e==null?void 0:$e.track)!=null?_:j.track,ds=(F=$e==null?void 0:$e.thumb)!=null?F:j.thumb,$a=(N=$e==null?void 0:$e.valueLabel)!=null?N:j.valueLabel,Fa=(V=$e==null?void 0:$e.mark)!=null?V:j.mark,fs=(X=$e==null?void 0:$e.markLabel)!=null?X:j.markLabel,_i=(U=$e==null?void 0:$e.input)!=null?U:j.input,Xu=Fr({elementType:Nr,getSlotProps:Kt,externalSlotProps:lo,externalForwardedProps:pe,additionalProps:ne({},d6(Nr)&&{as:L}),ownerState:ne({},Ee,lo==null?void 0:lo.ownerState),className:[Gt.root,te]}),co=Fr({elementType:bi,externalSlotProps:Yu,ownerState:Ee,className:Gt.rail}),ho=Fr({elementType:ls,externalSlotProps:uo,additionalProps:{style:ne({},ot[Pe].offset(nt),ot[Pe].leap(In))},ownerState:ne({},Ee,uo==null?void 0:uo.ownerState),className:Gt.track}),fo=Fr({elementType:us,getSlotProps:Yn,externalSlotProps:ds,ownerState:ne({},Ee,ds==null?void 0:ds.ownerState),className:Gt.thumb}),Qu=Fr({elementType:cs,externalSlotProps:$a,ownerState:ne({},Ee,$a==null?void 0:$a.ownerState),className:Gt.valueLabel}),po=Fr({elementType:Ci,externalSlotProps:Fa,ownerState:Ee,className:Gt.mark}),go=Fr({elementType:hs,externalSlotProps:fs,ownerState:Ee,className:Gt.markLabel}),Ju=Fr({elementType:ja,getSlotProps:Qr,externalSlotProps:_i,ownerState:Ee});return p.jsxs(Nr,ne({},Xu,{children:[p.jsx(bi,ne({},co)),p.jsx(ls,ne({},ho)),Te.filter(ft=>ft.value>=ke&&ft.value<=Ve).map((ft,Tt)=>{const Jr=id(ft.value,ke,Ve),ue=ot[Pe].offset(Jr);let lr;return Vt===!1?lr=Se.indexOf(ft.value)!==-1:lr=Vt==="normal"&&(ve?ft.value>=Se[0]&&ft.value<=Se[Se.length-1]:ft.value<=Se[0])||Vt==="inverted"&&(ve?ft.value<=Se[0]||ft.value>=Se[Se.length-1]:ft.value>=Se[0]),p.jsxs(D.Fragment,{children:[p.jsx(Ci,ne({"data-index":Tt},po,!Rl(Ci)&&{markActive:lr},{style:ne({},ue,po.style),className:gt(po.className,lr&&Gt.markActive)})),ft.label!=null?p.jsx(hs,ne({"aria-hidden":!0,"data-index":Tt},go,!Rl(hs)&&{markLabelActive:lr},{style:ne({},ue,go.style),className:gt(Gt.markLabel,go.className,lr&&Gt.markLabelActive),children:ft.label})):null]},Tt)}),Se.map((ft,Tt)=>{const Jr=id(ft,ke,Ve),ue=ot[Pe].offset(Jr),lr=Me==="off"?k6:cs;return p.jsx(lr,ne({},!Rl(lr)&&{valueLabelFormat:ut,valueLabelDisplay:Me,value:typeof ut=="function"?ut(He(ft),Tt):ut,index:Tt,open:ce===Tt||we===Tt||Me==="on",disabled:re},Qu,{children:p.jsx(us,ne({"data-index":Tt},fo,{className:gt(Gt.thumb,fo.className,we===Tt&&Gt.active,Le===Tt&&Gt.focusVisible),style:ne({},ue,yr(Tt),fo.style),children:p.jsx(ja,ne({"data-index":Tt,"aria-label":le?le(Tt):z,"aria-valuenow":He(ft),"aria-labelledby":q,"aria-valuetext":de?de(He(ft),Tt):G,value:Se[Tt]},Ju))}))}),Tt)})]}))}),Zk=T6;var eT={exports:{}};(function(t,e){(function(r,i){t.exports=i(mk(),D)})(Mp,function(r,i){function s(I){return I&&typeof I=="object"&&"default"in I?I:{default:I}}var o=s(r),a=s(i);function u(I,z){for(var G=0;G<z.length;G++){var q=z[G];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(I,q.key,q)}}function h(I,z,G){return z in I?Object.defineProperty(I,z,{value:G,enumerable:!0,configurable:!0,writable:!0}):I[z]=G,I}function d(){return(d=Object.assign||function(I){for(var z=1;z<arguments.length;z++){var G=arguments[z];for(var q in G)Object.prototype.hasOwnProperty.call(G,q)&&(I[q]=G[q])}return I}).apply(this,arguments)}function g(I,z){var G,q=Object.keys(I);return Object.getOwnPropertySymbols&&(G=Object.getOwnPropertySymbols(I),z&&(G=G.filter(function(L){return Object.getOwnPropertyDescriptor(I,L).enumerable})),q.push.apply(q,G)),q}function v(I){for(var z=1;z<arguments.length;z++){var G=arguments[z]!=null?arguments[z]:{};z%2?g(Object(G),!0).forEach(function(q){h(I,q,G[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(G)):g(Object(G)).forEach(function(q){Object.defineProperty(I,q,Object.getOwnPropertyDescriptor(G,q))})}return I}function w(I){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(I)}function O(I,z){return(O=Object.setPrototypeOf||function(G,q){return G.__proto__=q,G})(I,z)}function S(I,z){if(I==null)return{};var G,q=function(j,K){if(j==null)return{};for(var Q,te={},J=Object.keys(j),re=0;re<J.length;re++)Q=J[re],0<=K.indexOf(Q)||(te[Q]=j[Q]);return te}(I,z);if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(I),P=0;P<L.length;P++)G=L[P],0<=z.indexOf(G)||Object.prototype.propertyIsEnumerable.call(I,G)&&(q[G]=I[G]);return q}function R(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function M(I){var z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var G,q,L,P,j=w(I);return q=z?(G=w(this).constructor,Reflect.construct(j,arguments,G)):j.apply(this,arguments),L=this,!(P=q)||typeof P!="object"&&typeof P!="function"?R(L):P}}function x(I,z){return function(G){if(Array.isArray(G))return G}(I)||function(G,q){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(G)))){var L=[],P=!0,j=!1,K=void 0;try{for(var Q,te=G[Symbol.iterator]();!(P=(Q=te.next()).done)&&(L.push(Q.value),!q||L.length!==q);P=!0);}catch(J){j=!0,K=J}finally{try{P||te.return==null||te.return()}finally{if(j)throw K}}return L}}(I,z)||C(I,z)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C(I,z){if(I){if(typeof I=="string")return k(I,z);var G=Object.prototype.toString.call(I).slice(8,-1);return G==="Object"&&I.constructor&&(G=I.constructor.name),G==="Map"||G==="Set"?Array.from(I):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?k(I,z):void 0}}function k(I,z){(z==null||z>I.length)&&(z=I.length);for(var G=0,q=new Array(z);G<z;G++)q[G]=I[G];return q}function A(I,z){return new Promise(function(G,q){var L,P=new Image;P.onload=function(){return G(P)},P.onerror=q,!((L=I)!==null&&L.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@/?%\s]*\s*$/i))&&z&&(P.crossOrigin=z),P.src=I})}var _,F=!(typeof window>"u"||typeof navigator>"u"||!("ontouchstart"in window||0<navigator.msMaxTouchPoints)),N=typeof File<"u",V={touch:{react:{down:"onTouchStart",mouseDown:"onMouseDown",drag:"onTouchMove",move:"onTouchMove",mouseMove:"onMouseMove",up:"onTouchEnd",mouseUp:"onMouseUp"},native:{down:"touchstart",mouseDown:"mousedown",drag:"touchmove",move:"touchmove",mouseMove:"mousemove",up:"touchend",mouseUp:"mouseup"}},desktop:{react:{down:"onMouseDown",drag:"onDragOver",move:"onMouseMove",up:"onMouseUp"},native:{down:"mousedown",drag:"dragStart",move:"mousemove",up:"mouseup"}}},X=F?V.touch:V.desktop,U=typeof window<"u"&&window.devicePixelRatio?window.devicePixelRatio:1,W={x:.5,y:.5},H=function(){(function(L,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(P&&P.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),P&&O(L,P)})(q,a.default.Component);var I,z,G=M(q);function q(L){var P;return function(j,K){if(!(j instanceof K))throw new TypeError("Cannot call a class as a function")}(this,q),h(R(P=G.call(this,L)),"state",{drag:!1,my:null,mx:null,image:W}),h(R(P),"handleImageReady",function(j){var K=P.getInitialSize(j.width,j.height);K.resource=j,K.x=.5,K.y=.5,K.backgroundColor=P.props.backgroundColor,P.setState({drag:!1,image:K},P.props.onImageReady),P.props.onLoadSuccess(K)}),h(R(P),"clearImage",function(){P.canvas.getContext("2d").clearRect(0,0,P.canvas.width,P.canvas.height),P.setState({image:W})}),h(R(P),"handleMouseDown",function(j){(j=j||window.event).preventDefault(),P.setState({drag:!0,mx:null,my:null})}),h(R(P),"handleMouseUp",function(){P.state.drag&&(P.setState({drag:!1}),P.props.onMouseUp())}),h(R(P),"handleMouseMove",function(j){var K,Q,te,J,re,le,de,xe,Ve,ke,Ge,qe,Ye,He,$e,Re;j=j||window.event,P.state.drag!==!1&&(j.preventDefault(),te={mx:K=j.targetTouches?j.targetTouches[0].pageX:j.clientX,my:Q=j.targetTouches?j.targetTouches[0].pageY:j.clientY},Re=P.props.rotate,Re=(Re%=360)<0?Re+360:Re,P.state.mx&&P.state.my&&(J=P.state.mx-K,re=P.state.my-Q,le=P.state.image.width*P.props.scale,de=P.state.image.height*P.props.scale,Ve=(xe=P.getCroppingRect()).x,ke=xe.y,Ve*=le,ke*=de,Ge=function(Vt){return Vt*(Math.PI/180)},qe=Math.cos(Ge(Re)),He=ke+-J*(Ye=Math.sin(Ge(Re)))+re*qe,$e={x:(Ve+J*qe+re*Ye)/le+1/P.props.scale*P.getXScale()/2,y:He/de+1/P.props.scale*P.getYScale()/2},P.props.onPositionChange($e),te.image=v(v({},P.state.image),$e)),P.setState(te),P.props.onMouseMove(j))}),h(R(P),"setCanvas",function(j){P.canvas=j}),P.canvas=null,P}return I=q,(z=[{key:"componentDidMount",value:function(){this.props.disableHiDPIScaling&&(U=1);var L,P,j=this.canvas.getContext("2d");this.props.image&&this.loadImage(this.props.image),this.paint(j),document&&(L=!!function(){var K=!1;try{var Q=Object.defineProperty({},"passive",{get:function(){K=!0}});window.addEventListener("test",Q,Q),window.removeEventListener("test",Q,Q)}catch{K=!1}return K}()&&{passive:!1},P=X.native,document.addEventListener(P.move,this.handleMouseMove,L),document.addEventListener(P.up,this.handleMouseUp,L),F&&(document.addEventListener(P.mouseMove,this.handleMouseMove,L),document.addEventListener(P.mouseUp,this.handleMouseUp,L)))}},{key:"componentDidUpdate",value:function(L,P){this.props.image&&this.props.image!==L.image||this.props.width!==L.width||this.props.height!==L.height||this.props.backgroundColor!==L.backgroundColor?this.loadImage(this.props.image):this.props.image||P.image===W||this.clearImage();var j=this.canvas.getContext("2d");j.clearRect(0,0,this.canvas.width,this.canvas.height),this.paint(j),this.paintImage(j,this.state.image,this.props.border),L.image===this.props.image&&L.width===this.props.width&&L.height===this.props.height&&L.position===this.props.position&&L.scale===this.props.scale&&L.rotate===this.props.rotate&&P.my===this.state.my&&P.mx===this.state.mx&&P.image.x===this.state.image.x&&P.image.y===this.state.image.y&&P.backgroundColor===this.state.backgroundColor||this.props.onImageChange()}},{key:"componentWillUnmount",value:function(){var L;document&&(L=X.native,document.removeEventListener(L.move,this.handleMouseMove,!1),document.removeEventListener(L.up,this.handleMouseUp,!1),F&&(document.removeEventListener(L.mouseMove,this.handleMouseMove,!1),document.removeEventListener(L.mouseUp,this.handleMouseUp,!1)))}},{key:"isVertical",value:function(){return!this.props.disableCanvasRotation&&this.props.rotate%180!=0}},{key:"getBorders",value:function(L){var P=0<arguments.length&&L!==void 0?L:this.props.border;return Array.isArray(P)?P:[P,P]}},{key:"getDimensions",value:function(){var L=this.props,P=L.width,j=L.height,K=L.rotate,Q=L.border,te={},J=x(this.getBorders(Q),2),re=J[0],le=J[1],de=P,xe=j;return this.isVertical()?(te.width=xe,te.height=de):(te.width=de,te.height=xe),te.width+=2*re,te.height+=2*le,{canvas:te,rotate:K,width:P,height:j,border:Q}}},{key:"getImage",value:function(){var L=this.getCroppingRect(),P=this.state.image;L.x*=P.resource.width,L.y*=P.resource.height,L.width*=P.resource.width,L.height*=P.resource.height;var j=document.createElement("canvas");this.isVertical()?(j.width=L.height,j.height=L.width):(j.width=L.width,j.height=L.height);var K=j.getContext("2d");return K.translate(j.width/2,j.height/2),K.rotate(this.props.rotate*Math.PI/180),K.translate(-j.width/2,-j.height/2),this.isVertical()&&K.translate((j.width-j.height)/2,(j.height-j.width)/2),P.backgroundColor&&(K.fillStyle=P.backgroundColor,K.fillRect(-L.x,-L.y,P.resource.width,P.resource.height)),K.drawImage(P.resource,-L.x,-L.y),j}},{key:"getImageScaledToCanvas",value:function(){var L=this.getDimensions(),P=L.width,j=L.height,K=document.createElement("canvas");return this.isVertical()?(K.width=j,K.height=P):(K.width=P,K.height=j),this.paintImage(K.getContext("2d"),this.state.image,0,1),K}},{key:"getXScale",value:function(){var L=this.props.width/this.props.height,P=this.state.image.width/this.state.image.height;return Math.min(1,L/P)}},{key:"getYScale",value:function(){var L=this.props.height/this.props.width,P=this.state.image.height/this.state.image.width;return Math.min(1,L/P)}},{key:"getCroppingRect",value:function(){var L=this.props.position||{x:this.state.image.x,y:this.state.image.y},P=1/this.props.scale*this.getXScale(),j=1/this.props.scale*this.getYScale(),K={x:L.x-P/2,y:L.y-j/2,width:P,height:j},Q=0,te=1-K.width,J=0,re=1-K.height;return(this.props.disableBoundaryChecks||1<P||1<j)&&(Q=-K.width,J=-K.height,re=te=1),v(v({},K),{},{x:Math.max(Q,Math.min(K.x,te)),y:Math.max(J,Math.min(K.y,re))})}},{key:"loadImage",value:function(L){var P;N&&L instanceof File?this.loadingImage=(P=L,new Promise(function(j,K){var Q=new FileReader;Q.onload=function(te){try{var J=A(te.target.result);j(J)}catch(re){K(re)}},Q.readAsDataURL(P)}).then(this.handleImageReady).catch(this.props.onLoadFailure)):typeof L=="string"&&(this.loadingImage=A(L,this.props.crossOrigin).then(this.handleImageReady).catch(this.props.onLoadFailure))}},{key:"getInitialSize",value:function(L,P){var j,K,Q=this.getDimensions();return P/L<Q.height/Q.width?K=L*((j=this.getDimensions().height)/P):j=P*((K=this.getDimensions().width)/L),{height:j,width:K}}},{key:"paintImage",value:function(L,P,j,K){var Q,te=3<arguments.length&&K!==void 0?K:U;P.resource&&(Q=this.calculatePosition(P,j),L.save(),L.translate(L.canvas.width/2,L.canvas.height/2),L.rotate(this.props.rotate*Math.PI/180),L.translate(-L.canvas.width/2,-L.canvas.height/2),this.isVertical()&&L.translate((L.canvas.width-L.canvas.height)/2,(L.canvas.height-L.canvas.width)/2),L.scale(te,te),L.globalCompositeOperation="destination-over",L.drawImage(P.resource,Q.x,Q.y,Q.width,Q.height),P.backgroundColor&&(L.fillStyle=P.backgroundColor,L.fillRect(Q.x,Q.y,Q.width,Q.height)),L.restore())}},{key:"calculatePosition",value:function(L,P){L=L||this.state.image;var j=x(this.getBorders(P),2),K=j[0],Q=j[1],te=this.getCroppingRect(),J=L.width*this.props.scale,re=L.height*this.props.scale,le=-te.x*J,de=-te.y*re;return this.isVertical()?(le+=Q,de+=K):(le+=K,de+=Q),{x:le,y:de,height:re,width:J}}},{key:"paint",value:function(L){L.save(),L.scale(U,U),L.translate(0,0),L.fillStyle="rgba("+this.props.color.slice(0,4).join(",")+")";var P,j,K,Q,te,J,re,le,Ye=this.props.borderRadius,de=this.getDimensions(),xe=x(this.getBorders(de.border),2),Ve=xe[0],ke=xe[1],Ge=de.canvas.height,qe=de.canvas.width,Ye=Math.max(Ye,0);Ye=Math.min(Ye,qe/2-Ve,Ge/2-ke),L.beginPath(),P=L,Q=qe-2*(j=Ve),te=Ge-2*(K=ke),(J=Ye)===0?P.rect(j,K,Q,te):(re=Q-J,le=te-J,P.translate(j,K),P.arc(J,J,J,Math.PI,1.5*Math.PI),P.lineTo(re,0),P.arc(re,J,J,1.5*Math.PI,2*Math.PI),P.lineTo(Q,le),P.arc(re,le,J,2*Math.PI,.5*Math.PI),P.lineTo(J,te),P.arc(J,le,J,.5*Math.PI,Math.PI),P.translate(-j,-K)),L.rect(qe,0,-qe,Ge),L.fill("evenodd"),L.restore()}},{key:"render",value:function(){var L=this.props,P=(L.scale,L.rotate,L.image,L.border,L.borderRadius,L.width,L.height,L.position,L.color,L.backgroundColor,L.style),j=(L.crossOrigin,L.onLoadFailure,L.onLoadSuccess,L.onImageReady,L.onImageChange,L.onMouseUp,L.onMouseMove,L.onPositionChange,L.disableBoundaryChecks,L.disableHiDPIScaling,L.disableCanvasRotation,S(L,["scale","rotate","image","border","borderRadius","width","height","position","color","backgroundColor","style","crossOrigin","onLoadFailure","onLoadSuccess","onImageReady","onImageChange","onMouseUp","onMouseMove","onPositionChange","disableBoundaryChecks","disableHiDPIScaling","disableCanvasRotation"])),K=this.getDimensions(),Q={width:K.canvas.width,height:K.canvas.height,cursor:this.state.drag?"grabbing":"grab",touchAction:"none"},te={width:K.canvas.width*U,height:K.canvas.height*U,style:v(v({},Q),P)};return te[X.react.down]=this.handleMouseDown,F&&(te[X.react.mouseDown]=this.handleMouseDown),a.default.createElement("canvas",d({ref:this.setCanvas},te,j))}}])&&u(I.prototype,z),q}();return h(H,"propTypes",{scale:o.default.number,rotate:o.default.number,image:o.default.oneOfType([o.default.string].concat(function(I){if(Array.isArray(I))return k(I)}(_=N?[o.default.instanceOf(File)]:[])||function(I){if(typeof Symbol<"u"&&Symbol.iterator in Object(I))return Array.from(I)}(_)||C(_)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),border:o.default.oneOfType([o.default.number,o.default.arrayOf(o.default.number)]),borderRadius:o.default.number,width:o.default.number,height:o.default.number,position:o.default.shape({x:o.default.number,y:o.default.number}),color:o.default.arrayOf(o.default.number),backgroundColor:o.default.string,crossOrigin:o.default.oneOf(["","anonymous","use-credentials"]),onLoadFailure:o.default.func,onLoadSuccess:o.default.func,onImageReady:o.default.func,onImageChange:o.default.func,onMouseUp:o.default.func,onMouseMove:o.default.func,onPositionChange:o.default.func,disableBoundaryChecks:o.default.bool,disableHiDPIScaling:o.default.bool,disableCanvasRotation:o.default.bool}),h(H,"defaultProps",{scale:1,rotate:0,border:25,borderRadius:0,width:200,height:200,color:[0,0,0,.5],onLoadFailure:function(){},onLoadSuccess:function(){},onImageReady:function(){},onImageChange:function(){},onMouseUp:function(){},onMouseMove:function(){},onPositionChange:function(){},disableBoundaryChecks:!1,disableHiDPIScaling:!1,disableCanvasRotation:!0}),H})})(eT);var I6=eT.exports;const tT=vm(I6),P6={width:"300px",height:"300px",display:"flex",flexFlow:"column",justifyContent:"center",alignItems:"center"},R6={display:"flex",justifyContent:"center",alignItems:"center"},A6=({src:t,modalOpen:e,setModalOpen:r,setPreview:i})=>{const[s,o]=D.useState(10),a=D.useRef(null),{setPhotoChange:u}=Kn(),h=async()=>{if(a){const d=a.current.getImage().toDataURL(),v=await(await fetch(d)).blob();i(URL.createObjectURL(v)),u(d),r(!1)}};return p.jsx(Jk,{sx:R6,open:e,children:p.jsxs(sd,{sx:P6,children:[p.jsx(tT,{ref:a,image:t,style:{width:"100%",height:"100%"},border:50,borderRadius:150,color:[0,0,0,.72],scale:s/10,rotate:0}),p.jsx(Zk,{min:10,max:50,sx:{margin:"0 auto",width:"80%",color:"#FF8C00"},size:"medium",defaultValue:s,value:s,onChange:d=>o(d.target.value)}),p.jsxs(sd,{sx:{display:"flex",padding:"10px",background:"transparent",maxWidth:"300px"},children:[p.jsx(od,{size:"small",sx:{marginRight:"10px",color:"#FF8C00",textTransform:"none",borderColor:"#FF8C00",border:"1px solid #FF8C00",backgroundColor:"transparent","&:hover":{color:"white",backgroundColor:"#FF8C00"}},onClick:d=>r(!1),children:"Cancel"}),p.jsx(od,{sx:{background:"#FF8C00",color:"white",textTransform:"none","&:hover":{color:"#FF8C00",backgroundColor:"transparent"}},size:"small",onClick:h,children:"Upload photo"})]})]})})},N6=({photoURL:t})=>{const[e,r]=D.useState(null),[i,s]=D.useState(!1),[o,a]=D.useState(null),[u,h]=D.useState(!1),d=D.useRef(null),g=w=>{w.preventDefault(),d.current.click()},v=w=>{r(URL.createObjectURL(w.target.files[0])),h(!0)};return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"container",children:[p.jsx("div",{className:"img-container",onClick:()=>{s(!0)},children:p.jsx("img",{src:o||t,alt:"",width:"180",height:"180"})}),p.jsx(A6,{modalOpen:u,src:e,setPreview:a,setModalOpen:h}),i&&!o&&p.jsx("a",{href:"/",onClick:g,children:p.jsx("button",{id:"upload",children:"Upload"})}),!u&&o&&p.jsx("button",{disabled:!0,id:"wait",children:p.jsx("div",{className:"dots-5"})}),p.jsx("input",{type:"file",accept:"image/*",ref:d,onChange:v,hidden:!0})]})})},O6={width:"300px",height:"300px",display:"flex",flexFlow:"column",justifyContent:"center",alignItems:"center"},L6={display:"flex",justifyContent:"center",alignItems:"center"},D6=({src:t,modalOpen:e,setModalOpen:r,setPreview:i})=>{const[s,o]=D.useState(10),a=D.useRef(null),{setOfferPhoto:u}=Kn(),h=async()=>{if(a){const d=a.current.getImage().toDataURL(),v=await(await fetch(d)).blob();i(URL.createObjectURL(v)),u(d),r(!1)}};return p.jsx(Jk,{sx:L6,open:e,children:p.jsxs(sd,{sx:O6,children:[p.jsx(tT,{ref:a,image:t,style:{width:"100%",height:"100%"},border:30,borderRadius:0,color:[0,0,0,.72],scale:s/20,rotate:0}),p.jsx(Zk,{min:10,max:50,sx:{margin:"0 auto",width:"80%",color:"#FF8C00"},size:"medium",defaultValue:s,value:s,onChange:d=>o(d.target.value)}),p.jsxs(sd,{sx:{display:"flex",padding:"10px",background:"transparent",maxWidth:"300px"},children:[p.jsx(od,{size:"small",sx:{marginRight:"10px",color:"#FF8C00",borderColor:"#FF8C00",border:"1px solid #FF8C00",backgroundColor:"white","&:hover":{color:"white",backgroundColor:"#FF8C00"}},onClick:d=>r(!1),children:"cancel"}),p.jsx(od,{sx:{background:"#FF8C00",color:"white","&:hover":{color:"#FF8C00",backgroundColor:"white"}},size:"small",onClick:h,children:"Save"})]})]})})},M6=()=>{const[t,e]=D.useState(null),[r,i]=D.useState(null),[s,o]=D.useState(!1),a=D.useRef(null),u=d=>{d.preventDefault(),a.current.click()},h=d=>{e(URL.createObjectURL(d.target.files[0])),o(!0)};return p.jsx(p.Fragment,{children:p.jsxs("main",{className:"container",children:[p.jsx(D6,{modalOpen:s,src:t,setPreview:i,setModalOpen:o}),p.jsx("a",{href:"/",onClick:u,children:p.jsx("button",{id:"offer-image",disabled:r,children:"Upload image for your offer"})}),p.jsx("input",{type:"file",accept:"image/*",id:"offer-image-input",ref:a,onChange:h,required:!0,hidden:!0})]})})};function j6(){var $e,Re,Vt;const{user:t,upload:e,createOffer:r,deleteOffer:i,photoChange:s,setPhotoChange:o}=Kn(),[a,u]=D.useState(""),[h,d]=D.useState(""),[g,v]=D.useState(""),[w,O]=D.useState("");D.useState(null);const[S,R]=D.useState(!1),[M,x]=D.useState(),[C,k]=D.useState(ma),[A,_]=D.useState(""),[F,N]=D.useState(""),[V,X]=D.useState(),[U,W]=D.useState(),H=kt(ze,"users"),I=Cn(H,Jt("email","==",`${t==null?void 0:t.email}`)),z=Cn(kt(ze,"offers"),Jt("authorId","==",`${($e=Ae.currentUser)==null?void 0:$e.uid}`)),G=Cn(kt(ze,"reviews"),Jt("resId","==",`${(Re=Ae==null?void 0:Ae.currentUser)==null?void 0:Re.uid}`)),[q,L]=D.useState(),[P,j]=D.useState(),[K,Q]=D.useState(0),te=vr(),J=ln(ze,"users",`${M}`),re=(Vt=t==null?void 0:t.displayName)==null?void 0:Vt.split(" ")[0],[le,de]=D.useState(!1),[xe,Ve]=D.useState(!1);D.useState(!1),D.useState(),D.useState();const[ke,Ge]=D.useState();D.useEffect(()=>{Ot(z,Me=>{X(Me.docs)}),Ot(G,Me=>{W(Me.docs)}),Ot(I,Me=>{Me.docs.forEach(ut=>{u(ut.data().bio),d(ut.data().messanger),v(ut.data().instagram),x(ut.id),O(ut.data().phoneNumber),L(ut.data().deals),j(ut.data().stars),Ge(ut.data().dis)})}),t!=null&&t.photoURL&&k(t.photoURL)},[t]),D.useEffect(()=>{s!=null&&e(t,R,J),Q(0),U==null||U.forEach(Me=>{(Me==null?void 0:Me.data().content)!=null&&Q(ut=>ut+1)})});const qe=Me=>{Me.preventDefault(),document.getElementById("my-text").value="",document.getElementById("price").value="",document.getElementById("offer-image-input").value="",document.getElementById("offer-image").disabled=!1,document.getElementById("price").blur(),r(t.displayName,w,A,F,C,a),_(""),de(!0),setTimeout(()=>{de(!1)},1500)},Ye=V==null?void 0:V.map(Me=>p.jsx(Oy,{offer:Me})),He=U==null?void 0:U.map(Me=>Me.data().content!=null&&p.jsxs("div",{className:"review",children:[p.jsxs("div",{className:"deals",children:[p.jsx("i",{className:"fa-regular fa-handshake fa-xl"}),p.jsx("h3",{children:Me.data().deals})]}),p.jsx("h2",{className:"review-content",children:Me.data().content}),p.jsxs("div",{className:"review-bottom",children:[p.jsxs("div",{className:"sender-section",children:[p.jsx("img",{src:Me.data().senderPhoto?Me.data().senderPhoto:ma,alt:""}),p.jsxs("div",{className:"sender-info",children:[p.jsx("h2",{className:"senderName",children:Me.data().senderName}),p.jsx("h2",{className:"senderBio",children:Me.data().senderBio})]})]}),p.jsx("div",{className:"stars",children:[...Array(5)].map((ut,pe)=>{const Ee=pe+1;return p.jsx("label",{children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 20 19",fill:Ee<=Me.data().rate?"#ffc107":"#e4e5e9",className:"star",children:p.jsx("path",{transform:"scale(0.6)",d:"M17.5 0L23.1574 9.50482L34.1435 11.8328L26.6539 20.035L27.7862 30.9786L17.5 26.543L7.21376 30.9786L8.34608 20.035L0.85651 11.8328L11.8426 9.50482L17.5 0Z",fill:"#FFB800"})})})})})]})]},Me.id));return p.jsxs("div",{children:[p.jsx(Ny,{}),p.jsxs("div",{className:"popups",children:[le&&p.jsx("div",{className:"pop",children:p.jsx("h3",{children:"You added an offer"})}),xe&&p.jsx("div",{className:"pop",children:p.jsx("h3",{children:"you delete something"})})]}),p.jsxs("div",{className:"profile",children:[p.jsxs("div",{className:"fields",children:[p.jsxs("div",{className:"user-info-display",children:[p.jsxs("div",{className:"photo-section",children:[p.jsxs("div",{className:"profile-deals",children:[p.jsx("i",{className:"fa-regular fa-handshake fa-xl"}),p.jsx("h3",{children:t&&q?q:"0"})]}),p.jsxs("div",{className:"profile-rate",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"19",viewBox:"0 0 20 19",fill:"#FFB800",children:p.jsx("path",{transform:"scale(0.6)",d:"M17.5 0L23.1574 9.50482L34.1435 11.8328L26.6539 20.035L27.7862 30.9786L17.5 26.543L7.21376 30.9786L8.34608 20.035L0.85651 11.8328L11.8426 9.50482L17.5 0Z",fill:"#FFB800"})}),p.jsx("h3",{children:t&&P/q?(P/q).toFixed(1):"0"})]}),p.jsx(N6,{photoURL:C}),p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",className:"setting",overflow:"visible",onClick:()=>{te("/settings"),scrollTo(0,0)},children:[p.jsx("path",{d:"M16.4054 20.5C18.958 20.5 21.0271 18.4854 21.0271 16C21.0271 13.5146 18.958 11.5 16.4054 11.5C13.8529 11.5 11.7838 13.5146 11.7838 16C11.7838 18.4854 13.8529 20.5 16.4054 20.5Z",stroke:"#333C41","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),p.jsx("path",{d:"M28.148 13.5931L26.457 9.6172L28.7297 7L25.6486 4L22.9753 6.22443L18.8053 4.55461L17.8463 1H14.8356L13.8621 4.6017L9.78787 6.27394L7.16216 4L4.08108 7L6.32006 9.68327L4.65493 13.6694L1 14.5V17.5L4.69901 18.4833L6.41616 22.4495L4.08108 25L7.16216 28L9.92152 25.8105L13.9359 27.4185L14.8649 31H17.9459L18.8772 27.4198L22.9606 25.7732C23.6412 26.2469 25.6486 28 25.6486 28L28.7297 25L26.4434 22.3741L28.1349 18.397L31.8107 17.4658L31.8108 14.5L28.148 13.5931Z",stroke:"#333C41","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})]}),p.jsx("h5",{className:"name",children:t&&t.displayName}),p.jsx("div",{className:"phoneNumber",children:w=="Not available"?p.jsx("h2",{children:"Not available"}):p.jsxs(p.Fragment,{children:[p.jsx("h2",{children:"+216"}),p.jsx("h2",{children:w.substr(0,2)}),p.jsx("h2",{children:w.substr(2,3)}),p.jsx("h2",{children:w.substr(5,5)})]})}),p.jsx("div",{className:"bio",children:t&&a})]}),p.jsxs("form",{className:"offer-form",onSubmit:qe,children:[p.jsx(M6,{}),p.jsxs("div",{className:"offer-box",children:[p.jsx("textarea",{onChange:Me=>{_(Me.target.value)},id:"my-text",required:!0,maxLength:100}),p.jsxs("p",{className:"letter-counter",children:[A.length,"/100"]}),p.jsxs("div",{className:"offer-placeholder",children:[p.jsx("img",{src:Dy,alt:""}),p.jsx("h3",{children:"The offer"})]})]}),p.jsxs("div",{className:"offer-box",children:[p.jsx("input",{type:"text",onChange:Me=>{N(Me.target.value)},pattern:"[0-9 ]+",maxLength:"5",min:"0",required:!0,id:"price"}),p.jsxs("div",{className:"offer-placeholder",children:[p.jsx("img",{src:Ly,alt:""}),p.jsx("h3",{children:"The starting Price"})]}),p.jsx("button",{onClick:()=>{document.getElementById("offer-image-input").value==""&&document.getElementById("offer-image").click()},children:"Add"})]})]}),p.jsxs("div",{className:"info-box",children:[p.jsxs("div",{className:"info",children:[p.jsx("img",{src:pk,alt:"",href:t&&t.email}),p.jsx("h3",{children:t&&t.email})]}),p.jsx("div",{className:"info",children:h=="Not available"?p.jsxs("div",{className:"not-avai",children:[p.jsx("img",{src:Jh,alt:""}),p.jsx("h3",{children:"Not available"})]}):p.jsxs("a",{href:t&&h,target:"_blank",children:[p.jsx("img",{src:Jh,alt:""}),p.jsxs("div",{children:[p.jsx("h3",{children:t&&h}),p.jsx("h3",{children:"..."})]})]})}),p.jsx("div",{className:"info",children:g=="Not available"?p.jsxs("div",{className:"not-avai",children:[p.jsx("img",{src:Zh,alt:""}),p.jsx("h3",{children:"Not available"})]}):p.jsxs("a",{href:t&&g,target:"_blank",children:[p.jsx("img",{src:Zh,alt:""}),p.jsxs("div",{children:[p.jsx("h3",{children:t&&g}),p.jsx("h3",{children:"..."})]})]})})]}),p.jsxs("div",{className:"dis",children:[p.jsxs("div",{className:"title",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",children:[p.jsx("path",{d:"M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z",stroke:"#333C41","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),p.jsx("path",{d:"M9.3999 9.40001C9.3999 5.19998 15.9999 5.20001 15.9999 9.40001C15.9999 12.4 12.9999 11.7999 12.9999 15.3999",stroke:"#333C41","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),p.jsx("path",{d:"M13 20.2121L13.0119 20.1987",stroke:"#333C41","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]}),p.jsxs("h2",{children:["About ",re," : "]})]}),p.jsx("h3",{children:ke})]})]}),p.jsxs("div",{className:"offers-display",id:"offers-display",children:[p.jsxs("div",{className:"offers-section-title",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"#333C41",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),p.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),p.jsxs("h3",{children:[re,"'s offers"]})]}),p.jsx("div",{className:"offers-section",children:Ye})]}),p.jsxs("div",{className:"reviews",children:[p.jsxs("div",{className:"reviews-title",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"#333C41",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),p.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),p.jsxs("h2",{children:["Reviews: (",K,")"]})]}),p.jsx("div",{className:"reviews-content",children:He})]})]})]})}function $6(){const[t,e]=D.useState(""),[r,i]=D.useState(""),[s,o]=D.useState(""),{signIn:a}=Kn(),u=vr(),h=async d=>{d.preventDefault(),o("");try{await a(t,r),u("/profile")}catch(g){o(g.message),console.log(g.message)}};return p.jsx("div",{className:"auth",children:p.jsxs("form",{onSubmit:h,className:"form",children:[s&&p.jsx("p",{id:"error",hidden:!s,children:"Invalid Email or password."}),p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{onChange:d=>{e(d.target.value)},id:"email",pattern:"/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g",placeholder:" ",required:!0}),p.jsx("span",{children:"Email"})]}),p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{onChange:d=>{i(d.target.value)},type:"passowrd",id:"password",placeholder:" ",required:!0}),p.jsx("span",{children:"Password"})]}),p.jsx("button",{children:"Sign In"}),p.jsxs("p",{children:["Don't have an account? ",p.jsx("span",{className:"span",onClick:()=>{u("/signup"),scrollTo(0,0)},children:"Sign Up"})]})]})})}function F6(){const[t,e]=D.useState(""),[r,i]=D.useState(""),[s,o]=D.useState(""),[a,u]=D.useState(""),[h,d]=D.useState(""),[g,v]=D.useState(""),[w,O]=D.useState(""),[S,R]=D.useState(""),[M,x]=D.useState("");D.useState();const{CreateUser:C,setUserName:k,user:A,createUserData:_}=Kn(),F=vr(),N=async V=>{V.preventDefault(),x("");try{await C(t,r),await k(s),await _(s,t,a,h||"Not available",g||"Not available",w||"Not available",S||"Not available",ma,r),F("/profile")}catch(X){x(X.message)}};return p.jsx("div",{className:"auth",id:"auth",children:p.jsxs("form",{onSubmit:N,className:"form",children:[p.jsxs("div",{className:"fill",children:[p.jsxs("div",{className:"required",children:[p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{onChange:V=>{o(V.target.value)},type:"text",placeholder:" ",required:!0}),p.jsx("span",{children:"Username*"})]}),p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{onChange:V=>{e(V.target.value)},pattern:"/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g",placeholder:" ",required:!0}),p.jsx("span",{children:"Email*"})]}),p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{onChange:V=>{i(V.target.value)},type:"passowrd",placeholder:" ",required:!0}),p.jsx("span",{children:"Password*"})]}),p.jsxs("div",{className:"inputBox",children:[p.jsx("textarea",{onChange:V=>{u(V.target.value)},placeholder:" ",required:!0,maxLength:100}),p.jsx("span",{children:"Bio*"}),p.jsxs("p",{className:"letter-counter",children:[a.length,"/100"]})]})]}),p.jsxs("div",{className:"not-required",children:[p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{onChange:V=>{O(V.target.value)},type:"tel",placeholder:" "}),p.jsx("span",{children:"Phone Number (optional)"})]}),p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{type:"url",onChange:V=>{d(V.target.value)},placeholder:" "}),p.jsx("span",{children:"Facebook profile link (optional)"})]}),p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{type:"url",onChange:V=>{v(V.target.value)},placeholder:" "}),p.jsx("span",{children:"Instagram profile link (optional)"})]}),p.jsxs("div",{className:"inputBox",children:[p.jsx("textarea",{onChange:V=>{R(V.target.value)},placeholder:" ",maxLength:600}),p.jsx("span",{children:"Description (optional)"}),p.jsxs("p",{className:"letter-counter",children:[S.length,"/600"]})]})]})]}),p.jsx("button",{children:"Sign Up"}),p.jsxs("p",{children:["Already have an account? ",p.jsx("span",{className:"span",onClick:()=>{F("/signin"),scrollTo(0,0)},children:"Sign In"})]})]})})}function Dp({children:t}){const{user:e}=Kn(),r=vr();return D.useEffect(()=>{if(!e)return r("/signin")},[e]),t}function Ox({children:t}){const{user:e}=Kn(),r=vr();return D.useEffect(()=>{if(e)return r("/profile")},[e]),t}function U6(){var ce,we,Pe,Le,ve;const{createRequest:t,deleteRequest:e,createReview:r,user:i}=Kn(),{id:s}=fP(),[o,a]=D.useState(),[u,h]=D.useState({}),[d,g]=D.useState(""),[v,w]=D.useState(""),[O,S]=D.useState(),[R,M]=D.useState(),x=kt(ze,"users"),C=Cn(x,Jt("id","==",`${s}`)),k=Cn(kt(ze,"offers"),Jt("authorId","==",`${s}`));Cn(kt(ze,"requests"),Jt("resId","==",`${s}`),Jt("senderId","==",`${(ce=Ae==null?void 0:Ae.currentUser)==null?void 0:ce.uid}`));const A=Cn(kt(ze,"reviews"),Jt("resId","==",`${s}`)),[_,F]=D.useState(!0),[N,V]=D.useState(),[X,U]=D.useState(),[W,H]=D.useState(),[I,z]=D.useState(),[G,q]=D.useState(),[L,P]=D.useState(),[j,K]=D.useState([]),[Q,te]=D.useState(),[J,re]=D.useState(null),[le,de]=D.useState(),[xe,Ve]=D.useState(),[ke,Ge]=D.useState(),qe=vr(),[Ye,He]=D.useState(!1),[$e,Re]=D.useState(!1),[Vt,Me]=D.useState(!1),[ut,pe]=D.useState("");D.useEffect(()=>{Ot(k,Ie=>{a(Ie.docs)})},[i]),D.useEffect(()=>{var Ie;Ae.currentUser&&s==Ae.currentUser.uid&&qe("/profile"),Ot(kt(ze,"requests"),Te=>{Te.docs.forEach(Se=>{var nt;Se.data().resId==s&&Se.data().senderId==((nt=Ae==null?void 0:Ae.currentUser)==null?void 0:nt.uid)&&(S(Se.data().state),M(Se.id),te(Se.data().message))})}),Ot(C,Te=>{Te.docs.forEach(Se=>{h(Se.data()),de(Se.data().stars),Ge(Se.data().deals),Ve(Se.id)})}),Ot(A,Te=>{K(Te.docs)}),Ot(Cn(kt(ze,"reviews"),Jt("senderId","==",`${(Ie=Ae.currentUser)==null?void 0:Ie.uid}`)),Te=>{Te.docs.forEach(Se=>{F(!1),V(Se.id),U(Se.data().deals),H(Se.data().content),z(Se.data().rate)})}),Ot(Cn(x,Jt("email","==",`${i==null?void 0:i.email}`)),Te=>{Te.docs.forEach(Se=>{pe(Se.data().bio)})})},[i]);const Ee=Ie=>{var Te,Se;Ie.preventDefault(),i?t((Te=Ae.currentUser)==null?void 0:Te.uid,(Se=Ae.currentUser)==null?void 0:Se.displayName,s,u==null?void 0:u.name,d,v):qe("/signin"),Me(!0),setTimeout(()=>{Me(!1)},1500)},ot=Ie=>{Ie.preventDefault(),S(null),e(ln(ze,"requests",`${R}`)),r(Ae.currentUser.uid,Ae.currentUser.photoURL,Ae.currentUser.displayName,u.id,u.name,G,L,N,_,X,I,W,le,xe,ut),He(!0),setTimeout(()=>{He(!1)},1500)},Kt=(we=u.name)==null?void 0:we.split(" ")[0],Qr=o==null?void 0:o.map(Ie=>p.jsx(Oy,{offer:Ie})),Yn=j==null?void 0:j.map(Ie=>{var Te;return Ie.data().content!=null&&p.jsxs("div",{className:"review",children:[p.jsxs("div",{className:"deals",children:[p.jsx("i",{className:"fa-regular fa-handshake fa-xl"}),p.jsx("h3",{children:Ie.data().deals})]}),p.jsx("h2",{className:"review-content",children:Ie.data().content}),p.jsxs("div",{className:"review-bottom",children:[p.jsxs("div",{className:"sender-section",children:[p.jsx("img",{src:Ie.data().senderPhoto?Ie.data().senderPhoto:ma,alt:""}),p.jsxs("div",{className:"sender-info",children:[p.jsx("h2",{className:"senderName",children:(Te=Ie.data().senderName)==null?void 0:Te.split(" ")[0]}),p.jsx("h2",{className:"senderBio",children:Ie.data().senderBio})]})]}),p.jsx("div",{className:"stars",children:[...Array(5)].map((Se,nt)=>{const In=nt+1;return p.jsx("label",{children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 20 19",fill:In<=Ie.data().rate?"#ffc107":"#e4e5e9",className:"star",children:p.jsx("path",{transform:"scale(0.6)",d:"M17.5 0L23.1574 9.50482L34.1435 11.8328L26.6539 20.035L27.7862 30.9786L17.5 26.543L7.21376 30.9786L8.34608 20.035L0.85651 11.8328L11.8426 9.50482L17.5 0Z",fill:"#FFB800"})})})})})]})]},Ie.id)});return p.jsxs("div",{children:[p.jsx(Ny,{}),p.jsxs("div",{className:"popups",children:[Ye&&p.jsx("div",{className:"pop",children:p.jsx("h3",{children:"review added"})}),$e&&p.jsx("div",{className:"pop",children:p.jsx("h3",{children:"you canceled something"})}),Vt&&p.jsx("div",{className:"pop",children:p.jsx("h3",{children:"you sent something"})})]}),p.jsxs("div",{className:"profile",children:[p.jsxs("div",{className:"fields",children:[p.jsxs("div",{className:"user-info-display",children:[p.jsxs("div",{className:"photo-section",children:[p.jsxs("div",{className:"profile-deals",children:[p.jsx("i",{className:"fa-regular fa-handshake fa-xl"}),p.jsx("h3",{children:u&&ke?ke:"0"})]}),p.jsxs("div",{className:"profile-rate",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"19",viewBox:"0 0 20 19",fill:"#FFB800",children:p.jsx("path",{transform:"scale(0.6)",d:"M17.5 0L23.1574 9.50482L34.1435 11.8328L26.6539 20.035L27.7862 30.9786L17.5 26.543L7.21376 30.9786L8.34608 20.035L0.85651 11.8328L11.8426 9.50482L17.5 0Z",fill:"#FFB800"})}),p.jsx("h3",{children:u&&le/ke?(le/ke).toFixed(1):"0"})]}),p.jsx("img",{src:(u==null?void 0:u.photoURL)=="/assets/avatar-28c1f46a.png"?ma:u.photoURL})]}),p.jsx("h5",{className:"name",children:u&&u.name}),p.jsx("div",{className:"phoneNumber",children:(u==null?void 0:u.phoneNumber)=="Not available"?p.jsx("h2",{children:"not available"}):p.jsxs(p.Fragment,{children:[p.jsx("h2",{children:"+216"}),p.jsx("h2",{children:(Pe=u==null?void 0:u.phoneNumber)==null?void 0:Pe.substr(0,2)}),p.jsx("h2",{children:(Le=u==null?void 0:u.phoneNumber)==null?void 0:Le.substr(2,3)}),p.jsx("h2",{children:(ve=u==null?void 0:u.phoneNumber)==null?void 0:ve.substr(5,5)})]})}),p.jsx("div",{className:"bio",children:u&&u.bio})]}),O==null&&p.jsxs("form",{className:"offer-form",onSubmit:Ee,children:[p.jsxs("div",{className:"offer-box",children:[p.jsx("input",{type:"text",onChange:Ie=>{g(Ie.target.value)},required:!0}),p.jsxs("div",{className:"offer-placeholder",children:[p.jsx("img",{src:Dy,alt:""}),p.jsxs("h3",{children:["What you want ",Kt," to do for you"]})]})]}),p.jsxs("div",{className:"offer-box",children:[p.jsx("input",{type:"text",onChange:Ie=>{w(Ie.target.value)},required:!0}),p.jsxs("div",{className:"offer-placeholder",children:[p.jsx("img",{src:Ly,alt:""}),p.jsx("h3",{children:"You will pay"})]}),p.jsx("button",{children:"Send Request"})]})]}),O=="waiting"&&p.jsxs("div",{className:"state-section",children:[p.jsxs("div",{className:"waiting",children:[p.jsx("span",{class:"material-symbols-outlined",children:"chat"}),p.jsxs("h2",{children:["Your Request Has Been Sent. Waiting For ",Kt,"’s Response"]})]}),p.jsxs("div",{className:"cancel-request",onClick:Ie=>{Ie.preventDefault(),e(ln(ze,"requests",`${R}`)),S(null),Re(!0),setTimeout(()=>{Re(!1)},1500)},children:[p.jsx("span",{class:"material-symbols-outlined",children:"speaker_notes_off"}),p.jsx("h2",{children:"Cancel request"})]})]}),O=="refuse"&&p.jsxs("div",{className:"refused-state-section",children:[p.jsxs("div",{className:"refused",children:[p.jsx("span",{className:"material-symbols-outlined",children:"speaker_notes_off"}),p.jsxs("h2",{children:[Kt," refused your request."]})]}),p.jsxs("div",{className:"message",children:[p.jsxs("div",{className:"message-title",children:[p.jsx("span",{className:"material-symbols-outlined",children:"chat"}),p.jsxs("h2",{children:["Message from ",Kt]})]}),p.jsx("h2",{children:Q})]}),p.jsx("button",{onClick:()=>{e(ln(ze,"requests",`${R}`)),window.location.reload(!1)},className:"profile-button",children:"ok"})]}),O=="accept"&&p.jsxs("div",{className:"accept-state-section",children:[p.jsxs("div",{className:"accept",children:[p.jsx("span",{class:"material-symbols-outlined",children:"mark_chat_read"}),p.jsxs("h2",{children:[Kt," accepted your request."]})]}),p.jsxs("form",{onSubmit:ot,className:"feedback-section",children:[p.jsxs("div",{children:[p.jsxs("label",{children:[p.jsx("span",{class:"material-symbols-outlined",children:"history_edu"}),p.jsx("h2",{children:"Write a review after you receive the service"})]}),p.jsx("input",{type:"text",onChange:Ie=>{q(Ie.target.value)},maxLength:100,defaultValue:W}),p.jsx("div",{className:"stars",children:[...Array(5)].map((Ie,Te)=>{const Se=Te+1;return p.jsxs("label",{children:[p.jsx("input",{type:"radio",name:"rating",value:Se,onClick:()=>{P(Se)}}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",onMouseEnter:()=>re(Se),onMouseLeave:()=>re(null),fill:Se<=(J||L||I)?"#ffc107":"#e4e5e9",className:"star",children:p.jsx("path",{transform:"scale(1)",d:"M17.5 0L23.1574 9.50482L34.1435 11.8328L26.6539 20.035L27.7862 30.9786L17.5 26.543L7.21376 30.9786L8.34608 20.035L0.85651 11.8328L11.8426 9.50482L17.5 0Z",fill:Se<=(J||L||I)?"#ffc107":"#e4e5e9"})})]})})})]}),p.jsx("button",{type:"submit",disabled:!L&&!I,children:"Add Review"})]})]}),p.jsxs("div",{className:"info-box",children:[p.jsxs("div",{className:"info",children:[p.jsx("img",{src:pk,alt:""}),p.jsx("h3",{children:u&&u.email})]}),p.jsx("div",{className:"info",children:(u==null?void 0:u.messanger)=="Not available"?p.jsxs("div",{className:"not-avai",children:[p.jsx("img",{src:Jh,alt:""}),p.jsx("h3",{children:"Not available"})]}):p.jsxs("a",{href:u==null?void 0:u.messanger,target:"_blank",children:[p.jsx("img",{src:Jh,alt:""}),p.jsxs("div",{children:[p.jsx("h3",{children:u==null?void 0:u.messanger}),p.jsx("h3",{children:"..."})]})]})}),p.jsx("div",{className:"info",children:(u==null?void 0:u.instagram)=="Not available"?p.jsxs("div",{className:"not-avai",children:[p.jsx("img",{src:Zh,alt:""}),p.jsx("h3",{children:"Not available"})]}):p.jsxs("a",{href:u==null?void 0:u.instagram,target:"_blank",children:[p.jsx("img",{src:Zh,alt:""}),p.jsxs("div",{children:[p.jsx("h3",{children:u==null?void 0:u.instagram}),p.jsx("h3",{children:"..."})]})]})})]}),p.jsxs("div",{className:"dis",children:[p.jsxs("div",{className:"title",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",children:[p.jsx("path",{d:"M13 25C19.6274 25 25 19.6274 25 13C25 6.37258 19.6274 1 13 1C6.37258 1 1 6.37258 1 13C1 19.6274 6.37258 25 13 25Z",stroke:"#333C41","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),p.jsx("path",{d:"M9.3999 9.40001C9.3999 5.19998 15.9999 5.20001 15.9999 9.40001C15.9999 12.4 12.9999 11.7999 12.9999 15.3999",stroke:"#333C41","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),p.jsx("path",{d:"M13 20.2121L13.0119 20.1987",stroke:"#333C41","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]}),p.jsxs("h2",{children:["About ",Kt," : "]})]}),p.jsx("h3",{children:u==null?void 0:u.dis})]})]}),p.jsxs("div",{className:"offers-display",children:[p.jsxs("div",{className:"offers-section-title",children:[p.jsx("img",{src:h5,alt:""}),p.jsxs("h3",{children:[Kt,"'s offers"]})]}),p.jsx("div",{className:"offers-section",children:Qr})]}),p.jsxs("div",{className:"reviews",children:[p.jsxs("div",{className:"reviews-title",children:[p.jsx("span",{className:"material-symbols-outlined",children:"history_edu"}),p.jsxs("h2",{children:["Reviews: (",j==null?void 0:j.length,")"]})]}),p.jsx("div",{className:"reviews-content",children:Yn})]})]})]})}function B6(){return p.jsx("div",{children:p.jsx("a",{href:"/",children:"home"})})}function z6(t){return Ay({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"}}]})(t)}function V6(t){return Ay({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}}]})(t)}function G6(){const{user:t,deleteRequest:e,acceptRequest:r,refuseRequest:i}=Kn(),[s,o]=D.useState(),[a,u]=D.useState(),[h,d]=D.useState(),[g,v]=D.useState(),[w,O]=D.useState(),[S,R]=D.useState(),M=vr(),[x,C]=D.useState(!1),[k,A]=D.useState(!1),[_,F]=D.useState(!1);D.useEffect(()=>{var X,U,W;Ot(Cn(kt(ze,"requests"),Jt("senderId","==",`${(X=Ae.currentUser)==null?void 0:X.uid}`)),H=>{o(H.docs)}),Ot(Cn(kt(ze,"requests"),Jt("state","==","waiting"),Jt("resId","==",`${(U=Ae.currentUser)==null?void 0:U.uid}`)),H=>{u(H.docs)}),Ot(Cn(kt(ze,"users"),Jt("id","==",`${(W=Ae.currentUser)==null?void 0:W.uid}`)),H=>{H.docs.forEach(I=>{O(I.id),R(I.data().deals)})})},[t]);const N=s==null?void 0:s.map(X=>{var U,W,H,I;if(X.data().state=="waiting")return p.jsxs("div",{className:"state-section",children:[p.jsxs("div",{className:"waiting",children:[p.jsx("span",{className:"material-symbols-outlined",children:"chat"}),p.jsxs("h2",{children:["Your Request Has Been Sent. Waiting For ",(U=X.data().resName)==null?void 0:U.split(" ")[0],"’s Response"]})]}),p.jsxs("div",{className:"cancel-request",onClick:()=>{e(ln(ze,"requests",`${X.id}`)),F(!0),setTimeout(()=>{F(!1)},1500)},children:[p.jsx("span",{className:"material-symbols-outlined",children:"speaker_notes_off"}),p.jsx("h2",{children:"Cancel request"})]})]},X.id);if(X.data().state=="refuse")return p.jsxs("div",{className:"refused-state-section",children:[p.jsxs("div",{className:"refused",children:[p.jsx("span",{className:"material-symbols-outlined",children:"speaker_notes_off"}),p.jsxs("h2",{children:[(W=X.data().resName)==null?void 0:W.split(" ")[0]," refused your request."]})]}),p.jsxs("div",{className:"message",children:[p.jsxs("div",{className:"message-title",children:[p.jsx("span",{className:"material-symbols-outlined",children:"chat"}),p.jsxs("h2",{children:["Message from ",(H=X.data().resName)==null?void 0:H.split(" ")[0]]})]}),p.jsx("h2",{children:X.data().message})]}),p.jsx("button",{onClick:()=>{e(ln(ze,"requests",`${X.id}`))},className:"profile-button",children:"ok"})]});if(X.data().state=="accept")return p.jsxs("div",{className:"accept-state-section",children:[p.jsxs("div",{className:"accept",children:[p.jsx("span",{class:"material-symbols-outlined",children:"mark_chat_read"}),p.jsxs("h2",{children:[(I=X.data().resName)==null?void 0:I.split(" ")[0]," accepted your request."]})]}),p.jsxs("div",{className:"see-more",onClick:()=>{M(`/users/${X.data().resId}`)},children:[p.jsx("span",{class:"material-symbols-outlined",children:"visibility"}),p.jsx("h2",{children:"See more"})]})]})}),V=a==null?void 0:a.map(X=>p.jsxs("div",{className:"requestR",children:[p.jsxs("div",{className:"request-content",children:[p.jsxs("div",{className:"the-content",children:[p.jsx("img",{src:Dy,alt:""}),p.jsxs("p",{children:[p.jsxs("span",{children:[X.data().senderName," Wants : "]}),X.data().content]})]}),p.jsxs("div",{className:"the-content",children:[p.jsx("img",{src:Ly,alt:""}),p.jsxs("p",{children:[X.data().price,p.jsx("span",{id:"dt",children:"Dt"})]})]})]}),p.jsxs("div",{className:"thumbs",children:[p.jsx(V6,{onClick:()=>{r(ln(ze,"requests",`${X.id}`),w,S),C(!0),setTimeout(()=>{C(!1)},1500)},size:"30px",className:"thumb"}),p.jsx(z6,{onClick:()=>{v(!0)},id:"thumb-down",size:"30px",className:"thumb"})]}),g&&p.jsxs("form",{className:"justify",children:[p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{type:"text",onChange:U=>{d(U.target.value)}}),p.jsx("span",{children:"Why you refused the offer?(optional)"})]}),p.jsx("button",{onClick:U=>{U==null||U.preventDefault(),i(ln(ze,"requests",`${X.id}`),h,t.displayName),A(!0),setTimeout(()=>{A(!1)},1500)},children:"Send"})]})]}));return p.jsxs("div",{children:[p.jsxs("div",{className:"popups",children:[x&&p.jsx("div",{className:"pop",children:p.jsx("h3",{children:"you accpeted something"})}),k&&p.jsx("div",{className:"pop",children:p.jsx("h3",{children:"you refused something"})}),_&&p.jsx("div",{className:"pop",children:p.jsx("h3",{children:"you canceled something"})})]}),p.jsx("div",{className:"notification",children:p.jsxs("div",{className:"noti-content",children:[p.jsxs("div",{className:"received",children:[p.jsx("h5",{children:"Requests received"}),p.jsx("div",{className:"received-content",children:V})]}),p.jsxs("div",{className:"sent",children:[p.jsx("h5",{children:"Requests sent"}),p.jsx("div",{className:"sent-content",children:N})]})]})})]})}function H6(){return p.jsx("div",{children:p.jsxs("div",{className:"about",children:[p.jsx("div",{className:"square"}),p.jsxs("div",{className:"text",children:[p.jsx("h2",{className:"h2",children:"Etudyonet Makes student life"}),p.jsx("span",{children:"Simple"})]}),p.jsxs("div",{className:"men",children:[p.jsxs("div",{className:"man1",children:[p.jsx("div",{className:"head",children:p.jsx("h2",{children:"Community"})}),p.jsxs("div",{className:"body",children:[p.jsx("h2",{children:"As an Etudiant, only Etudyonet can solve your problems."}),p.jsx("h3",{children:"We all know that students can provide more than people think they can."}),p.jsx("h3",{children:" That's why we created Etudyonet, a platform where you can find students from all parts of Tunisia."})]})]}),p.jsxs("div",{className:"man2",children:[p.jsx("div",{className:"head",children:p.jsx("h2",{children:"Side hustle"})}),p.jsxs("div",{className:"body",children:[p.jsx("h2",{children:"On Etudyonet, you get paid for doing what you love."}),p.jsx("h3",{children:"Provide what you love doing to others as a service and get paid!"})]})]}),p.jsxs("div",{className:"man3",children:[p.jsx("div",{className:"head",children:p.jsx("h2",{children:"Market"})}),p.jsxs("div",{className:"body",children:[p.jsx("h2",{children:"Etudyonet provide more than experts."}),p.jsx("h3",{children:"Students can be better than experts at doing what they love!"})]})]})]})]})})}function W6(){const[t,e]=D.useState(),[r,i]=D.useState(),[s,o]=D.useState(),{user:a,updateUser:u}=Kn(),[h,d]=D.useState(!1),[g,v]=D.useState(),[w,O]=D.useState(),[S,R]=D.useState(),[M,x]=D.useState(),[C,k]=D.useState(),[A,_]=D.useState(),[F,N]=D.useState(),[V,X]=D.useState(),[U,W]=D.useState(),[H,I]=D.useState(),[z,G]=D.useState(),[q,L]=D.useState(),[P,j]=D.useState(),[K,Q]=D.useState();D.useEffect(()=>{var J;Ot(Cn(kt(ze,"users"),Jt("id","==",`${(J=Ae==null?void 0:Ae.currentUser)==null?void 0:J.uid}`)),re=>{re.docs.forEach(le=>{G(le.data().name),v(le.data().email),R(le.data().bio),k(le.data().messanger),N(le.data().instagram),W(le.data().phoneNumber),j(le.data().dis),i(le.data().passowrd),o(le.id)})})},[a]);const te=async J=>{J.preventDefault(),e("");try{await u(w,g,s,M,S,A,C,V,F,H,U,q,z,K,P),d(!1)}catch(re){e(re.message),console.log(re.message)}};return p.jsxs("div",{className:"settings",children:[t&&p.jsx("p",{id:"error",children:"tchu tchu motherfucker"}),p.jsxs("form",{onSubmit:te,children:[p.jsxs("div",{className:"req",children:[p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{onChange:J=>{L(J.target.value)},defaultValue:z,required:!0}),p.jsx("span",{children:"Username"})]}),p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{onChange:J=>{O(J.target.value)},defaultValue:g,required:!0}),p.jsx("span",{children:"Email"})]}),p.jsxs("div",{className:"inputBox",children:[p.jsx("textarea",{onChange:J=>{x(J.target.value)},defaultValue:S,required:!0,maxLength:100}),p.jsxs("p",{className:"letter-counter",children:[M?M.length:S==null?void 0:S.length,"/100"]}),p.jsx("span",{children:"Bio"})]}),h?p.jsx("button",{children:p.jsx("i",{className:"fa fa-spinner fa-spin"})}):p.jsx("button",{onClick:()=>{d(!0)},children:"update"})]}),p.jsxs("div",{className:"op",children:[p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{onChange:J=>{_(J.target.value)},defaultValue:C,required:!0}),p.jsx("span",{children:"Messenger link"})]}),p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{onChange:J=>{X(J.target.value)},defaultValue:F,required:!0}),p.jsx("span",{children:"Instagram link"})]}),p.jsxs("div",{className:"inputBox",children:[p.jsx("input",{type:"text",onChange:J=>{I(J.target.value)},defaultValue:U=="Not available"?"00000000":U,pattern:"\\d+",minLength:8,maxLength:"8",required:!0}),p.jsx("span",{children:"Phone number"})]}),p.jsxs("div",{className:"inputBox",children:[p.jsx("textarea",{onChange:J=>{Q(J.target.value)},defaultValue:P,required:!0,maxLength:600}),p.jsxs("p",{className:"letter-counter",children:[K?K.length:P==null?void 0:P.length,"/600"]}),p.jsx("span",{children:"description"})]})]})]})]})}function q6(){return p.jsx("div",{children:p.jsxs(i5,{children:[p.jsx(l5,{}),p.jsxs(TP,{children:[p.jsx(jr,{path:"/",element:p.jsx(c5,{})}),p.jsx(jr,{path:"/about",element:p.jsx(H6,{})}),p.jsx(jr,{path:"/settings",element:p.jsx(Dp,{children:p.jsx(W6,{})})}),p.jsx(jr,{path:"/profile",element:p.jsx(Dp,{children:p.jsx(j6,{})})}),p.jsx(jr,{path:"/users/:id",element:p.jsx(U6,{})}),p.jsx(jr,{path:"/notifications",element:p.jsx(Dp,{children:p.jsx(G6,{})})}),p.jsx(jr,{path:"/signin",element:p.jsx(Ox,{children:p.jsx($6,{})})}),p.jsx(jr,{path:"/signup",element:p.jsx(Ox,{children:p.jsx(F6,{})})}),p.jsx(jr,{path:"*",element:p.jsx(B6,{})})]})]})})}$p.createRoot(document.getElementById("root")).render(p.jsx(Zt.StrictMode,{children:p.jsx(PP,{children:p.jsx(q6,{})})}));
